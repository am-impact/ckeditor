/*! For license information please see ckeditor.js.LICENSE.txt */
!(function () {
  'use strict';
  var e = {
      8942: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}',
          '',
        ]),
          (t.Z = s);
      },
      1974: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}',
          '',
        ]),
          (t.Z = s);
      },
      2326: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}',
          '',
        ]),
          (t.Z = s);
      },
      7102: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck-content pre{background:hsla(0,0%,78%,.3);border:1px solid #c4c4c4;border-radius:2px;color:#353535;direction:ltr;font-style:normal;min-width:200px;padding:1em;tab-size:4;text-align:left;white-space:pre-wrap}.ck-content pre code{background:unset;border-radius:0;padding:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}:root{--ck-color-code-block-label-background:#757575}.ck.ck-editor__editable pre[data-language]:after{background:var(--ck-color-code-block-label-background);color:#fff;font-family:var(--ck-font-face);font-size:10px;line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);right:10px;top:-1px;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}',
          '',
        ]),
          (t.Z = s);
      },
      6086: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}',
          '',
        ]),
          (t.Z = s);
      },
      3496: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}',
          '',
        ]),
          (t.Z = s);
      },
      6506: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}',
          '',
        ]),
          (t.Z = s);
      },
      819: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck-find-result{background:var(--ck-color-highlight-background);color:var(--ck-color-text)}.ck-find-result_selected{background:#ff9633}',
          '',
        ]),
          (t.Z = s);
      },
      2523: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-find-and-replace-form{max-width:100%}.ck.ck-find-and-replace-form fieldset{display:flex}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{position:absolute}.ck.ck-find-and-replace-form{width:400px}.ck.ck-find-and-replace-form:focus{outline:none}.ck.ck-find-and-replace-form fieldset{align-content:stretch;align-items:center;border:0;flex-direction:row;flex-wrap:nowrap;margin:0;padding:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset>.ck-button{flex:0 0 auto}[dir=ltr] .ck.ck-find-and-replace-form fieldset>*+*{margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form fieldset>*+*{margin-right:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form fieldset .ck-labeled-field-view{flex:1 1 auto}.ck.ck-find-and-replace-form fieldset .ck-labeled-field-view .ck-input{min-width:50px;width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find{align-items:flex-start}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-find{font-weight:700}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-find .ck-button__label{padding-left:var(--ck-spacing-large);padding-right:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-prev>.ck-icon{transform:rotate(90deg)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-next>.ck-icon{transform:rotate(-90deg)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{left:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{color:var(--ck-color-base-border)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace{flex-wrap:wrap;justify-content:flex-end;margin-top:calc(var(--ck-spacing-large)*-1)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view{margin-bottom:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-options-dropdown{margin-left:0;margin-right:auto}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view,.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view .ck-input{width:100%}@media screen and (max-width:600px){.ck.ck-find-and-replace-form{width:300px}.ck.ck-find-and-replace-form fieldset{flex-wrap:wrap}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-labeled-field-view{flex:1 0 auto;margin-bottom:var(--ck-spacing-standard);width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button{text-align:center}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{flex:1 1 auto}[dir=ltr] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{margin-left:0}[dir=rtl] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{margin-right:0}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type .ck-button__label{text-align:center;width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>:not(.ck-labeled-field-view){flex:1 1 auto}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-dropdown:not(.ck-labeled-field-view){flex-grow:0}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-button:not(.ck-labeled-field-view)>.ck-button__label{text-align:center;width:100%}}',
          '',
        ]),
          (t.Z = s);
      },
      2782: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}',
          '',
        ]),
          (t.Z = s);
      },
      1243: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{background:#dedede;border:0;height:4px;margin:15px 0}',
          '',
        ]),
          (t.Z = s);
      },
      7106: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck-widget.raw-html-embed{display:flow-root;font-style:normal;margin:.9em auto;min-width:15em;position:relative}.ck-widget.raw-html-embed:before{position:absolute;z-index:1}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{display:flex;flex-direction:column;position:absolute}.ck-widget.raw-html-embed .raw-html-embed__preview{display:flex;overflow:hidden;position:relative}.ck-widget.raw-html-embed .raw-html-embed__preview-content{border-collapse:separate;border-spacing:7px;display:table;margin:auto;position:relative;width:100%}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}:root{--ck-html-embed-content-width:calc(100% - var(--ck-icon-size)*1.5);--ck-html-embed-source-height:10em;--ck-html-embed-unfocused-outline-width:1px;--ck-html-embed-content-min-height:calc(var(--ck-icon-size) + var(--ck-spacing-standard));--ck-html-embed-source-disabled-background:var(--ck-color-base-foreground);--ck-html-embed-source-disabled-color:#737373}.ck-widget.raw-html-embed{background-color:var(--ck-color-base-foreground);font-size:var(--ck-font-size-base)}.ck-widget.raw-html-embed:not(.ck-widget_selected):not(:hover){outline:var(--ck-html-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border)}.ck-widget.raw-html-embed[dir=ltr]{text-align:left}.ck-widget.raw-html-embed[dir=rtl]{text-align:right}.ck-widget.raw-html-embed:before{background:#999;border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius);color:var(--ck-color-base-background);content:attr(data-html-embed-label);font-family:var(--ck-font-face);font-size:var(--ck-font-size-tiny);left:var(--ck-spacing-standard);padding:calc(var(--ck-spacing-tiny) + var(--ck-html-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);top:calc(var(--ck-html-embed-unfocused-outline-width)*-1);transition:background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck-widget.raw-html-embed[dir=rtl]:before{left:auto;right:var(--ck-spacing-standard)}.ck-widget.raw-html-embed[dir=ltr] .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before{margin-left:50px}.ck.ck-editor__editable.ck-blurred .ck-widget.raw-html-embed.ck-widget_selected:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable:not(.ck-blurred) .ck-widget.raw-html-embed.ck-widget_selected:before{background:var(--ck-color-focus-border);padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable .ck-widget.raw-html-embed:not(.ck-widget_selected):hover:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck-widget.raw-html-embed .raw-html-embed__content-wrapper{padding:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{right:var(--ck-spacing-standard);top:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__save-button{color:var(--ck-color-button-save)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__cancel-button{color:var(--ck-color-button-cancel)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button:not(:first-child){margin-top:var(--ck-spacing-small)}.ck-widget.raw-html-embed[dir=rtl] .raw-html-embed__buttons-wrapper{left:var(--ck-spacing-standard);right:auto}.ck-widget.raw-html-embed .raw-html-embed__source{box-sizing:border-box;direction:ltr;font-family:monospace;font-size:var(--ck-font-size-base);height:var(--ck-html-embed-source-height);min-width:0;padding:var(--ck-spacing-standard);resize:none;tab-size:4;text-align:left;white-space:pre-wrap;width:var(--ck-html-embed-content-width)}.ck-widget.raw-html-embed .raw-html-embed__source[disabled]{-webkit-text-fill-color:var(--ck-html-embed-source-disabled-color);background:var(--ck-html-embed-source-disabled-background);color:var(--ck-html-embed-source-disabled-color);opacity:1}.ck-widget.raw-html-embed .raw-html-embed__preview{min-height:var(--ck-html-embed-content-min-height);width:var(--ck-html-embed-content-width)}.ck-editor__editable:not(.ck-read-only) .ck-widget.raw-html-embed .raw-html-embed__preview{pointer-events:none}.ck-widget.raw-html-embed .raw-html-embed__preview-content{background-color:var(--ck-color-base-foreground);box-sizing:border-box}.ck-widget.raw-html-embed .raw-html-embed__preview-content>*{margin-left:auto;margin-right:auto}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{color:var(--ck-html-embed-source-disabled-color)}',
          '',
        ]),
          (t.Z = s);
      },
      7003: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          ':root{--ck-html-object-embed-unfocused-outline-width:1px}.ck-widget.html-object-embed{background-color:var(--ck-color-base-foreground);font-size:var(--ck-font-size-base);min-width:calc(76px + var(--ck-spacing-standard));padding:var(--ck-spacing-small);padding-top:calc(var(--ck-font-size-tiny) + var(--ck-spacing-large))}.ck-widget.html-object-embed:not(.ck-widget_selected):not(:hover){outline:var(--ck-html-object-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border)}.ck-widget.html-object-embed:before{background:#999;border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius);color:var(--ck-color-base-background);content:attr(data-html-object-embed-label);font-family:var(--ck-font-face);font-size:var(--ck-font-size-tiny);font-style:normal;font-weight:400;left:var(--ck-spacing-standard);padding:calc(var(--ck-spacing-tiny) + var(--ck-html-object-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);position:absolute;top:0;transition:background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck-widget.html-object-embed .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before{margin-left:50px}.ck-widget.html-object-embed .html-object-embed__content{pointer-events:none}div.ck-widget.html-object-embed{margin:1em auto}span.ck-widget.html-object-embed{display:inline-block}',
          '',
        ]),
          (t.Z = s);
      },
      9505: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}',
          '',
        ]),
          (t.Z = s);
      },
      6353: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          ':root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}',
          '',
        ]),
          (t.Z = s);
      },
      444: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}',
          '',
        ]),
          (t.Z = s);
      },
      1618: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}',
          '',
        ]),
          (t.Z = s);
      },
      786: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}',
          '',
        ]),
          (t.Z = s);
      },
      1862: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          ':root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}',
          '',
        ]),
          (t.Z = s);
      },
      232: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',
          '',
        ]),
          (t.Z = s);
      },
      8682: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',
          '',
        ]),
          (t.Z = s);
      },
      5007: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}',
          '',
        ]),
          (t.Z = s);
      },
      6443: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}',
          '',
        ]),
          (t.Z = s);
      },
      2148: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}',
          '',
        ]),
          (t.Z = s);
      },
      2182: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child){margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}',
          '',
        ]),
          (t.Z = s);
      },
      9879: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}',
          '',
        ]),
          (t.Z = s);
      },
      5348: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r),
          a = i(8079),
          l = i.n(a),
          c = new URL(i(8491), i.b),
          d = s()(o()),
          u = l()(c);
        d.push([
          e.id,
          '.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url(' +
            u +
            ');background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',
          '',
        ]),
          (t.Z = d);
      },
      9873: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:0 var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}',
          '',
        ]),
          (t.Z = s);
      },
      9373: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck-editor__editable .ck-list-bogus-paragraph{display:block}',
          '',
        ]),
          (t.Z = s);
      },
      5079: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}',
          '',
        ]),
          (t.Z = s);
      },
      9240: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}',
          '',
        ]),
          (t.Z = s);
      },
      4102: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}',
          '',
        ]),
          (t.Z = s);
      },
      9515: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          ':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out,background .25s ease-in-out,border .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable .todo-list .todo-list__label>input{cursor:pointer}.ck-editor__editable .todo-list .todo-list__label>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}',
          '',
        ]),
          (t.Z = s);
      },
      1589: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}',
          '',
        ]),
          (t.Z = s);
      },
      2466: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r),
          a = i(8079),
          l = i.n(a),
          c = new URL(i(4493), i.b),
          d = new URL(i(2739), i.b),
          u = new URL(i(6631), i.b),
          h = new URL(i(7511), i.b),
          m = s()(o()),
          g = l()(c),
          f = l()(d),
          p = l()(u),
          b = l()(h);
        m.push([
          e.id,
          '.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder){pointer-events:none}.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(' +
            g +
            ')}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(' +
            f +
            ')}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(' +
            p +
            ')}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(' +
            b +
            ')}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',
          '',
        ]),
          (t.Z = m);
      },
      4508: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}',
          '',
        ]),
          (t.Z = s);
      },
      6467: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck-content .page-break{align-items:center;clear:both;display:flex;justify-content:center;padding:5px 0;position:relative}.ck-content .page-break:after{border-bottom:2px dashed #c4c4c4;content:"";position:absolute;width:100%}.ck-content .page-break__label{background:#fff;border:1px solid #c4c4c4;border-radius:2px;box-shadow:2px 2px 1px rgba(0,0,0,.15);color:#333;display:block;font-family:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;font-size:.75em;font-weight:700;padding:.3em .6em;position:relative;text-transform:uppercase;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1}@media print{.ck-content .page-break{padding:0}.ck-content .page-break:after{display:none}}',
          '',
        ]),
          (t.Z = s);
      },
      7575: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck-source-editing-area{overflow:hidden;position:relative}.ck-source-editing-area textarea,.ck-source-editing-area:after{border:1px solid transparent;font-family:monospace;font-size:var(--ck-font-size-normal);line-height:var(--ck-line-height-base);margin:0;padding:var(--ck-spacing-large);white-space:pre-wrap}.ck-source-editing-area:after{content:attr(data-value) " ";display:block;visibility:hidden}.ck-source-editing-area textarea{border-color:var(--ck-color-base-border);border-radius:0;box-sizing:border-box;height:100%;outline:none;overflow:hidden;position:absolute;resize:none;width:100%}.ck-rounded-corners .ck-source-editing-area textarea,.ck-source-editing-area textarea.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck-source-editing-area textarea:not([readonly]):focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}',
          '',
        ]),
          (t.Z = s);
      },
      4849: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-dropdown.ck-style-dropdown.ck-style-dropdown_multiple-active>.ck-button>.ck-button__label{font-style:italic}',
          '',
        ]),
          (t.Z = s);
      },
      3338: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          ':root{--ck-style-panel-columns:3}.ck.ck-style-panel .ck-style-grid{display:grid;grid-template-columns:repeat(var(--ck-style-panel-columns),auto);justify-content:start}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button{display:flex;flex-direction:column;justify-content:space-between}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button .ck-style-grid__button__preview{align-content:center;align-items:center;display:flex;flex-basis:100%;flex-grow:1;justify-content:flex-start}:root{--ck-style-panel-button-width:120px;--ck-style-panel-button-height:80px;--ck-style-panel-button-label-background:#f0f0f0;--ck-style-panel-button-hover-label-background:#ebebeb;--ck-style-panel-button-hover-border-color:#b3b3b3}.ck.ck-style-panel .ck-style-grid{column-gap:var(--ck-spacing-large);row-gap:var(--ck-spacing-large)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button{--ck-color-button-default-hover-background:var(--ck-color-base-background);--ck-color-button-default-active-background:var(--ck-color-base-background);height:var(--ck-style-panel-button-height);padding:0;width:var(--ck-style-panel-button-width)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button .ck-button__label{flex-shrink:0;height:22px;line-height:22px;overflow:hidden;padding:0 var(--ck-spacing-medium);text-overflow:ellipsis;width:100%}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button .ck-style-grid__button__preview{background:var(--ck-color-base-background);border:2px solid var(--ck-color-base-background);opacity:.9;overflow:hidden;padding:var(--ck-spacing-medium);width:100%}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-disabled{--ck-color-button-default-disabled-background:var(--ck-color-base-foreground)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-disabled:not(:focus){border-color:var(--ck-style-panel-button-label-background)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-disabled .ck-style-grid__button__preview{border-color:var(--ck-color-base-foreground);filter:saturate(.3);opacity:.4}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-on{border-color:var(--ck-color-base-active)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-on .ck-button__label{box-shadow:0 -1px 0 var(--ck-color-base-active);z-index:1}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-on:hover{border-color:var(--ck-color-base-active-focus)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:not(.ck-on) .ck-button__label{background:var(--ck-style-panel-button-label-background)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:not(.ck-on):hover .ck-button__label{background:var(--ck-style-panel-button-hover-label-background)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:hover:not(.ck-disabled):not(.ck-on){border-color:var(--ck-style-panel-button-hover-border-color)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:hover:not(.ck-disabled):not(.ck-on) .ck-style-grid__button__preview{opacity:1}',
          '',
        ]),
          (t.Z = s);
      },
      5931: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-style-panel .ck-style-panel__style-group>.ck-label{margin:var(--ck-spacing-large) 0}.ck.ck-style-panel .ck-style-panel__style-group:first-child>.ck-label{margin-top:0}',
          '',
        ]),
          (t.Z = s);
      },
      2683: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          ':root{--ck-style-panel-max-height:470px}.ck.ck-style-panel{max-height:var(--ck-style-panel-max-height);overflow-y:auto;padding:var(--ck-spacing-large)}',
          '',
        ]),
          (t.Z = s);
      },
      645: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}',
          '',
        ]),
          (t.Z = s);
      },
      2385: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}',
          '',
        ]),
          (t.Z = s);
      },
      3105: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}',
          '',
        ]),
          (t.Z = s);
      },
      6285: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}',
          '',
        ]),
          (t.Z = s);
      },
      9885: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}',
          '',
        ]),
          (t.Z = s);
      },
      4216: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          ':root{--ck-color-table-caption-background:#f7f7f7;--ck-color-table-caption-text:#333;--ck-color-table-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-table-caption-background);caption-side:top;color:var(--ck-color-table-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-table-caption-highlighted-background)}to{background-color:var(--ck-color-table-caption-background)}}',
          '',
        ]),
          (t.Z = s);
      },
      2168: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}',
          '',
        ]),
          (t.Z = s);
      },
      8534: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          ':root{--ck-color-table-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:-999999px;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:-999999px;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-table-column-resizer-hover);opacity:.25}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}',
          '',
        ]),
          (t.Z = s);
      },
      1217: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          ':root{--ck-color-table-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}',
          '',
        ]),
          (t.Z = s);
      },
      1341: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',
          '',
        ]),
          (t.Z = s);
      },
      31: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}',
          '',
        ]),
          (t.Z = s);
      },
      3908: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          ':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',
          '',
        ]),
          (t.Z = s);
      },
      1038: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}',
          '',
        ]),
          (t.Z = s);
      },
      7297: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}',
          '',
        ]),
          (t.Z = s);
      },
      3064: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}',
          '',
        ]),
          (t.Z = s);
      },
      6388: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          ':root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}',
          '',
        ]),
          (t.Z = s);
      },
      5677: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}',
          '',
        ]),
          (t.Z = s);
      },
      8587: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',
          '',
        ]),
          (t.Z = s);
      },
      713: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          ':root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}',
          '',
        ]),
          (t.Z = s);
      },
      7851: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          ':root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}',
          '',
        ]),
          (t.Z = s);
      },
      3641: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}',
          '',
        ]),
          (t.Z = s);
      },
      8931: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}',
          '',
        ]),
          (t.Z = s);
      },
      9625: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          ':root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}',
          '',
        ]),
          (t.Z = s);
      },
      3993: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}',
          '',
        ]),
          (t.Z = s);
      },
      13: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}',
          '',
        ]),
          (t.Z = s);
      },
      2813: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}',
          '',
        ]),
          (t.Z = s);
      },
      4977: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          ':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',
          '',
        ]),
          (t.Z = s);
      },
      1869: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}',
          '',
        ]),
          (t.Z = s);
      },
      9186: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}',
          '',
        ]),
          (t.Z = s);
      },
      9878: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}',
          '',
        ]),
          (t.Z = s);
      },
      3494: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child){margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',
          '',
        ]),
          (t.Z = s);
      },
      146: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}',
          '',
        ]),
          (t.Z = s);
      },
      993: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}',
          '',
        ]),
          (t.Z = s);
      },
      7591: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}',
          '',
        ]),
          (t.Z = s);
      },
      708: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0}:root{--ck-disabled-opacity:.5}:root{--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border)}:root{--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em}:root{--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px}:root{--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active)}:root{--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}',
          '',
        ]),
          (t.Z = s);
      },
      1053: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          ':root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}',
          '',
        ]),
          (t.Z = s);
      },
      8893: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}',
          '',
        ]),
          (t.Z = s);
      },
      6548: function (e, t, i) {
        var n = i(788),
          o = i.n(n),
          r = i(9070),
          s = i.n(r)()(o());
        s.push([
          e.id,
          '.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',
          '',
        ]),
          (t.Z = s);
      },
      9070: function (e) {
        e.exports = function (e) {
          var t = [];
          return (
            (t.toString = function () {
              return this.map(function (t) {
                var i = '',
                  n = void 0 !== t[5];
                return (
                  t[4] && (i += '@supports ('.concat(t[4], ') {')),
                  t[2] && (i += '@media '.concat(t[2], ' {')),
                  n &&
                    (i += '@layer'.concat(
                      t[5].length > 0 ? ' '.concat(t[5]) : '',
                      ' {'
                    )),
                  (i += e(t)),
                  n && (i += '}'),
                  t[2] && (i += '}'),
                  t[4] && (i += '}'),
                  i
                );
              }).join('');
            }),
            (t.i = function (e, i, n, o, r) {
              'string' == typeof e && (e = [[null, e, void 0]]);
              var s = {};
              if (n)
                for (var a = 0; a < this.length; a++) {
                  var l = this[a][0];
                  null != l && (s[l] = !0);
                }
              for (var c = 0; c < e.length; c++) {
                var d = [].concat(e[c]);
                (n && s[d[0]]) ||
                  (void 0 !== r &&
                    (void 0 === d[5] ||
                      (d[1] = '@layer'
                        .concat(d[5].length > 0 ? ' '.concat(d[5]) : '', ' {')
                        .concat(d[1], '}')),
                    (d[5] = r)),
                  i &&
                    (d[2]
                      ? ((d[1] = '@media '
                          .concat(d[2], ' {')
                          .concat(d[1], '}')),
                        (d[2] = i))
                      : (d[2] = i)),
                  o &&
                    (d[4]
                      ? ((d[1] = '@supports ('
                          .concat(d[4], ') {')
                          .concat(d[1], '}')),
                        (d[4] = o))
                      : (d[4] = ''.concat(o))),
                  t.push(d));
              }
            }),
            t
          );
        };
      },
      8079: function (e) {
        e.exports = function (e, t) {
          return (
            t || (t = {}),
            e
              ? ((e = String(e.__esModule ? e.default : e)),
                /^['"].*['"]$/.test(e) && (e = e.slice(1, -1)),
                t.hash && (e += t.hash),
                /["'() \t\n]|(%20)/.test(e) || t.needQuotes
                  ? '"'.concat(
                      e.replace(/"/g, '\\"').replace(/\n/g, '\\n'),
                      '"'
                    )
                  : e)
              : e
          );
        };
      },
      788: function (e) {
        e.exports = function (e) {
          return e[1];
        };
      },
      4191: function (e) {
        var t = [];
        function i(e) {
          for (var i = -1, n = 0; n < t.length; n++)
            if (t[n].identifier === e) {
              i = n;
              break;
            }
          return i;
        }
        function n(e, n) {
          for (var r = {}, s = [], a = 0; a < e.length; a++) {
            var l = e[a],
              c = n.base ? l[0] + n.base : l[0],
              d = r[c] || 0,
              u = ''.concat(c, ' ').concat(d);
            r[c] = d + 1;
            var h = i(u),
              m = {
                css: l[1],
                media: l[2],
                sourceMap: l[3],
                supports: l[4],
                layer: l[5],
              };
            if (-1 !== h) t[h].references++, t[h].updater(m);
            else {
              var g = o(m, n);
              (n.byIndex = a),
                t.splice(a, 0, {identifier: u, updater: g, references: 1});
            }
            s.push(u);
          }
          return s;
        }
        function o(e, t) {
          var i = t.domAPI(t);
          return (
            i.update(e),
            function (t) {
              if (t) {
                if (
                  t.css === e.css &&
                  t.media === e.media &&
                  t.sourceMap === e.sourceMap &&
                  t.supports === e.supports &&
                  t.layer === e.layer
                )
                  return;
                i.update((e = t));
              } else i.remove();
            }
          );
        }
        e.exports = function (e, o) {
          var r = n((e = e || []), (o = o || {}));
          return function (e) {
            e = e || [];
            for (var s = 0; s < r.length; s++) {
              var a = i(r[s]);
              t[a].references--;
            }
            for (var l = n(e, o), c = 0; c < r.length; c++) {
              var d = i(r[c]);
              0 === t[d].references && (t[d].updater(), t.splice(d, 1));
            }
            r = l;
          };
        };
      },
      7532: function (e) {
        var t = {};
        e.exports = function (e, i) {
          var n = (function (e) {
            if (void 0 === t[e]) {
              var i = document.querySelector(e);
              if (
                window.HTMLIFrameElement &&
                i instanceof window.HTMLIFrameElement
              )
                try {
                  i = i.contentDocument.head;
                } catch (e) {
                  i = null;
                }
              t[e] = i;
            }
            return t[e];
          })(e);
          if (!n)
            throw new Error(
              "Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid."
            );
          n.appendChild(i);
        };
      },
      8102: function (e) {
        e.exports = function (e) {
          var t = document.createElement('style');
          return e.setAttributes(t, e.attributes), e.insert(t, e.options), t;
        };
      },
      1120: function (e) {
        e.exports = function (e, t) {
          Object.keys(t).forEach(function (i) {
            e.setAttribute(i, t[i]);
          });
        };
      },
      1208: function (e) {
        var t,
          i =
            ((t = []),
            function (e, i) {
              return (t[e] = i), t.filter(Boolean).join('\n');
            });
        function n(e, t, n, o) {
          var r;
          if (n) r = '';
          else {
            (r = ''),
              o.supports && (r += '@supports ('.concat(o.supports, ') {')),
              o.media && (r += '@media '.concat(o.media, ' {'));
            var s = void 0 !== o.layer;
            s &&
              (r += '@layer'.concat(
                o.layer.length > 0 ? ' '.concat(o.layer) : '',
                ' {'
              )),
              (r += o.css),
              s && (r += '}'),
              o.media && (r += '}'),
              o.supports && (r += '}');
          }
          if (e.styleSheet) e.styleSheet.cssText = i(t, r);
          else {
            var a = document.createTextNode(r),
              l = e.childNodes;
            l[t] && e.removeChild(l[t]),
              l.length ? e.insertBefore(a, l[t]) : e.appendChild(a);
          }
        }
        var o = {singleton: null, singletonCounter: 0};
        e.exports = function (e) {
          if ('undefined' == typeof document)
            return {update: function () {}, remove: function () {}};
          var t = o.singletonCounter++,
            i = o.singleton || (o.singleton = e.insertStyleElement(e));
          return {
            update: function (e) {
              n(i, t, !1, e);
            },
            remove: function (e) {
              n(i, t, !0, e);
            },
          };
        };
      },
      8491: function (e) {
        e.exports =
          'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+';
      },
      2739: function (e) {
        e.exports =
          'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=';
      },
      6631: function (e) {
        e.exports =
          'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==';
      },
      7511: function (e) {
        e.exports =
          'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=';
      },
      4493: function (e) {
        e.exports =
          'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=';
      },
    },
    t = {};
  function i(n) {
    var o = t[n];
    if (void 0 !== o) return o.exports;
    var r = (t[n] = {id: n, exports: {}});
    return e[n](r, r.exports, i), r.exports;
  }
  (i.m = e),
    (i.n = function (e) {
      var t =
        e && e.__esModule
          ? function () {
              return e.default;
            }
          : function () {
              return e;
            };
      return i.d(t, {a: t}), t;
    }),
    (i.d = function (e, t) {
      for (var n in t)
        i.o(t, n) &&
          !i.o(e, n) &&
          Object.defineProperty(e, n, {enumerable: !0, get: t[n]});
    }),
    (i.g = (function () {
      if ('object' == typeof globalThis) return globalThis;
      try {
        return this || new Function('return this')();
      } catch (e) {
        if ('object' == typeof window) return window;
      }
    })()),
    (i.o = function (e, t) {
      return Object.prototype.hasOwnProperty.call(e, t);
    }),
    (i.b = document.baseURI || self.location.href),
    (function () {
      const e = (function () {
          try {
            return navigator.userAgent.toLowerCase();
          } catch (e) {
            return '';
          }
        })(),
        t = {
          isMac: o(e),
          isWindows: (function (e) {
            return e.indexOf('windows') > -1;
          })(e),
          isGecko: (function (e) {
            return !!e.match(/gecko\/\d+/);
          })(e),
          isSafari: (function (e) {
            return (
              e.indexOf(' applewebkit/') > -1 && -1 === e.indexOf('chrome')
            );
          })(e),
          isiOS: (function (e) {
            return (
              !!e.match(/iphone|ipad/i) ||
              (o(e) && navigator.maxTouchPoints > 0)
            );
          })(e),
          isAndroid: (function (e) {
            return e.indexOf('android') > -1;
          })(e),
          isBlink: (function (e) {
            return e.indexOf('chrome/') > -1 && e.indexOf('edge/') < 0;
          })(e),
          features: {
            isRegExpUnicodePropertySupported: (function () {
              let e = !1;
              try {
                e = 0 === 'ć'.search(new RegExp('[\\p{L}]', 'u'));
              } catch (e) {}
              return e;
            })(),
          },
        };
      var n = t;
      function o(e) {
        return e.indexOf('macintosh') > -1;
      }
      function r(e, t, i, n) {
        i =
          i ||
          function (e, t) {
            return e === t;
          };
        const o = Array.isArray(e) ? e : Array.prototype.slice.call(e),
          r = Array.isArray(t) ? t : Array.prototype.slice.call(t),
          l = (function (e, t, i) {
            const n = s(e, t, i);
            if (-1 === n)
              return {firstIndex: -1, lastIndexOld: -1, lastIndexNew: -1};
            const o = s(a(e, n), a(t, n), i);
            return {
              firstIndex: n,
              lastIndexOld: e.length - o,
              lastIndexNew: t.length - o,
            };
          })(o, r, i),
          c = n
            ? (function (e, t) {
                const {firstIndex: i, lastIndexOld: n, lastIndexNew: o} = e;
                if (-1 === i) return Array(t).fill('equal');
                let r = [];
                return (
                  i > 0 && (r = r.concat(Array(i).fill('equal'))),
                  o - i > 0 && (r = r.concat(Array(o - i).fill('insert'))),
                  n - i > 0 && (r = r.concat(Array(n - i).fill('delete'))),
                  o < t && (r = r.concat(Array(t - o).fill('equal'))),
                  r
                );
              })(l, r.length)
            : (function (e, t) {
                const i = [],
                  {firstIndex: n, lastIndexOld: o, lastIndexNew: r} = t;
                return (
                  r - n > 0 &&
                    i.push({index: n, type: 'insert', values: e.slice(n, r)}),
                  o - n > 0 &&
                    i.push({
                      index: n + (r - n),
                      type: 'delete',
                      howMany: o - n,
                    }),
                  i
                );
              })(r, l);
        return c;
      }
      function s(e, t, i) {
        for (let n = 0; n < Math.max(e.length, t.length); n++)
          if (void 0 === e[n] || void 0 === t[n] || !i(e[n], t[n])) return n;
        return -1;
      }
      function a(e, t) {
        return e.slice(t).reverse();
      }
      function l(e, t, i) {
        i =
          i ||
          function (e, t) {
            return e === t;
          };
        const n = e.length,
          o = t.length;
        if (n > 200 || o > 200 || n + o > 300) return l.fastDiff(e, t, i, !0);
        let r, s;
        if (o < n) {
          const i = e;
          (e = t), (t = i), (r = 'delete'), (s = 'insert');
        } else (r = 'insert'), (s = 'delete');
        const a = e.length,
          c = t.length,
          d = c - a,
          u = {},
          h = {};
        function m(n) {
          const o = (void 0 !== h[n - 1] ? h[n - 1] : -1) + 1,
            l = void 0 !== h[n + 1] ? h[n + 1] : -1,
            d = o > l ? -1 : 1;
          u[n + d] && (u[n] = u[n + d].slice(0)),
            u[n] || (u[n] = []),
            u[n].push(o > l ? r : s);
          let m = Math.max(o, l),
            g = m - n;
          for (; g < a && m < c && i(e[g], t[m]); )
            g++, m++, u[n].push('equal');
          return m;
        }
        let g,
          f = 0;
        do {
          for (g = -f; g < d; g++) h[g] = m(g);
          for (g = d + f; g > d; g--) h[g] = m(g);
          (h[d] = m(d)), f++;
        } while (h[d] !== c);
        return u[d].slice(1);
      }
      l.fastDiff = r;
      class c {
        constructor(e, t) {
          (this.source = e),
            (this.name = t),
            (this.path = []),
            (this.stop = function e() {
              e.called = !0;
            }),
            (this.off = function e() {
              e.called = !0;
            });
        }
      }
      const d = new Array(256)
        .fill('')
        .map((e, t) => ('0' + t.toString(16)).slice(-2));
      function u() {
        const e = (4294967296 * Math.random()) >>> 0,
          t = (4294967296 * Math.random()) >>> 0,
          i = (4294967296 * Math.random()) >>> 0,
          n = (4294967296 * Math.random()) >>> 0;
        return (
          'e' +
          d[(e >> 0) & 255] +
          d[(e >> 8) & 255] +
          d[(e >> 16) & 255] +
          d[(e >> 24) & 255] +
          d[(t >> 0) & 255] +
          d[(t >> 8) & 255] +
          d[(t >> 16) & 255] +
          d[(t >> 24) & 255] +
          d[(i >> 0) & 255] +
          d[(i >> 8) & 255] +
          d[(i >> 16) & 255] +
          d[(i >> 24) & 255] +
          d[(n >> 0) & 255] +
          d[(n >> 8) & 255] +
          d[(n >> 16) & 255] +
          d[(n >> 24) & 255]
        );
      }
      var h = {
        get(e = 'normal') {
          return 'number' != typeof e ? this[e] || this.normal : e;
        },
        highest: 1e5,
        high: 1e3,
        normal: 0,
        low: -1e3,
        lowest: -1e5,
      };
      function m(e, t) {
        const i = h.get(t.priority);
        for (let n = 0; n < e.length; n++)
          if (h.get(e[n].priority) < i) return void e.splice(n, 0, t);
        e.push(t);
      }
      const g =
        'https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html';
      class f extends Error {
        constructor(e, t, i) {
          super(
            (function (e, t) {
              const i = new WeakSet();
              return (
                e +
                (t
                  ? ` ${JSON.stringify(t, (e, t) => {
                      if ('object' == typeof t && null !== t) {
                        if (i.has(t)) return `[object ${t.constructor.name}]`;
                        i.add(t);
                      }
                      return t;
                    })}`
                  : '') +
                b(e)
              );
            })(e, i)
          ),
            (this.name = 'CKEditorError'),
            (this.context = t),
            (this.data = i);
        }
        is(e) {
          return 'CKEditorError' === e;
        }
        static rethrowUnexpectedError(e, t) {
          if (e.is && e.is('CKEditorError')) throw e;
          const i = new f(e.message, t);
          throw ((i.stack = e.stack), i);
        }
      }
      function p(e, t) {
        console.warn(
          ...(function (e, t) {
            const i = b(e);
            return t ? [e, t, i] : [e, i];
          })(e, t)
        );
      }
      function b(e) {
        return `\nRead more: ${g}#error-${e}`;
      }
      const k = 'object' == typeof window ? window : i.g;
      if (k.CKEDITOR_VERSION) throw new f('ckeditor-duplicated-modules', null);
      k.CKEDITOR_VERSION = '37.0.1';
      const w = Symbol('listeningTo'),
        _ = Symbol('emitterId'),
        v = Symbol('delegations'),
        y = x(Object);
      function x(e) {
        return e
          ? class extends e {
              on(e, t, i) {
                this.listenTo(this, e, t, i);
              }
              once(e, t, i) {
                let n = !1;
                this.listenTo(
                  this,
                  e,
                  (e, ...i) => {
                    n || ((n = !0), e.off(), t.call(this, e, ...i));
                  },
                  i
                );
              }
              off(e, t) {
                this.stopListening(this, e, t);
              }
              listenTo(e, t, i, n = {}) {
                let o, r;
                this[w] || (this[w] = {});
                const s = this[w];
                C(e) || A(e);
                const a = C(e);
                (o = s[a]) || (o = s[a] = {emitter: e, callbacks: {}}),
                  (r = o.callbacks[t]) || (r = o.callbacks[t] = []),
                  r.push(i),
                  (function (e, t, i, n, o) {
                    t._addEventListener
                      ? t._addEventListener(i, n, o)
                      : e._addEventListener.call(t, i, n, o);
                  })(this, e, t, i, n);
              }
              stopListening(e, t, i) {
                const n = this[w];
                let o = e && C(e);
                const r = n && o ? n[o] : void 0,
                  s = r && t ? r.callbacks[t] : void 0;
                if (!(!n || (e && !r) || (t && !s)))
                  if (i)
                    P(this, e, t, i),
                      -1 !== s.indexOf(i) &&
                        (1 === s.length
                          ? delete r.callbacks[t]
                          : P(this, e, t, i));
                  else if (s) {
                    for (; (i = s.pop()); ) P(this, e, t, i);
                    delete r.callbacks[t];
                  } else if (r) {
                    for (t in r.callbacks) this.stopListening(e, t);
                    delete n[o];
                  } else {
                    for (o in n) this.stopListening(n[o].emitter);
                    delete this[w];
                  }
              }
              fire(e, ...t) {
                try {
                  const i = e instanceof c ? e : new c(this, e),
                    n = i.name;
                  let o = S(this, n);
                  if ((i.path.push(this), o)) {
                    const e = [i, ...t];
                    o = Array.from(o);
                    for (
                      let t = 0;
                      t < o.length &&
                      (o[t].callback.apply(this, e),
                      i.off.called &&
                        (delete i.off.called,
                        this._removeEventListener(n, o[t].callback)),
                      !i.stop.called);
                      t++
                    );
                  }
                  const r = this[v];
                  if (r) {
                    const e = r.get(n),
                      o = r.get('*');
                    e && I(e, i, t), o && I(o, i, t);
                  }
                  return i.return;
                } catch (e) {
                  f.rethrowUnexpectedError(e, this);
                }
              }
              delegate(...e) {
                return {
                  to: (t, i) => {
                    this[v] || (this[v] = new Map()),
                      e.forEach((e) => {
                        const n = this[v].get(e);
                        n ? n.set(t, i) : this[v].set(e, new Map([[t, i]]));
                      });
                  },
                };
              }
              stopDelegating(e, t) {
                if (this[v])
                  if (e)
                    if (t) {
                      const i = this[v].get(e);
                      i && i.delete(t);
                    } else this[v].delete(e);
                  else this[v].clear();
              }
              _addEventListener(e, t, i) {
                !(function (e, t) {
                  const i = E(e);
                  if (i[t]) return;
                  let n = t,
                    o = null;
                  const r = [];
                  for (; '' !== n && !i[n]; )
                    (i[n] = {callbacks: [], childEvents: []}),
                      r.push(i[n]),
                      o && i[n].childEvents.push(o),
                      (o = n),
                      (n = n.substr(0, n.lastIndexOf(':')));
                  if ('' !== n) {
                    for (const e of r) e.callbacks = i[n].callbacks.slice();
                    i[n].childEvents.push(o);
                  }
                })(this, e);
                const n = T(this, e),
                  o = {callback: t, priority: h.get(i.priority)};
                for (const e of n) m(e, o);
              }
              _removeEventListener(e, t) {
                const i = T(this, e);
                for (const e of i)
                  for (let i = 0; i < e.length; i++)
                    e[i].callback == t && (e.splice(i, 1), i--);
              }
            }
          : y;
      }
      function A(e, t) {
        e[_] || (e[_] = t || u());
      }
      function C(e) {
        return e[_];
      }
      function E(e) {
        return (
          e._events || Object.defineProperty(e, '_events', {value: {}}),
          e._events
        );
      }
      function T(e, t) {
        const i = E(e)[t];
        if (!i) return [];
        let n = [i.callbacks];
        for (let t = 0; t < i.childEvents.length; t++) {
          const o = T(e, i.childEvents[t]);
          n = n.concat(o);
        }
        return n;
      }
      function S(e, t) {
        let i;
        return e._events && (i = e._events[t]) && i.callbacks.length
          ? i.callbacks
          : t.indexOf(':') > -1
          ? S(e, t.substr(0, t.lastIndexOf(':')))
          : null;
      }
      function I(e, t, i) {
        for (let [n, o] of e) {
          o ? 'function' == typeof o && (o = o(t.name)) : (o = t.name);
          const e = new c(t.source, o);
          (e.path = [...t.path]), n.fire(e, ...i);
        }
      }
      function P(e, t, i, n) {
        t._removeEventListener
          ? t._removeEventListener(i, n)
          : e._removeEventListener.call(t, i, n);
      }
      [
        'on',
        'once',
        'off',
        'listenTo',
        'stopListening',
        'fire',
        'delegate',
        'stopDelegating',
        '_addEventListener',
        '_removeEventListener',
      ].forEach((e) => {
        x[e] = y.prototype[e];
      });
      var M = function (e) {
        var t = typeof e;
        return null != e && ('object' == t || 'function' == t);
      };
      const R = Symbol('observableProperties'),
        N = Symbol('boundObservables'),
        O = Symbol('boundProperties'),
        D = Symbol('decoratedMethods'),
        V = Symbol('decoratedOriginal'),
        L = z(x());
      function z(e) {
        return e
          ? class extends e {
              set(e, t) {
                if (M(e))
                  return void Object.keys(e).forEach((t) => {
                    this.set(t, e[t]);
                  }, this);
                B(this);
                const i = this[R];
                if (e in this && !i.has(e))
                  throw new f('observable-set-cannot-override', this);
                Object.defineProperty(this, e, {
                  enumerable: !0,
                  configurable: !0,
                  get() {
                    return i.get(e);
                  },
                  set(t) {
                    const n = i.get(e);
                    let o = this.fire(`set:${e}`, e, t, n);
                    void 0 === o && (o = t),
                      (n === o && i.has(e)) ||
                        (i.set(e, o), this.fire(`change:${e}`, e, o, n));
                  },
                }),
                  (this[e] = t);
              }
              bind(...e) {
                if (!e.length || !H(e))
                  throw new f('observable-bind-wrong-properties', this);
                if (new Set(e).size !== e.length)
                  throw new f('observable-bind-duplicate-properties', this);
                B(this);
                const t = this[O];
                e.forEach((e) => {
                  if (t.has(e)) throw new f('observable-bind-rebind', this);
                });
                const i = new Map();
                return (
                  e.forEach((e) => {
                    const n = {property: e, to: []};
                    t.set(e, n), i.set(e, n);
                  }),
                  {
                    to: F,
                    toMany: j,
                    _observable: this,
                    _bindProperties: e,
                    _to: [],
                    _bindings: i,
                  }
                );
              }
              unbind(...e) {
                if (!this[R]) return;
                const t = this[O],
                  i = this[N];
                if (e.length) {
                  if (!H(e))
                    throw new f('observable-unbind-wrong-properties', this);
                  e.forEach((e) => {
                    const n = t.get(e);
                    n &&
                      (n.to.forEach(([e, t]) => {
                        const o = i.get(e),
                          r = o[t];
                        r.delete(n),
                          r.size || delete o[t],
                          Object.keys(o).length ||
                            (i.delete(e), this.stopListening(e, 'change'));
                      }),
                      t.delete(e));
                  });
                } else
                  i.forEach((e, t) => {
                    this.stopListening(t, 'change');
                  }),
                    i.clear(),
                    t.clear();
              }
              decorate(e) {
                B(this);
                const t = this[e];
                if (!t)
                  throw new f(
                    'observablemixin-cannot-decorate-undefined',
                    this,
                    {object: this, methodName: e}
                  );
                this.on(e, (e, i) => {
                  e.return = t.apply(this, i);
                }),
                  (this[e] = function (...t) {
                    return this.fire(e, t);
                  }),
                  (this[e][V] = t),
                  this[D] || (this[D] = []),
                  this[D].push(e);
              }
              stopListening(e, t, i) {
                if (!e && this[D]) {
                  for (const e of this[D]) this[e] = this[e][V];
                  delete this[D];
                }
                super.stopListening(e, t, i);
              }
            }
          : L;
      }
      function B(e) {
        e[R] ||
          (Object.defineProperty(e, R, {value: new Map()}),
          Object.defineProperty(e, N, {value: new Map()}),
          Object.defineProperty(e, O, {value: new Map()}));
      }
      function F(...e) {
        const t = (function (...e) {
            if (!e.length) throw new f('observable-bind-to-parse-error', null);
            const t = {to: []};
            let i;
            return (
              'function' == typeof e[e.length - 1] && (t.callback = e.pop()),
              e.forEach((e) => {
                if ('string' == typeof e) i.properties.push(e);
                else {
                  if ('object' != typeof e)
                    throw new f('observable-bind-to-parse-error', null);
                  (i = {observable: e, properties: []}), t.to.push(i);
                }
              }),
              t
            );
          })(...e),
          i = Array.from(this._bindings.keys()),
          n = i.length;
        if (!t.callback && t.to.length > 1)
          throw new f('observable-bind-to-no-callback', this);
        if (n > 1 && t.callback)
          throw new f('observable-bind-to-extra-callback', this);
        var o;
        t.to.forEach((e) => {
          if (e.properties.length && e.properties.length !== n)
            throw new f('observable-bind-to-properties-length', this);
          e.properties.length || (e.properties = this._bindProperties);
        }),
          (this._to = t.to),
          t.callback && (this._bindings.get(i[0]).callback = t.callback),
          (o = this._observable),
          this._to.forEach((e) => {
            const t = o[N];
            let i;
            t.get(e.observable) ||
              o.listenTo(e.observable, 'change', (n, r) => {
                (i = t.get(e.observable)[r]),
                  i &&
                    i.forEach((e) => {
                      $(o, e.property);
                    });
              });
          }),
          (function (e) {
            let t;
            e._bindings.forEach((i, n) => {
              e._to.forEach((o) => {
                (t =
                  o.properties[i.callback ? 0 : e._bindProperties.indexOf(n)]),
                  i.to.push([o.observable, t]),
                  (function (e, t, i, n) {
                    const o = e[N],
                      r = o.get(i),
                      s = r || {};
                    s[n] || (s[n] = new Set()), s[n].add(t), r || o.set(i, s);
                  })(e._observable, i, o.observable, t);
              });
            });
          })(this),
          this._bindProperties.forEach((e) => {
            $(this._observable, e);
          });
      }
      function j(e, t, i) {
        if (this._bindings.size > 1)
          throw new f('observable-bind-to-many-not-one-binding', this);
        this.to(
          ...(function (e, t) {
            const i = e.map((e) => [e, t]);
            return Array.prototype.concat.apply([], i);
          })(e, t),
          i
        );
      }
      function H(e) {
        return e.every((e) => 'string' == typeof e);
      }
      function $(e, t) {
        const i = e[O].get(t);
        let n;
        i.callback
          ? (n = i.callback.apply(
              e,
              i.to.map((e) => e[0][e[1]])
            ))
          : ((n = i.to[0]), (n = n[0][n[1]])),
          Object.prototype.hasOwnProperty.call(e, t) ? (e[t] = n) : e.set(t, n);
      }
      [
        'set',
        'bind',
        'unbind',
        'decorate',
        'on',
        'once',
        'off',
        'listenTo',
        'stopListening',
        'fire',
        'delegate',
        'stopDelegating',
        '_addEventListener',
        '_removeEventListener',
      ].forEach((e) => {
        z[e] = L.prototype[e];
      });
      class U {
        constructor() {
          this._replacedElements = [];
        }
        replace(e, t) {
          this._replacedElements.push({element: e, newElement: t}),
            (e.style.display = 'none'),
            t && e.parentNode.insertBefore(t, e.nextSibling);
        }
        restore() {
          this._replacedElements.forEach(({element: e, newElement: t}) => {
            (e.style.display = ''), t && t.remove();
          }),
            (this._replacedElements = []);
        }
      }
      function Z(e) {
        let t = 0;
        for (const i of e) t++;
        return t;
      }
      function W(e, t) {
        const i = Math.min(e.length, t.length);
        for (let n = 0; n < i; n++) if (e[n] != t[n]) return n;
        return e.length == t.length
          ? 'same'
          : e.length < t.length
          ? 'prefix'
          : 'extension';
      }
      function q(e) {
        return !(!e || !e[Symbol.iterator]);
      }
      var G =
          'object' == typeof global &&
          global &&
          global.Object === Object &&
          global,
        Y = 'object' == typeof self && self && self.Object === Object && self,
        K = G || Y || Function('return this')(),
        Q = K.Symbol,
        J = Object.prototype,
        X = J.hasOwnProperty,
        ee = J.toString,
        te = Q ? Q.toStringTag : void 0,
        ie = Object.prototype.toString,
        ne = Q ? Q.toStringTag : void 0,
        oe = function (e) {
          return null == e
            ? void 0 === e
              ? '[object Undefined]'
              : '[object Null]'
            : ne && ne in Object(e)
            ? (function (e) {
                var t = X.call(e, te),
                  i = e[te];
                try {
                  e[te] = void 0;
                  var n = !0;
                } catch (e) {}
                var o = ee.call(e);
                return n && (t ? (e[te] = i) : delete e[te]), o;
              })(e)
            : (function (e) {
                return ie.call(e);
              })(e);
        },
        re = Array.isArray,
        se = function (e) {
          return null != e && 'object' == typeof e;
        },
        ae = function (e) {
          return (
            'string' == typeof e ||
            (!re(e) && se(e) && '[object String]' == oe(e))
          );
        };
      function le(e, t, i = {}, n = []) {
        const o = i && i.xmlns,
          r = o ? e.createElementNS(o, t) : e.createElement(t);
        for (const e in i) r.setAttribute(e, i[e]);
        (!ae(n) && q(n)) || (n = [n]);
        for (let t of n) ae(t) && (t = e.createTextNode(t)), r.appendChild(t);
        return r;
      }
      var ce = function (e, t) {
          return function (i) {
            return e(t(i));
          };
        },
        de = ce(Object.getPrototypeOf, Object),
        ue = Function.prototype,
        he = Object.prototype,
        me = ue.toString,
        ge = he.hasOwnProperty,
        fe = me.call(Object),
        pe = function (e) {
          if (!se(e) || '[object Object]' != oe(e)) return !1;
          var t = de(e);
          if (null === t) return !0;
          var i = ge.call(t, 'constructor') && t.constructor;
          return 'function' == typeof i && i instanceof i && me.call(i) == fe;
        },
        be = function (e, t) {
          return e === t || (e != e && t != t);
        },
        ke = function (e, t) {
          for (var i = e.length; i--; ) if (be(e[i][0], t)) return i;
          return -1;
        },
        we = Array.prototype.splice;
      function _e(e) {
        var t = -1,
          i = null == e ? 0 : e.length;
        for (this.clear(); ++t < i; ) {
          var n = e[t];
          this.set(n[0], n[1]);
        }
      }
      (_e.prototype.clear = function () {
        (this.__data__ = []), (this.size = 0);
      }),
        (_e.prototype.delete = function (e) {
          var t = this.__data__,
            i = ke(t, e);
          return !(
            i < 0 ||
            (i == t.length - 1 ? t.pop() : we.call(t, i, 1), --this.size, 0)
          );
        }),
        (_e.prototype.get = function (e) {
          var t = this.__data__,
            i = ke(t, e);
          return i < 0 ? void 0 : t[i][1];
        }),
        (_e.prototype.has = function (e) {
          return ke(this.__data__, e) > -1;
        }),
        (_e.prototype.set = function (e, t) {
          var i = this.__data__,
            n = ke(i, e);
          return n < 0 ? (++this.size, i.push([e, t])) : (i[n][1] = t), this;
        });
      var ve = _e,
        ye = function (e) {
          if (!M(e)) return !1;
          var t = oe(e);
          return (
            '[object Function]' == t ||
            '[object GeneratorFunction]' == t ||
            '[object AsyncFunction]' == t ||
            '[object Proxy]' == t
          );
        },
        xe = K['__core-js_shared__'],
        Ae = (function () {
          var e = /[^.]+$/.exec((xe && xe.keys && xe.keys.IE_PROTO) || '');
          return e ? 'Symbol(src)_1.' + e : '';
        })(),
        Ce = Function.prototype.toString,
        Ee = function (e) {
          if (null != e) {
            try {
              return Ce.call(e);
            } catch (e) {}
            try {
              return e + '';
            } catch (e) {}
          }
          return '';
        },
        Te = /^\[object .+?Constructor\]$/,
        Se = Function.prototype,
        Ie = Object.prototype,
        Pe = Se.toString,
        Me = Ie.hasOwnProperty,
        Re = RegExp(
          '^' +
            Pe.call(Me)
              .replace(/[\\^$.*+?()[\]{}|]/g, '\\$&')
              .replace(
                /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
                '$1.*?'
              ) +
            '$'
        ),
        Ne = function (e) {
          return (
            !(!M(e) || ((t = e), Ae && Ae in t)) &&
            (ye(e) ? Re : Te).test(Ee(e))
          );
          var t;
        },
        Oe = function (e, t) {
          var i = (function (e, t) {
            return null == e ? void 0 : e[t];
          })(e, t);
          return Ne(i) ? i : void 0;
        },
        De = Oe(K, 'Map'),
        Ve = Oe(Object, 'create'),
        Le = Object.prototype.hasOwnProperty,
        ze = Object.prototype.hasOwnProperty;
      function Be(e) {
        var t = -1,
          i = null == e ? 0 : e.length;
        for (this.clear(); ++t < i; ) {
          var n = e[t];
          this.set(n[0], n[1]);
        }
      }
      (Be.prototype.clear = function () {
        (this.__data__ = Ve ? Ve(null) : {}), (this.size = 0);
      }),
        (Be.prototype.delete = function (e) {
          var t = this.has(e) && delete this.__data__[e];
          return (this.size -= t ? 1 : 0), t;
        }),
        (Be.prototype.get = function (e) {
          var t = this.__data__;
          if (Ve) {
            var i = t[e];
            return '__lodash_hash_undefined__' === i ? void 0 : i;
          }
          return Le.call(t, e) ? t[e] : void 0;
        }),
        (Be.prototype.has = function (e) {
          var t = this.__data__;
          return Ve ? void 0 !== t[e] : ze.call(t, e);
        }),
        (Be.prototype.set = function (e, t) {
          var i = this.__data__;
          return (
            (this.size += this.has(e) ? 0 : 1),
            (i[e] = Ve && void 0 === t ? '__lodash_hash_undefined__' : t),
            this
          );
        });
      var Fe = Be,
        je = function (e, t) {
          var i,
            n,
            o = e.__data__;
          return (
            'string' == (n = typeof (i = t)) ||
            'number' == n ||
            'symbol' == n ||
            'boolean' == n
              ? '__proto__' !== i
              : null === i
          )
            ? o['string' == typeof t ? 'string' : 'hash']
            : o.map;
        };
      function He(e) {
        var t = -1,
          i = null == e ? 0 : e.length;
        for (this.clear(); ++t < i; ) {
          var n = e[t];
          this.set(n[0], n[1]);
        }
      }
      (He.prototype.clear = function () {
        (this.size = 0),
          (this.__data__ = {
            hash: new Fe(),
            map: new (De || ve)(),
            string: new Fe(),
          });
      }),
        (He.prototype.delete = function (e) {
          var t = je(this, e).delete(e);
          return (this.size -= t ? 1 : 0), t;
        }),
        (He.prototype.get = function (e) {
          return je(this, e).get(e);
        }),
        (He.prototype.has = function (e) {
          return je(this, e).has(e);
        }),
        (He.prototype.set = function (e, t) {
          var i = je(this, e),
            n = i.size;
          return i.set(e, t), (this.size += i.size == n ? 0 : 1), this;
        });
      var $e = He;
      function Ue(e) {
        var t = (this.__data__ = new ve(e));
        this.size = t.size;
      }
      (Ue.prototype.clear = function () {
        (this.__data__ = new ve()), (this.size = 0);
      }),
        (Ue.prototype.delete = function (e) {
          var t = this.__data__,
            i = t.delete(e);
          return (this.size = t.size), i;
        }),
        (Ue.prototype.get = function (e) {
          return this.__data__.get(e);
        }),
        (Ue.prototype.has = function (e) {
          return this.__data__.has(e);
        }),
        (Ue.prototype.set = function (e, t) {
          var i = this.__data__;
          if (i instanceof ve) {
            var n = i.__data__;
            if (!De || n.length < 199)
              return n.push([e, t]), (this.size = ++i.size), this;
            i = this.__data__ = new $e(n);
          }
          return i.set(e, t), (this.size = i.size), this;
        });
      var Ze = Ue,
        We = (function () {
          try {
            var e = Oe(Object, 'defineProperty');
            return e({}, '', {}), e;
          } catch (e) {}
        })(),
        qe = function (e, t, i) {
          '__proto__' == t && We
            ? We(e, t, {
                configurable: !0,
                enumerable: !0,
                value: i,
                writable: !0,
              })
            : (e[t] = i);
        },
        Ge = Object.prototype.hasOwnProperty,
        Ye = function (e, t, i) {
          var n = e[t];
          (Ge.call(e, t) && be(n, i) && (void 0 !== i || t in e)) ||
            qe(e, t, i);
        },
        Ke = function (e, t, i, n) {
          var o = !i;
          i || (i = {});
          for (var r = -1, s = t.length; ++r < s; ) {
            var a = t[r],
              l = n ? n(i[a], e[a], a, i, e) : void 0;
            void 0 === l && (l = e[a]), o ? qe(i, a, l) : Ye(i, a, l);
          }
          return i;
        },
        Qe = function (e) {
          return se(e) && '[object Arguments]' == oe(e);
        },
        Je = Object.prototype,
        Xe = Je.hasOwnProperty,
        et = Je.propertyIsEnumerable,
        tt = Qe(
          (function () {
            return arguments;
          })()
        )
          ? Qe
          : function (e) {
              return se(e) && Xe.call(e, 'callee') && !et.call(e, 'callee');
            },
        it = tt,
        nt =
          'object' == typeof exports && exports && !exports.nodeType && exports,
        ot =
          nt &&
          'object' == typeof module &&
          module &&
          !module.nodeType &&
          module,
        rt = ot && ot.exports === nt ? K.Buffer : void 0,
        st =
          (rt ? rt.isBuffer : void 0) ||
          function () {
            return !1;
          },
        at = /^(?:0|[1-9]\d*)$/,
        lt = function (e, t) {
          var i = typeof e;
          return (
            !!(t = null == t ? 9007199254740991 : t) &&
            ('number' == i || ('symbol' != i && at.test(e))) &&
            e > -1 &&
            e % 1 == 0 &&
            e < t
          );
        },
        ct = function (e) {
          return (
            'number' == typeof e &&
            e > -1 &&
            e % 1 == 0 &&
            e <= 9007199254740991
          );
        },
        dt = {};
      (dt['[object Float32Array]'] =
        dt['[object Float64Array]'] =
        dt['[object Int8Array]'] =
        dt['[object Int16Array]'] =
        dt['[object Int32Array]'] =
        dt['[object Uint8Array]'] =
        dt['[object Uint8ClampedArray]'] =
        dt['[object Uint16Array]'] =
        dt['[object Uint32Array]'] =
          !0),
        (dt['[object Arguments]'] =
          dt['[object Array]'] =
          dt['[object ArrayBuffer]'] =
          dt['[object Boolean]'] =
          dt['[object DataView]'] =
          dt['[object Date]'] =
          dt['[object Error]'] =
          dt['[object Function]'] =
          dt['[object Map]'] =
          dt['[object Number]'] =
          dt['[object Object]'] =
          dt['[object RegExp]'] =
          dt['[object Set]'] =
          dt['[object String]'] =
          dt['[object WeakMap]'] =
            !1);
      var ut = function (e) {
          return function (t) {
            return e(t);
          };
        },
        ht =
          'object' == typeof exports && exports && !exports.nodeType && exports,
        mt =
          ht &&
          'object' == typeof module &&
          module &&
          !module.nodeType &&
          module,
        gt = mt && mt.exports === ht && G.process,
        ft = (function () {
          try {
            return (
              (mt && mt.require && mt.require('util').types) ||
              (gt && gt.binding && gt.binding('util'))
            );
          } catch (e) {}
        })(),
        pt = ft && ft.isTypedArray,
        bt = pt
          ? ut(pt)
          : function (e) {
              return se(e) && ct(e.length) && !!dt[oe(e)];
            },
        kt = Object.prototype.hasOwnProperty,
        wt = function (e, t) {
          var i = re(e),
            n = !i && it(e),
            o = !i && !n && st(e),
            r = !i && !n && !o && bt(e),
            s = i || n || o || r,
            a = s
              ? (function (e, t) {
                  for (var i = -1, n = Array(e); ++i < e; ) n[i] = t(i);
                  return n;
                })(e.length, String)
              : [],
            l = a.length;
          for (var c in e)
            (!t && !kt.call(e, c)) ||
              (s &&
                ('length' == c ||
                  (o && ('offset' == c || 'parent' == c)) ||
                  (r &&
                    ('buffer' == c ||
                      'byteLength' == c ||
                      'byteOffset' == c)) ||
                  lt(c, l))) ||
              a.push(c);
          return a;
        },
        _t = Object.prototype,
        vt = function (e) {
          var t = e && e.constructor;
          return e === (('function' == typeof t && t.prototype) || _t);
        },
        yt = ce(Object.keys, Object),
        xt = Object.prototype.hasOwnProperty,
        At = function (e) {
          return null != e && ct(e.length) && !ye(e);
        },
        Ct = function (e) {
          return At(e)
            ? wt(e)
            : (function (e) {
                if (!vt(e)) return yt(e);
                var t = [];
                for (var i in Object(e))
                  xt.call(e, i) && 'constructor' != i && t.push(i);
                return t;
              })(e);
        },
        Et = Object.prototype.hasOwnProperty,
        Tt = function (e) {
          if (!M(e))
            return (function (e) {
              var t = [];
              if (null != e) for (var i in Object(e)) t.push(i);
              return t;
            })(e);
          var t = vt(e),
            i = [];
          for (var n in e)
            ('constructor' != n || (!t && Et.call(e, n))) && i.push(n);
          return i;
        },
        St = function (e) {
          return At(e) ? wt(e, !0) : Tt(e);
        },
        It =
          'object' == typeof exports && exports && !exports.nodeType && exports,
        Pt =
          It &&
          'object' == typeof module &&
          module &&
          !module.nodeType &&
          module,
        Mt = Pt && Pt.exports === It ? K.Buffer : void 0,
        Rt = Mt ? Mt.allocUnsafe : void 0,
        Nt = function (e, t) {
          if (t) return e.slice();
          var i = e.length,
            n = Rt ? Rt(i) : new e.constructor(i);
          return e.copy(n), n;
        },
        Ot = function (e, t) {
          var i = -1,
            n = e.length;
          for (t || (t = Array(n)); ++i < n; ) t[i] = e[i];
          return t;
        },
        Dt = function () {
          return [];
        },
        Vt = Object.prototype.propertyIsEnumerable,
        Lt = Object.getOwnPropertySymbols,
        zt = Lt
          ? function (e) {
              return null == e
                ? []
                : ((e = Object(e)),
                  (function (e, t) {
                    for (
                      var i = -1, n = null == e ? 0 : e.length, o = 0, r = [];
                      ++i < n;

                    ) {
                      var s = e[i];
                      t(s, i, e) && (r[o++] = s);
                    }
                    return r;
                  })(Lt(e), function (t) {
                    return Vt.call(e, t);
                  }));
            }
          : Dt,
        Bt = function (e, t) {
          for (var i = -1, n = t.length, o = e.length; ++i < n; )
            e[o + i] = t[i];
          return e;
        },
        Ft = Object.getOwnPropertySymbols
          ? function (e) {
              for (var t = []; e; ) Bt(t, zt(e)), (e = de(e));
              return t;
            }
          : Dt,
        jt = function (e, t, i) {
          var n = t(e);
          return re(e) ? n : Bt(n, i(e));
        },
        Ht = function (e) {
          return jt(e, Ct, zt);
        },
        $t = function (e) {
          return jt(e, St, Ft);
        },
        Ut = Oe(K, 'DataView'),
        Zt = Oe(K, 'Promise'),
        Wt = Oe(K, 'Set'),
        qt = Oe(K, 'WeakMap'),
        Gt = '[object Map]',
        Yt = '[object Promise]',
        Kt = '[object Set]',
        Qt = '[object WeakMap]',
        Jt = '[object DataView]',
        Xt = Ee(Ut),
        ei = Ee(De),
        ti = Ee(Zt),
        ii = Ee(Wt),
        ni = Ee(qt),
        oi = oe;
      ((Ut && oi(new Ut(new ArrayBuffer(1))) != Jt) ||
        (De && oi(new De()) != Gt) ||
        (Zt && oi(Zt.resolve()) != Yt) ||
        (Wt && oi(new Wt()) != Kt) ||
        (qt && oi(new qt()) != Qt)) &&
        (oi = function (e) {
          var t = oe(e),
            i = '[object Object]' == t ? e.constructor : void 0,
            n = i ? Ee(i) : '';
          if (n)
            switch (n) {
              case Xt:
                return Jt;
              case ei:
                return Gt;
              case ti:
                return Yt;
              case ii:
                return Kt;
              case ni:
                return Qt;
            }
          return t;
        });
      var ri = oi,
        si = Object.prototype.hasOwnProperty,
        ai = K.Uint8Array,
        li = function (e) {
          var t = new e.constructor(e.byteLength);
          return new ai(t).set(new ai(e)), t;
        },
        ci = /\w*$/,
        di = Q ? Q.prototype : void 0,
        ui = di ? di.valueOf : void 0,
        hi = function (e, t) {
          var i = t ? li(e.buffer) : e.buffer;
          return new e.constructor(i, e.byteOffset, e.length);
        },
        mi = function (e, t, i) {
          var n,
            o,
            r,
            s = e.constructor;
          switch (t) {
            case '[object ArrayBuffer]':
              return li(e);
            case '[object Boolean]':
            case '[object Date]':
              return new s(+e);
            case '[object DataView]':
              return (function (e, t) {
                var i = t ? li(e.buffer) : e.buffer;
                return new e.constructor(i, e.byteOffset, e.byteLength);
              })(e, i);
            case '[object Float32Array]':
            case '[object Float64Array]':
            case '[object Int8Array]':
            case '[object Int16Array]':
            case '[object Int32Array]':
            case '[object Uint8Array]':
            case '[object Uint8ClampedArray]':
            case '[object Uint16Array]':
            case '[object Uint32Array]':
              return hi(e, i);
            case '[object Map]':
            case '[object Set]':
              return new s();
            case '[object Number]':
            case '[object String]':
              return new s(e);
            case '[object RegExp]':
              return (
                ((r = new (o = e).constructor(o.source, ci.exec(o))).lastIndex =
                  o.lastIndex),
                r
              );
            case '[object Symbol]':
              return (n = e), ui ? Object(ui.call(n)) : {};
          }
        },
        gi = Object.create,
        fi = (function () {
          function e() {}
          return function (t) {
            if (!M(t)) return {};
            if (gi) return gi(t);
            e.prototype = t;
            var i = new e();
            return (e.prototype = void 0), i;
          };
        })(),
        pi = function (e) {
          return 'function' != typeof e.constructor || vt(e) ? {} : fi(de(e));
        },
        bi = ft && ft.isMap,
        ki = bi
          ? ut(bi)
          : function (e) {
              return se(e) && '[object Map]' == ri(e);
            },
        wi = ft && ft.isSet,
        _i = wi
          ? ut(wi)
          : function (e) {
              return se(e) && '[object Set]' == ri(e);
            },
        vi = '[object Arguments]',
        yi = '[object Function]',
        xi = '[object Object]',
        Ai = {};
      (Ai[vi] =
        Ai['[object Array]'] =
        Ai['[object ArrayBuffer]'] =
        Ai['[object DataView]'] =
        Ai['[object Boolean]'] =
        Ai['[object Date]'] =
        Ai['[object Float32Array]'] =
        Ai['[object Float64Array]'] =
        Ai['[object Int8Array]'] =
        Ai['[object Int16Array]'] =
        Ai['[object Int32Array]'] =
        Ai['[object Map]'] =
        Ai['[object Number]'] =
        Ai[xi] =
        Ai['[object RegExp]'] =
        Ai['[object Set]'] =
        Ai['[object String]'] =
        Ai['[object Symbol]'] =
        Ai['[object Uint8Array]'] =
        Ai['[object Uint8ClampedArray]'] =
        Ai['[object Uint16Array]'] =
        Ai['[object Uint32Array]'] =
          !0),
        (Ai['[object Error]'] = Ai[yi] = Ai['[object WeakMap]'] = !1);
      var Ci = function e(t, i, n, o, r, s) {
          var a,
            l = 1 & i,
            c = 2 & i,
            d = 4 & i;
          if ((n && (a = r ? n(t, o, r, s) : n(t)), void 0 !== a)) return a;
          if (!M(t)) return t;
          var u = re(t);
          if (u) {
            if (
              ((a = (function (e) {
                var t = e.length,
                  i = new e.constructor(t);
                return (
                  t &&
                    'string' == typeof e[0] &&
                    si.call(e, 'index') &&
                    ((i.index = e.index), (i.input = e.input)),
                  i
                );
              })(t)),
              !l)
            )
              return Ot(t, a);
          } else {
            var h = ri(t),
              m = h == yi || '[object GeneratorFunction]' == h;
            if (st(t)) return Nt(t, l);
            if (h == xi || h == vi || (m && !r)) {
              if (((a = c || m ? {} : pi(t)), !l))
                return c
                  ? (function (e, t) {
                      return Ke(e, Ft(e), t);
                    })(
                      t,
                      (function (e, t) {
                        return e && Ke(t, St(t), e);
                      })(a, t)
                    )
                  : (function (e, t) {
                      return Ke(e, zt(e), t);
                    })(
                      t,
                      (function (e, t) {
                        return e && Ke(t, Ct(t), e);
                      })(a, t)
                    );
            } else {
              if (!Ai[h]) return r ? t : {};
              a = mi(t, h, l);
            }
          }
          s || (s = new Ze());
          var g = s.get(t);
          if (g) return g;
          s.set(t, a),
            _i(t)
              ? t.forEach(function (o) {
                  a.add(e(o, i, n, o, t, s));
                })
              : ki(t) &&
                t.forEach(function (o, r) {
                  a.set(r, e(o, i, n, r, t, s));
                });
          var f = u ? void 0 : (d ? (c ? $t : Ht) : c ? St : Ct)(t);
          return (
            (function (e, t) {
              for (
                var i = -1, n = null == e ? 0 : e.length;
                ++i < n && !1 !== t(e[i], i, e);

              );
            })(f || t, function (o, r) {
              f && (o = t[(r = o)]), Ye(a, r, e(o, i, n, r, t, s));
            }),
            a
          );
        },
        Ei = function (e, t) {
          return Ci(e, 5, (t = 'function' == typeof t ? t : void 0));
        },
        Ti = function (e) {
          return se(e) && 1 === e.nodeType && !pe(e);
        };
      class Si {
        constructor(e, t) {
          (this._config = {}),
            t && this.define(Ii(t)),
            e && this._setObjectToTarget(this._config, e);
        }
        set(e, t) {
          this._setToTarget(this._config, e, t);
        }
        define(e, t) {
          this._setToTarget(this._config, e, t, !0);
        }
        get(e) {
          return this._getFromSource(this._config, e);
        }
        *names() {
          for (const e of Object.keys(this._config)) yield e;
        }
        _setToTarget(e, t, i, n = !1) {
          if (pe(t)) return void this._setObjectToTarget(e, t, n);
          const o = t.split('.');
          t = o.pop();
          for (const t of o) pe(e[t]) || (e[t] = {}), (e = e[t]);
          if (pe(i))
            return (
              pe(e[t]) || (e[t] = {}),
              (e = e[t]),
              void this._setObjectToTarget(e, i, n)
            );
          (n && void 0 !== e[t]) || (e[t] = i);
        }
        _getFromSource(e, t) {
          const i = t.split('.');
          t = i.pop();
          for (const t of i) {
            if (!pe(e[t])) {
              e = null;
              break;
            }
            e = e[t];
          }
          return e ? Ii(e[t]) : void 0;
        }
        _setObjectToTarget(e, t, i) {
          Object.keys(t).forEach((n) => {
            this._setToTarget(e, n, t[n], i);
          });
        }
      }
      function Ii(e) {
        return Ei(e, Pi);
      }
      function Pi(e) {
        return Ti(e) ? e : void 0;
      }
      function Mi(e) {
        if (e) {
          if (e.defaultView) return e instanceof e.defaultView.Document;
          if (e.ownerDocument && e.ownerDocument.defaultView)
            return e instanceof e.ownerDocument.defaultView.Node;
        }
        return !1;
      }
      function Ri(e) {
        const t = Object.prototype.toString.apply(e);
        return '[object Window]' == t || '[object global]' == t;
      }
      const Ni = Oi(x());
      function Oi(e) {
        return e
          ? class extends e {
              listenTo(e, t, i, n = {}) {
                if (Mi(e) || Ri(e)) {
                  const o = {capture: !!n.useCapture, passive: !!n.usePassive},
                    r = this._getProxyEmitter(e, o) || new Di(e, o);
                  this.listenTo(r, t, i, n);
                } else super.listenTo(e, t, i, n);
              }
              stopListening(e, t, i) {
                if (Mi(e) || Ri(e)) {
                  const n = this._getAllProxyEmitters(e);
                  for (const e of n) this.stopListening(e, t, i);
                } else super.stopListening(e, t, i);
              }
              _getProxyEmitter(e, t) {
                return (function (e, t) {
                  const i = e[w];
                  return i && i[t] ? i[t].emitter : null;
                })(this, Vi(e, t));
              }
              _getAllProxyEmitters(e) {
                return [
                  {capture: !1, passive: !1},
                  {capture: !1, passive: !0},
                  {capture: !0, passive: !1},
                  {capture: !0, passive: !0},
                ]
                  .map((t) => this._getProxyEmitter(e, t))
                  .filter((e) => !!e);
              }
            }
          : Ni;
      }
      [
        '_getProxyEmitter',
        '_getAllProxyEmitters',
        'on',
        'once',
        'off',
        'listenTo',
        'stopListening',
        'fire',
        'delegate',
        'stopDelegating',
        '_addEventListener',
        '_removeEventListener',
      ].forEach((e) => {
        Oi[e] = Ni.prototype[e];
      });
      class Di extends x() {
        constructor(e, t) {
          super(), A(this, Vi(e, t)), (this._domNode = e), (this._options = t);
        }
        attach(e) {
          if (this._domListeners && this._domListeners[e]) return;
          const t = this._createDomListener(e);
          this._domNode.addEventListener(e, t, this._options),
            this._domListeners || (this._domListeners = {}),
            (this._domListeners[e] = t);
        }
        detach(e) {
          let t;
          !this._domListeners[e] ||
            ((t = this._events[e]) && t.callbacks.length) ||
            this._domListeners[e].removeListener();
        }
        _addEventListener(e, t, i) {
          this.attach(e), x().prototype._addEventListener.call(this, e, t, i);
        }
        _removeEventListener(e, t) {
          x().prototype._removeEventListener.call(this, e, t), this.detach(e);
        }
        _createDomListener(e) {
          const t = (t) => {
            this.fire(e, t);
          };
          return (
            (t.removeListener = () => {
              this._domNode.removeEventListener(e, t, this._options),
                delete this._domListeners[e];
            }),
            t
          );
        }
      }
      function Vi(e, t) {
        let i = (function (e) {
          return e['data-ck-expando'] || (e['data-ck-expando'] = u());
        })(e);
        for (const e of Object.keys(t).sort()) t[e] && (i += '-' + e);
        return i;
      }
      let Li;
      try {
        Li = {window: window, document: document};
      } catch (e) {
        Li = {window: {}, document: {}};
      }
      var zi = Li;
      function Bi(e) {
        const t = [];
        let i = e;
        for (; i && i.nodeType != Node.DOCUMENT_NODE; )
          t.unshift(i), (i = i.parentNode);
        return t;
      }
      function Fi(e) {
        return '[object Text]' == Object.prototype.toString.call(e);
      }
      function ji(e) {
        return '[object Range]' == Object.prototype.toString.apply(e);
      }
      function Hi(e) {
        const t = e.ownerDocument.defaultView.getComputedStyle(e);
        return {
          top: parseInt(t.borderTopWidth, 10),
          right: parseInt(t.borderRightWidth, 10),
          bottom: parseInt(t.borderBottomWidth, 10),
          left: parseInt(t.borderLeftWidth, 10),
        };
      }
      const $i = ['top', 'right', 'bottom', 'left', 'width', 'height'];
      class Ui {
        constructor(e) {
          const t = ji(e);
          if (
            (Object.defineProperty(this, '_source', {
              value: e._source || e,
              writable: !0,
              enumerable: !1,
            }),
            qi(e) || t)
          )
            if (t) {
              const t = Ui.getDomRangeRects(e);
              Zi(this, Ui.getBoundingRect(t));
            } else Zi(this, e.getBoundingClientRect());
          else if (Ri(e)) {
            const {innerWidth: t, innerHeight: i} = e;
            Zi(this, {
              top: 0,
              right: t,
              bottom: i,
              left: 0,
              width: t,
              height: i,
            });
          } else Zi(this, e);
        }
        clone() {
          return new Ui(this);
        }
        moveTo(e, t) {
          return (
            (this.top = t),
            (this.right = e + this.width),
            (this.bottom = t + this.height),
            (this.left = e),
            this
          );
        }
        moveBy(e, t) {
          return (
            (this.top += t),
            (this.right += e),
            (this.left += e),
            (this.bottom += t),
            this
          );
        }
        getIntersection(e) {
          const t = {
            top: Math.max(this.top, e.top),
            right: Math.min(this.right, e.right),
            bottom: Math.min(this.bottom, e.bottom),
            left: Math.max(this.left, e.left),
            width: 0,
            height: 0,
          };
          return (
            (t.width = t.right - t.left),
            (t.height = t.bottom - t.top),
            t.width < 0 || t.height < 0 ? null : new Ui(t)
          );
        }
        getIntersectionArea(e) {
          const t = this.getIntersection(e);
          return t ? t.getArea() : 0;
        }
        getArea() {
          return this.width * this.height;
        }
        getVisible() {
          const e = this._source;
          let t = this.clone();
          if (!Wi(e)) {
            let i = e.parentNode || e.commonAncestorContainer;
            for (; i && !Wi(i); ) {
              const e = new Ui(i),
                n = t.getIntersection(e);
              if (!n) return null;
              n.getArea() < t.getArea() && (t = n), (i = i.parentNode);
            }
          }
          return t;
        }
        isEqual(e) {
          for (const t of $i) if (this[t] !== e[t]) return !1;
          return !0;
        }
        contains(e) {
          const t = this.getIntersection(e);
          return !(!t || !t.isEqual(e));
        }
        excludeScrollbarsAndBorders() {
          const e = this._source;
          let t, i, n;
          if (Ri(e))
            (t = e.innerWidth - e.document.documentElement.clientWidth),
              (i = e.innerHeight - e.document.documentElement.clientHeight),
              (n = e.getComputedStyle(e.document.documentElement).direction);
          else {
            const o = Hi(e);
            (t = e.offsetWidth - e.clientWidth - o.left - o.right),
              (i = e.offsetHeight - e.clientHeight - o.top - o.bottom),
              (n = e.ownerDocument.defaultView.getComputedStyle(e).direction),
              (this.left += o.left),
              (this.top += o.top),
              (this.right -= o.right),
              (this.bottom -= o.bottom),
              (this.width = this.right - this.left),
              (this.height = this.bottom - this.top);
          }
          return (
            (this.width -= t),
            'ltr' === n ? (this.right -= t) : (this.left += t),
            (this.height -= i),
            (this.bottom -= i),
            this
          );
        }
        static getDomRangeRects(e) {
          const t = [],
            i = Array.from(e.getClientRects());
          if (i.length) for (const e of i) t.push(new Ui(e));
          else {
            let i = e.startContainer;
            Fi(i) && (i = i.parentNode);
            const n = new Ui(i.getBoundingClientRect());
            (n.right = n.left), (n.width = 0), t.push(n);
          }
          return t;
        }
        static getBoundingRect(e) {
          const t = {
            left: Number.POSITIVE_INFINITY,
            top: Number.POSITIVE_INFINITY,
            right: Number.NEGATIVE_INFINITY,
            bottom: Number.NEGATIVE_INFINITY,
            width: 0,
            height: 0,
          };
          let i = 0;
          for (const n of e)
            i++,
              (t.left = Math.min(t.left, n.left)),
              (t.top = Math.min(t.top, n.top)),
              (t.right = Math.max(t.right, n.right)),
              (t.bottom = Math.max(t.bottom, n.bottom));
          return 0 == i
            ? null
            : ((t.width = t.right - t.left),
              (t.height = t.bottom - t.top),
              new Ui(t));
        }
      }
      function Zi(e, t) {
        for (const i of $i) e[i] = t[i];
      }
      function Wi(e) {
        return !!qi(e) && e === e.ownerDocument.body;
      }
      function qi(e) {
        return (
          null !== e &&
          'object' == typeof e &&
          1 === e.nodeType &&
          'function' == typeof e.getBoundingClientRect
        );
      }
      class Gi {
        constructor(e, t) {
          Gi._observerInstance || Gi._createObserver(),
            (this._element = e),
            (this._callback = t),
            Gi._addElementCallback(e, t),
            Gi._observerInstance.observe(e);
        }
        destroy() {
          Gi._deleteElementCallback(this._element, this._callback);
        }
        static _addElementCallback(e, t) {
          Gi._elementCallbacks || (Gi._elementCallbacks = new Map());
          let i = Gi._elementCallbacks.get(e);
          i || ((i = new Set()), Gi._elementCallbacks.set(e, i)), i.add(t);
        }
        static _deleteElementCallback(e, t) {
          const i = Gi._getElementCallbacks(e);
          i &&
            (i.delete(t),
            i.size ||
              (Gi._elementCallbacks.delete(e),
              Gi._observerInstance.unobserve(e))),
            Gi._elementCallbacks &&
              !Gi._elementCallbacks.size &&
              ((Gi._observerInstance = null), (Gi._elementCallbacks = null));
        }
        static _getElementCallbacks(e) {
          return Gi._elementCallbacks ? Gi._elementCallbacks.get(e) : null;
        }
        static _createObserver() {
          Gi._observerInstance = new zi.window.ResizeObserver((e) => {
            for (const t of e) {
              const e = Gi._getElementCallbacks(t.target);
              if (e) for (const i of e) i(t);
            }
          });
        }
      }
      function Yi(e) {
        return (t) => t + e;
      }
      function Ki(e) {
        let t = 0;
        for (; e.previousSibling; ) (e = e.previousSibling), t++;
        return t;
      }
      function Qi(e, t, i) {
        e.insertBefore(i, e.childNodes[t] || null);
      }
      function Ji(e) {
        return e && e.nodeType === Node.COMMENT_NODE;
      }
      function Xi(e) {
        return !!(e && e.getClientRects && e.getClientRects().length);
      }
      function en({
        element: e,
        target: t,
        positions: i,
        limiter: n,
        fitInViewport: o,
        viewportOffsetConfig: r,
      }) {
        ye(t) && (t = t()), ye(n) && (n = n());
        const s = (function (e) {
            return e && e.parentNode
              ? e.offsetParent === zi.document.body
                ? null
                : e.offsetParent
              : null;
          })(e),
          a = new Ui(e),
          l = new Ui(t);
        let c;
        const d =
            (o &&
              (function (e) {
                e = Object.assign({top: 0, bottom: 0, left: 0, right: 0}, e);
                const t = new Ui(zi.window);
                return (
                  (t.top += e.top),
                  (t.height -= e.top),
                  (t.bottom -= e.bottom),
                  (t.height -= e.bottom),
                  t
                );
              })(r)) ||
            null,
          u = {
            targetRect: l,
            elementRect: a,
            positionedElementAncestor: s,
            viewportRect: d,
          };
        if (n || o) {
          const e = n && new Ui(n).getVisible();
          Object.assign(u, {limiterRect: e, viewportRect: d}),
            (c =
              (function (e, t) {
                const {elementRect: i} = t,
                  n = i.getArea(),
                  o = e.map((e) => new nn(e, t)).filter((e) => !!e.name);
                let r = 0,
                  s = null;
                for (const e of o) {
                  const {
                    limiterIntersectionArea: t,
                    viewportIntersectionArea: i,
                  } = e;
                  if (t === n) return e;
                  const o = i ** 2 + t ** 2;
                  o > r && ((r = o), (s = e));
                }
                return s;
              })(i, u) || new nn(i[0], u));
        } else c = new nn(i[0], u);
        return c;
      }
      function tn(e) {
        const {scrollX: t, scrollY: i} = zi.window;
        return e.clone().moveBy(t, i);
      }
      (Gi._observerInstance = null), (Gi._elementCallbacks = null);
      class nn {
        constructor(e, t) {
          const i = e(t.targetRect, t.elementRect, t.viewportRect);
          if (!i) return;
          const {left: n, top: o, name: r, config: s} = i;
          (this.name = r),
            (this.config = s),
            (this._positioningFunctionCorrdinates = {left: n, top: o}),
            (this._options = t);
        }
        get left() {
          return this._absoluteRect.left;
        }
        get top() {
          return this._absoluteRect.top;
        }
        get limiterIntersectionArea() {
          const e = this._options.limiterRect;
          if (e) {
            const t = this._options.viewportRect;
            if (!t) return e.getIntersectionArea(this._rect);
            {
              const i = e.getIntersection(t);
              if (i) return i.getIntersectionArea(this._rect);
            }
          }
          return 0;
        }
        get viewportIntersectionArea() {
          const e = this._options.viewportRect;
          return e ? e.getIntersectionArea(this._rect) : 0;
        }
        get _rect() {
          return (
            this._cachedRect ||
              (this._cachedRect = this._options.elementRect
                .clone()
                .moveTo(
                  this._positioningFunctionCorrdinates.left,
                  this._positioningFunctionCorrdinates.top
                )),
            this._cachedRect
          );
        }
        get _absoluteRect() {
          return (
            this._cachedAbsoluteRect ||
              ((this._cachedAbsoluteRect = tn(this._rect)),
              this._options.positionedElementAncestor &&
                (function (e, t) {
                  const i = tn(new Ui(t)),
                    n = Hi(t);
                  let o = 0,
                    r = 0;
                  (o -= i.left),
                    (r -= i.top),
                    (o += t.scrollLeft),
                    (r += t.scrollTop),
                    (o -= n.left),
                    (r -= n.top),
                    e.moveBy(o, r);
                })(
                  this._cachedAbsoluteRect,
                  this._options.positionedElementAncestor
                )),
            this._cachedAbsoluteRect
          );
        }
      }
      function on(e) {
        const t = e.parentNode;
        t && t.removeChild(e);
      }
      function rn({
        target: e,
        viewportOffset: t = 0,
        ancestorOffset: i = 0,
        alignToTop: n,
        forceScroll: o,
      }) {
        const r = hn(e);
        let s = r,
          a = null;
        for (; s; ) {
          let l;
          (l = mn(s == r ? e : a)),
            an({
              parent: l,
              getRect: () => gn(e, s),
              alignToTop: n,
              ancestorOffset: i,
              forceScroll: o,
            });
          const c = gn(e, s);
          if (
            (sn({
              window: s,
              rect: c,
              viewportOffset: t,
              alignToTop: n,
              forceScroll: o,
            }),
            s.parent != s)
          ) {
            if (((a = s.frameElement), (s = s.parent), !a)) return;
          } else s = null;
        }
      }
      function sn({
        window: e,
        rect: t,
        alignToTop: i,
        forceScroll: n,
        viewportOffset: o,
      }) {
        const r = t.clone().moveBy(0, o),
          s = t.clone().moveBy(0, -o),
          a = new Ui(e).excludeScrollbarsAndBorders(),
          l = i && n,
          c = [s, r].every((e) => a.contains(e));
        let {scrollX: d, scrollY: u} = e;
        const h = d,
          m = u;
        l
          ? (u -= a.top - t.top + o)
          : c ||
            (cn(s, a)
              ? (u -= a.top - t.top + o)
              : ln(r, a) &&
                (u += i ? t.top - a.top - o : t.bottom - a.bottom + o)),
          c ||
            (dn(t, a)
              ? (d -= a.left - t.left + o)
              : un(t, a) && (d += t.right - a.right + o)),
          (d == h && u === m) || e.scrollTo(d, u);
      }
      function an({
        parent: e,
        getRect: t,
        alignToTop: i,
        forceScroll: n,
        ancestorOffset: o = 0,
      }) {
        const r = hn(e),
          s = i && n;
        let a, l, c;
        for (; e != r.document.body; )
          (l = t()),
            (a = new Ui(e).excludeScrollbarsAndBorders()),
            (c = a.contains(l)),
            s
              ? (e.scrollTop -= a.top - l.top + o)
              : c ||
                (cn(l, a)
                  ? (e.scrollTop -= a.top - l.top + o)
                  : ln(l, a) &&
                    (e.scrollTop += i
                      ? l.top - a.top - o
                      : l.bottom - a.bottom + o)),
            c ||
              (dn(l, a)
                ? (e.scrollLeft -= a.left - l.left + o)
                : un(l, a) && (e.scrollLeft += l.right - a.right + o)),
            (e = e.parentNode);
      }
      function ln(e, t) {
        return e.bottom > t.bottom;
      }
      function cn(e, t) {
        return e.top < t.top;
      }
      function dn(e, t) {
        return e.left < t.left;
      }
      function un(e, t) {
        return e.right > t.right;
      }
      function hn(e) {
        return ji(e)
          ? e.startContainer.ownerDocument.defaultView
          : e.ownerDocument.defaultView;
      }
      function mn(e) {
        if (ji(e)) {
          let t = e.commonAncestorContainer;
          return Fi(t) && (t = t.parentNode), t;
        }
        return e.parentNode;
      }
      function gn(e, t) {
        const i = hn(e),
          n = new Ui(e);
        if (i === t) return n;
        {
          let e = i;
          for (; e != t; ) {
            const t = e.frameElement,
              i = new Ui(t).excludeScrollbarsAndBorders();
            n.moveBy(i.left, i.top), (e = e.parent);
          }
        }
        return n;
      }
      const fn = {ctrl: '⌃', cmd: '⌘', alt: '⌥', shift: '⇧'},
        pn = {ctrl: 'Ctrl+', alt: 'Alt+', shift: 'Shift+'},
        bn = (function () {
          const e = {
            arrowleft: 37,
            arrowup: 38,
            arrowright: 39,
            arrowdown: 40,
            backspace: 8,
            delete: 46,
            enter: 13,
            space: 32,
            esc: 27,
            tab: 9,
            ctrl: 1114112,
            shift: 2228224,
            alt: 4456448,
            cmd: 8912896,
          };
          for (let t = 65; t <= 90; t++)
            e[String.fromCharCode(t).toLowerCase()] = t;
          for (let t = 48; t <= 57; t++) e[t - 48] = t;
          for (let t = 112; t <= 123; t++) e['f' + (t - 111)] = t;
          for (const t of "`-=[];',./\\") e[t] = t.charCodeAt(0);
          return e;
        })(),
        kn = Object.fromEntries(
          Object.entries(bn).map(([e, t]) => [
            t,
            e.charAt(0).toUpperCase() + e.slice(1),
          ])
        );
      function wn(e) {
        let t;
        if ('string' == typeof e) {
          if (((t = bn[e.toLowerCase()]), !t))
            throw new f('keyboard-unknown-key', null, {key: e});
        } else
          t =
            e.keyCode +
            (e.altKey ? bn.alt : 0) +
            (e.ctrlKey ? bn.ctrl : 0) +
            (e.shiftKey ? bn.shift : 0) +
            (e.metaKey ? bn.cmd : 0);
        return t;
      }
      function _n(e) {
        return (
          'string' == typeof e &&
            (e = (function (e) {
              return e.split('+').map((e) => e.trim());
            })(e)),
          e
            .map((e) =>
              'string' == typeof e
                ? (function (e) {
                    if (e.endsWith('!')) return wn(e.slice(0, -1));
                    const t = wn(e);
                    return n.isMac && t == bn.ctrl ? bn.cmd : t;
                  })(e)
                : e
            )
            .reduce((e, t) => t + e, 0)
        );
      }
      function vn(e) {
        let t = _n(e);
        return (
          Object.entries(n.isMac ? fn : pn).reduce(
            (e, [i, n]) => (0 != (t & bn[i]) && ((t &= ~bn[i]), (e += n)), e),
            ''
          ) + (t ? kn[t] : '')
        );
      }
      function yn(e, t) {
        const i = 'ltr' === t;
        switch (e) {
          case bn.arrowleft:
            return i ? 'left' : 'right';
          case bn.arrowright:
            return i ? 'right' : 'left';
          case bn.arrowup:
            return 'up';
          case bn.arrowdown:
            return 'down';
        }
      }
      function xn(e) {
        return Array.isArray(e) ? e : [e];
      }
      zi.window.CKEDITOR_TRANSLATIONS || (zi.window.CKEDITOR_TRANSLATIONS = {});
      const An = [
        'ar',
        'ara',
        'fa',
        'per',
        'fas',
        'he',
        'heb',
        'ku',
        'kur',
        'ug',
        'uig',
      ];
      function Cn(e) {
        return An.includes(e) ? 'rtl' : 'ltr';
      }
      class En {
        constructor({uiLanguage: e = 'en', contentLanguage: t} = {}) {
          (this.uiLanguage = e),
            (this.contentLanguage = t || this.uiLanguage),
            (this.uiLanguageDirection = Cn(this.uiLanguage)),
            (this.contentLanguageDirection = Cn(this.contentLanguage)),
            (this.t = (e, t) => this._t(e, t));
        }
        get language() {
          return (
            console.warn(
              'locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead.'
            ),
            this.uiLanguage
          );
        }
        _t(e, t = []) {
          (t = xn(t)), 'string' == typeof e && (e = {string: e});
          const i = e.plural ? t[0] : 1;
          return (function (e, t) {
            return e.replace(/%(\d+)/g, (e, i) => (i < t.length ? t[i] : e));
          })(
            (function (e, t, i = 1) {
              if ('number' != typeof i)
                throw new f('translation-service-quantity-not-a-number', null, {
                  quantity: i,
                });
              const n = Object.keys(zi.window.CKEDITOR_TRANSLATIONS).length;
              1 === n && (e = Object.keys(zi.window.CKEDITOR_TRANSLATIONS)[0]);
              const o = t.id || t.string;
              if (
                0 === n ||
                !(function (e, t) {
                  return (
                    !!zi.window.CKEDITOR_TRANSLATIONS[e] &&
                    !!zi.window.CKEDITOR_TRANSLATIONS[e].dictionary[t]
                  );
                })(e, o)
              )
                return 1 !== i ? t.plural : t.string;
              const r = zi.window.CKEDITOR_TRANSLATIONS[e].dictionary,
                s =
                  zi.window.CKEDITOR_TRANSLATIONS[e].getPluralForm ||
                  ((e) => (1 === e ? 0 : 1)),
                a = r[o];
              return 'string' == typeof a ? a : a[Number(s(i))];
            })(this.uiLanguage, e, i),
            t
          );
        }
      }
      class Tn extends x() {
        constructor(e = {}, t = {}) {
          super();
          const i = q(e);
          if (
            (i || (t = e),
            (this._items = []),
            (this._itemMap = new Map()),
            (this._idProperty = t.idProperty || 'id'),
            (this._bindToExternalToInternalMap = new WeakMap()),
            (this._bindToInternalToExternalMap = new WeakMap()),
            (this._skippedIndexesFromExternal = []),
            i)
          )
            for (const t of e)
              this._items.push(t),
                this._itemMap.set(this._getItemIdBeforeAdding(t), t);
        }
        get length() {
          return this._items.length;
        }
        get first() {
          return this._items[0] || null;
        }
        get last() {
          return this._items[this.length - 1] || null;
        }
        add(e, t) {
          return this.addMany([e], t);
        }
        addMany(e, t) {
          if (void 0 === t) t = this._items.length;
          else if (t > this._items.length || t < 0)
            throw new f('collection-add-item-invalid-index', this);
          let i = 0;
          for (const n of e) {
            const e = this._getItemIdBeforeAdding(n),
              o = t + i;
            this._items.splice(o, 0, n),
              this._itemMap.set(e, n),
              this.fire('add', n, o),
              i++;
          }
          return this.fire('change', {added: e, removed: [], index: t}), this;
        }
        get(e) {
          let t;
          if ('string' == typeof e) t = this._itemMap.get(e);
          else {
            if ('number' != typeof e)
              throw new f('collection-get-invalid-arg', this);
            t = this._items[e];
          }
          return t || null;
        }
        has(e) {
          if ('string' == typeof e) return this._itemMap.has(e);
          {
            const t = e[this._idProperty];
            return t && this._itemMap.has(t);
          }
        }
        getIndex(e) {
          let t;
          return (
            (t = 'string' == typeof e ? this._itemMap.get(e) : e),
            t ? this._items.indexOf(t) : -1
          );
        }
        remove(e) {
          const [t, i] = this._remove(e);
          return this.fire('change', {added: [], removed: [t], index: i}), t;
        }
        map(e, t) {
          return this._items.map(e, t);
        }
        find(e, t) {
          return this._items.find(e, t);
        }
        filter(e, t) {
          return this._items.filter(e, t);
        }
        clear() {
          this._bindToCollection &&
            (this.stopListening(this._bindToCollection),
            (this._bindToCollection = null));
          const e = Array.from(this._items);
          for (; this.length; ) this._remove(0);
          this.fire('change', {added: [], removed: e, index: 0});
        }
        bindTo(e) {
          if (this._bindToCollection)
            throw new f('collection-bind-to-rebind', this);
          return (
            (this._bindToCollection = e),
            {
              as: (e) => {
                this._setUpBindToBinding((t) => new e(t));
              },
              using: (e) => {
                'function' == typeof e
                  ? this._setUpBindToBinding(e)
                  : this._setUpBindToBinding((t) => t[e]);
              },
            }
          );
        }
        _setUpBindToBinding(e) {
          const t = this._bindToCollection,
            i = (i, n, o) => {
              const r = t._bindToCollection == this,
                s = t._bindToInternalToExternalMap.get(n);
              if (r && s)
                this._bindToExternalToInternalMap.set(n, s),
                  this._bindToInternalToExternalMap.set(s, n);
              else {
                const i = e(n);
                if (!i) return void this._skippedIndexesFromExternal.push(o);
                let r = o;
                for (const e of this._skippedIndexesFromExternal) o > e && r--;
                for (const e of t._skippedIndexesFromExternal) r >= e && r++;
                this._bindToExternalToInternalMap.set(n, i),
                  this._bindToInternalToExternalMap.set(i, n),
                  this.add(i, r);
                for (let e = 0; e < t._skippedIndexesFromExternal.length; e++)
                  r <= t._skippedIndexesFromExternal[e] &&
                    t._skippedIndexesFromExternal[e]++;
              }
            };
          for (const e of t) i(0, e, t.getIndex(e));
          this.listenTo(t, 'add', i),
            this.listenTo(t, 'remove', (e, t, i) => {
              const n = this._bindToExternalToInternalMap.get(t);
              n && this.remove(n),
                (this._skippedIndexesFromExternal =
                  this._skippedIndexesFromExternal.reduce(
                    (e, t) => (i < t && e.push(t - 1), i > t && e.push(t), e),
                    []
                  ));
            });
        }
        _getItemIdBeforeAdding(e) {
          const t = this._idProperty;
          let i;
          if (t in e) {
            if (((i = e[t]), 'string' != typeof i))
              throw new f('collection-add-invalid-id', this);
            if (this.get(i))
              throw new f('collection-add-item-already-exists', this);
          } else e[t] = i = u();
          return i;
        }
        _remove(e) {
          let t,
            i,
            n,
            o = !1;
          const r = this._idProperty;
          if (
            ('string' == typeof e
              ? ((i = e),
                (n = this._itemMap.get(i)),
                (o = !n),
                n && (t = this._items.indexOf(n)))
              : 'number' == typeof e
              ? ((t = e), (n = this._items[t]), (o = !n), n && (i = n[r]))
              : ((n = e),
                (i = n[r]),
                (t = this._items.indexOf(n)),
                (o = -1 == t || !this._itemMap.get(i))),
            o)
          )
            throw new f('collection-remove-404', this);
          this._items.splice(t, 1), this._itemMap.delete(i);
          const s = this._bindToInternalToExternalMap.get(n);
          return (
            this._bindToInternalToExternalMap.delete(n),
            this._bindToExternalToInternalMap.delete(s),
            this.fire('remove', n, t),
            [n, t]
          );
        }
        [Symbol.iterator]() {
          return this._items[Symbol.iterator]();
        }
      }
      function Sn(e) {
        const t = e.next();
        return t.done ? null : t.value;
      }
      class In extends Oi(z()) {
        constructor() {
          super(),
            (this._elements = new Set()),
            (this._nextEventLoopTimeout = null),
            this.set('isFocused', !1),
            this.set('focusedElement', null);
        }
        add(e) {
          if (this._elements.has(e))
            throw new f('focustracker-add-element-already-exist', this);
          this.listenTo(e, 'focus', () => this._focus(e), {useCapture: !0}),
            this.listenTo(e, 'blur', () => this._blur(), {useCapture: !0}),
            this._elements.add(e);
        }
        remove(e) {
          e === this.focusedElement && this._blur(),
            this._elements.has(e) &&
              (this.stopListening(e), this._elements.delete(e));
        }
        destroy() {
          this.stopListening();
        }
        _focus(e) {
          clearTimeout(this._nextEventLoopTimeout),
            (this.focusedElement = e),
            (this.isFocused = !0);
        }
        _blur() {
          clearTimeout(this._nextEventLoopTimeout),
            (this._nextEventLoopTimeout = setTimeout(() => {
              (this.focusedElement = null), (this.isFocused = !1);
            }, 0));
        }
      }
      class Pn {
        constructor() {
          this._listener = new (Oi())();
        }
        listenTo(e) {
          this._listener.listenTo(e, 'keydown', (e, t) => {
            this._listener.fire('_keydown:' + wn(t), t);
          });
        }
        set(e, t, i = {}) {
          const n = _n(e),
            o = i.priority;
          this._listener.listenTo(
            this._listener,
            '_keydown:' + n,
            (e, i) => {
              t(i, () => {
                i.preventDefault(), i.stopPropagation(), e.stop();
              }),
                (e.return = !0);
            },
            {priority: o}
          );
        }
        press(e) {
          return !!this._listener.fire('_keydown:' + wn(e), e);
        }
        stopListening(e) {
          this._listener.stopListening(e);
        }
        destroy() {
          this.stopListening();
        }
      }
      function Mn(e) {
        return q(e)
          ? new Map(e)
          : (function (e) {
              const t = new Map();
              for (const i in e) t.set(i, e[i]);
              return t;
            })(e);
      }
      function Rn(e, t) {
        return (
          !!(i = e.charAt(t - 1)) &&
          1 == i.length &&
          /[\ud800-\udbff]/.test(i) &&
          (function (e) {
            return !!e && 1 == e.length && /[\udc00-\udfff]/.test(e);
          })(e.charAt(t))
        );
        var i;
      }
      function Nn(e, t) {
        return (
          !!(i = e.charAt(t)) &&
          1 == i.length &&
          /[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(
            i
          )
        );
        var i;
      }
      const On = (function () {
        const e = /\p{Regional_Indicator}{2}/u.source,
          t =
            '(?:' +
            [
              /\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,
              /\p{Emoji}\u{FE0F}?\u{20E3}/u,
              /\p{Emoji}\u{FE0F}/u,
              /(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u,
            ]
              .map((e) => e.source)
              .join('|') +
            ')';
        return new RegExp(`${e}|${t}(?:‍${t})*`, 'ug');
      })();
      function Dn(e, t) {
        const i = String(e).matchAll(On);
        return Array.from(i).some(
          (e) => e.index < t && t < e.index + e[0].length
        );
      }
      class Vn extends z() {
        constructor(e) {
          super(),
            (this._disableStack = new Set()),
            (this.editor = e),
            this.set('isEnabled', !0);
        }
        forceDisabled(e) {
          this._disableStack.add(e),
            1 == this._disableStack.size &&
              (this.on('set:isEnabled', Ln, {priority: 'highest'}),
              (this.isEnabled = !1));
        }
        clearForceDisabled(e) {
          this._disableStack.delete(e),
            0 == this._disableStack.size &&
              (this.off('set:isEnabled', Ln), (this.isEnabled = !0));
        }
        destroy() {
          this.stopListening();
        }
        static get isContextPlugin() {
          return !1;
        }
      }
      function Ln(e) {
        (e.return = !1), e.stop();
      }
      class zn extends z() {
        constructor(e) {
          super(),
            (this.editor = e),
            this.set('value', void 0),
            this.set('isEnabled', !1),
            (this._affectsData = !0),
            (this._disableStack = new Set()),
            this.decorate('execute'),
            this.listenTo(this.editor.model.document, 'change', () => {
              this.refresh();
            }),
            this.on(
              'execute',
              (e) => {
                this.isEnabled || e.stop();
              },
              {priority: 'high'}
            ),
            this.listenTo(e, 'change:isReadOnly', (e, t, i) => {
              i && this.affectsData
                ? this.forceDisabled('readOnlyMode')
                : this.clearForceDisabled('readOnlyMode');
            });
        }
        get affectsData() {
          return this._affectsData;
        }
        set affectsData(e) {
          this._affectsData = e;
        }
        refresh() {
          this.isEnabled = !0;
        }
        forceDisabled(e) {
          this._disableStack.add(e),
            1 == this._disableStack.size &&
              (this.on('set:isEnabled', Bn, {priority: 'highest'}),
              (this.isEnabled = !1));
        }
        clearForceDisabled(e) {
          this._disableStack.delete(e),
            0 == this._disableStack.size &&
              (this.off('set:isEnabled', Bn), this.refresh());
        }
        execute(...e) {}
        destroy() {
          this.stopListening();
        }
      }
      function Bn(e) {
        (e.return = !1), e.stop();
      }
      class Fn extends zn {
        constructor() {
          super(...arguments), (this._childCommandsDefinitions = []);
        }
        refresh() {}
        execute(...e) {
          const t = this._getFirstEnabledCommand();
          return !!t && t.execute(e);
        }
        registerChildCommand(e, t = {}) {
          m(this._childCommandsDefinitions, {
            command: e,
            priority: t.priority || 'normal',
          }),
            e.on('change:isEnabled', () => this._checkEnabled()),
            this._checkEnabled();
        }
        _checkEnabled() {
          this.isEnabled = !!this._getFirstEnabledCommand();
        }
        _getFirstEnabledCommand() {
          const e = this._childCommandsDefinitions.find(
            ({command: e}) => e.isEnabled
          );
          return e && e.command;
        }
      }
      class jn extends x() {
        constructor(e, t = [], i = []) {
          super(),
            (this._plugins = new Map()),
            (this._context = e),
            (this._availablePlugins = new Map());
          for (const e of t)
            e.pluginName && this._availablePlugins.set(e.pluginName, e);
          this._contextPlugins = new Map();
          for (const [e, t] of i)
            this._contextPlugins.set(e, t),
              this._contextPlugins.set(t, e),
              e.pluginName && this._availablePlugins.set(e.pluginName, e);
        }
        *[Symbol.iterator]() {
          for (const e of this._plugins) 'function' == typeof e[0] && (yield e);
        }
        get(e) {
          const t = this._plugins.get(e);
          if (!t) {
            let t = e;
            throw (
              ('function' == typeof e && (t = e.pluginName || e.name),
              new f('plugincollection-plugin-not-loaded', this._context, {
                plugin: t,
              }))
            );
          }
          return t;
        }
        has(e) {
          return this._plugins.has(e);
        }
        init(e, t = [], i = []) {
          const n = this,
            o = this._context;
          !(function e(t, i = new Set()) {
            t.forEach((t) => {
              a(t) &&
                (i.has(t) ||
                  (i.add(t),
                  t.pluginName &&
                    !n._availablePlugins.has(t.pluginName) &&
                    n._availablePlugins.set(t.pluginName, t),
                  t.requires && e(t.requires, i)));
            });
          })(e),
            u(e);
          const r = [
            ...(function e(t, i = new Set()) {
              return t
                .map((e) => (a(e) ? e : n._availablePlugins.get(e)))
                .reduce(
                  (t, n) =>
                    i.has(n)
                      ? t
                      : (i.add(n),
                        n.requires &&
                          (u(n.requires, n),
                          e(n.requires, i).forEach((e) => t.add(e))),
                        t.add(n)),
                  new Set()
                );
            })(e.filter((e) => !c(e, t))),
          ];
          !(function (e, t) {
            for (const i of t) {
              if ('function' != typeof i)
                throw new f(
                  'plugincollection-replace-plugin-invalid-type',
                  null,
                  {pluginItem: i}
                );
              const t = i.pluginName;
              if (!t)
                throw new f(
                  'plugincollection-replace-plugin-missing-name',
                  null,
                  {pluginItem: i}
                );
              if (i.requires && i.requires.length)
                throw new f(
                  'plugincollection-plugin-for-replacing-cannot-have-dependencies',
                  null,
                  {pluginName: t}
                );
              const o = n._availablePlugins.get(t);
              if (!o)
                throw new f(
                  'plugincollection-plugin-for-replacing-not-exist',
                  null,
                  {pluginName: t}
                );
              const r = e.indexOf(o);
              if (-1 === r) {
                if (n._contextPlugins.has(o)) return;
                throw new f(
                  'plugincollection-plugin-for-replacing-not-loaded',
                  null,
                  {pluginName: t}
                );
              }
              if (o.requires && o.requires.length)
                throw new f(
                  'plugincollection-replaced-plugin-cannot-have-dependencies',
                  null,
                  {pluginName: t}
                );
              e.splice(r, 1, i), n._availablePlugins.set(t, i);
            }
          })(r, i);
          const s = (function (e) {
            return e.map((e) => {
              let t = n._contextPlugins.get(e);
              return (t = t || new e(o)), n._add(e, t), t;
            });
          })(r);
          return h(s, 'init')
            .then(() => h(s, 'afterInit'))
            .then(() => s);
          function a(e) {
            return 'function' == typeof e;
          }
          function l(e) {
            return a(e) && !!e.isContextPlugin;
          }
          function c(e, t) {
            return t.some((t) => t === e || d(e) === t || d(t) === e);
          }
          function d(e) {
            return a(e) ? e.pluginName || e.name : e;
          }
          function u(e, i = null) {
            e.map((e) => (a(e) ? e : n._availablePlugins.get(e) || e)).forEach(
              (e) => {
                !(function (e, t) {
                  if (!a(e)) {
                    if (t)
                      throw new f('plugincollection-soft-required', o, {
                        missingPlugin: e,
                        requiredBy: d(t),
                      });
                    throw new f('plugincollection-plugin-not-found', o, {
                      plugin: e,
                    });
                  }
                })(e, i),
                  (function (e, t) {
                    if (l(t) && !l(e))
                      throw new f('plugincollection-context-required', o, {
                        plugin: d(e),
                        requiredBy: d(t),
                      });
                  })(e, i),
                  (function (e, i) {
                    if (i && c(e, t))
                      throw new f('plugincollection-required', o, {
                        plugin: d(e),
                        requiredBy: d(i),
                      });
                  })(e, i);
              }
            );
          }
          function h(e, t) {
            return e.reduce(
              (e, i) =>
                i[t]
                  ? n._contextPlugins.has(i)
                    ? e
                    : e.then(i[t].bind(i))
                  : e,
              Promise.resolve()
            );
          }
        }
        destroy() {
          const e = [];
          for (const [, t] of this)
            'function' != typeof t.destroy ||
              this._contextPlugins.has(t) ||
              e.push(t.destroy());
          return Promise.all(e);
        }
        _add(e, t) {
          this._plugins.set(e, t);
          const i = e.pluginName;
          if (i) {
            if (this._plugins.has(i))
              throw new f('plugincollection-plugin-name-conflict', null, {
                pluginName: i,
                plugin1: this._plugins.get(i).constructor,
                plugin2: e,
              });
            this._plugins.set(i, t);
          }
        }
      }
      class Hn {
        constructor(e) {
          (this._contextOwner = null),
            (this.config = new Si(e, this.constructor.defaultConfig));
          const t = this.constructor.builtinPlugins;
          this.config.define('plugins', t), (this.plugins = new jn(this, t));
          const i = this.config.get('language') || {};
          (this.locale = new En({
            uiLanguage: 'string' == typeof i ? i : i.ui,
            contentLanguage: this.config.get('language.content'),
          })),
            (this.t = this.locale.t),
            (this.editors = new Tn());
        }
        initPlugins() {
          const e = this.config.get('plugins') || [],
            t = this.config.get('substitutePlugins') || [];
          for (const i of e.concat(t)) {
            if ('function' != typeof i)
              throw new f('context-initplugins-constructor-only', null, {
                Plugin: i,
              });
            if (!0 !== i.isContextPlugin)
              throw new f('context-initplugins-invalid-plugin', null, {
                Plugin: i,
              });
          }
          return this.plugins.init(e, [], t);
        }
        destroy() {
          return Promise.all(Array.from(this.editors, (e) => e.destroy())).then(
            () => this.plugins.destroy()
          );
        }
        _addEditor(e, t) {
          if (this._contextOwner)
            throw new f('context-addeditor-private-context');
          this.editors.add(e), t && (this._contextOwner = e);
        }
        _removeEditor(e) {
          return (
            this.editors.has(e) && this.editors.remove(e),
            this._contextOwner === e ? this.destroy() : Promise.resolve()
          );
        }
        _getEditorConfig() {
          const e = {};
          for (const t of this.config.names())
            ['plugins', 'removePlugins', 'extraPlugins'].includes(t) ||
              (e[t] = this.config.get(t));
          return e;
        }
        static create(e) {
          return new Promise((t) => {
            const i = new this(e);
            t(i.initPlugins().then(() => i));
          });
        }
      }
      class $n extends z() {
        constructor(e) {
          super(), (this.context = e);
        }
        destroy() {
          this.stopListening();
        }
        static get isContextPlugin() {
          return !0;
        }
      }
      var Un = i(4191),
        Zn = i.n(Un),
        Wn = i(1208),
        qn = i.n(Wn),
        Gn = i(7532),
        Yn = i.n(Gn),
        Kn = i(1120),
        Qn = i.n(Kn),
        Jn = i(8102),
        Xn = i.n(Jn),
        eo = i(3496),
        to = {attributes: {'data-cke': !0}};
      (to.setAttributes = Qn()),
        (to.insert = Yn().bind(null, 'head')),
        (to.domAPI = qn()),
        (to.insertStyleElement = Xn()),
        Zn()(eo.Z, to),
        eo.Z && eo.Z.locals && eo.Z.locals;
      const io = new WeakMap();
      function no({
        view: e,
        element: t,
        text: i,
        isDirectHost: n = !0,
        keepOnFocus: o = !1,
      }) {
        const r = e.document;
        io.has(r) ||
          (io.set(r, new Map()),
          r.registerPostFixer((e) => oo(r, e)),
          r.on(
            'change:isComposing',
            () => {
              e.change((e) => oo(r, e));
            },
            {priority: 'high'}
          )),
          io.get(r).set(t, {
            text: i,
            isDirectHost: n,
            keepOnFocus: o,
            hostElement: n ? t : null,
          }),
          e.change((e) => oo(r, e));
      }
      function oo(e, t) {
        const i = io.get(e),
          n = [];
        let o = !1;
        for (const [e, r] of i)
          r.isDirectHost && (n.push(e), ro(t, e, r) && (o = !0));
        for (const [e, r] of i) {
          if (r.isDirectHost) continue;
          const i = so(e);
          i &&
            (n.includes(i) || ((r.hostElement = i), ro(t, e, r) && (o = !0)));
        }
        return o;
      }
      function ro(e, t, i) {
        const {text: n, isDirectHost: o, hostElement: r} = i;
        let s = !1;
        return (
          r.getAttribute('data-placeholder') !== n &&
            (e.setAttribute('data-placeholder', n, r), (s = !0)),
          (o || 1 == t.childCount) &&
          (function (e, t) {
            if (!e.isAttached()) return !1;
            const i = Array.from(e.getChildren()).some(
              (e) => !e.is('uiElement')
            );
            if (i) return !1;
            const n = e.document,
              o = n.selection.anchor;
            return !(
              (n.isComposing && o && o.parent === e) ||
              (!t && n.isFocused && (!o || o.parent === e))
            );
          })(r, i.keepOnFocus)
            ? (function (e, t) {
                return (
                  !t.hasClass('ck-placeholder') &&
                  (e.addClass('ck-placeholder', t), !0)
                );
              })(e, r) && (s = !0)
            : (function (e, t) {
                return (
                  !!t.hasClass('ck-placeholder') &&
                  (e.removeClass('ck-placeholder', t), !0)
                );
              })(e, r) && (s = !0),
          s
        );
      }
      function so(e) {
        if (e.childCount) {
          const t = e.getChild(0);
          if (
            t.is('element') &&
            !t.is('uiElement') &&
            !t.is('attributeElement')
          )
            return t;
        }
        return null;
      }
      class ao {
        is() {
          throw new Error('is() method is abstract');
        }
      }
      var lo = function (e) {
        return Ci(e, 4);
      };
      class co extends x(ao) {
        constructor(e) {
          super(), (this.document = e), (this.parent = null);
        }
        get index() {
          let e;
          if (!this.parent) return null;
          if (-1 == (e = this.parent.getChildIndex(this)))
            throw new f('view-node-not-found-in-parent', this);
          return e;
        }
        get nextSibling() {
          const e = this.index;
          return (null !== e && this.parent.getChild(e + 1)) || null;
        }
        get previousSibling() {
          const e = this.index;
          return (null !== e && this.parent.getChild(e - 1)) || null;
        }
        get root() {
          let e = this;
          for (; e.parent; ) e = e.parent;
          return e;
        }
        isAttached() {
          return this.root.is('rootElement');
        }
        getPath() {
          const e = [];
          let t = this;
          for (; t.parent; ) e.unshift(t.index), (t = t.parent);
          return e;
        }
        getAncestors(e = {}) {
          const t = [];
          let i = e.includeSelf ? this : this.parent;
          for (; i; ) t[e.parentFirst ? 'push' : 'unshift'](i), (i = i.parent);
          return t;
        }
        getCommonAncestor(e, t = {}) {
          const i = this.getAncestors(t),
            n = e.getAncestors(t);
          let o = 0;
          for (; i[o] == n[o] && i[o]; ) o++;
          return 0 === o ? null : i[o - 1];
        }
        isBefore(e) {
          if (this == e) return !1;
          if (this.root !== e.root) return !1;
          const t = this.getPath(),
            i = e.getPath(),
            n = W(t, i);
          switch (n) {
            case 'prefix':
              return !0;
            case 'extension':
              return !1;
            default:
              return t[n] < i[n];
          }
        }
        isAfter(e) {
          return this != e && this.root === e.root && !this.isBefore(e);
        }
        _remove() {
          this.parent._removeChildren(this.index);
        }
        _fireChange(e, t) {
          this.fire(`change:${e}`, t),
            this.parent && this.parent._fireChange(e, t);
        }
        toJSON() {
          const e = lo(this);
          return delete e.parent, e;
        }
      }
      co.prototype.is = function (e) {
        return 'node' === e || 'view:node' === e;
      };
      class uo extends co {
        constructor(e, t) {
          super(e), (this._textData = t);
        }
        get data() {
          return this._textData;
        }
        get _data() {
          return this.data;
        }
        set _data(e) {
          this._fireChange('text', this), (this._textData = e);
        }
        isSimilar(e) {
          return e instanceof uo && (this === e || this.data === e.data);
        }
        _clone() {
          return new uo(this.document, this.data);
        }
      }
      uo.prototype.is = function (e) {
        return (
          '$text' === e ||
          'view:$text' === e ||
          'text' === e ||
          'view:text' === e ||
          'node' === e ||
          'view:node' === e
        );
      };
      class ho extends ao {
        constructor(e, t, i) {
          if ((super(), (this.textNode = e), t < 0 || t > e.data.length))
            throw new f('view-textproxy-wrong-offsetintext', this);
          if (i < 0 || t + i > e.data.length)
            throw new f('view-textproxy-wrong-length', this);
          (this.data = e.data.substring(t, t + i)), (this.offsetInText = t);
        }
        get offsetSize() {
          return this.data.length;
        }
        get isPartial() {
          return this.data.length !== this.textNode.data.length;
        }
        get parent() {
          return this.textNode.parent;
        }
        get root() {
          return this.textNode.root;
        }
        get document() {
          return this.textNode.document;
        }
        getAncestors(e = {}) {
          const t = [];
          let i = e.includeSelf ? this.textNode : this.parent;
          for (; null !== i; )
            t[e.parentFirst ? 'push' : 'unshift'](i), (i = i.parent);
          return t;
        }
      }
      ho.prototype.is = function (e) {
        return (
          '$textProxy' === e ||
          'view:$textProxy' === e ||
          'textProxy' === e ||
          'view:textProxy' === e
        );
      };
      class mo {
        constructor(...e) {
          (this._patterns = []), this.add(...e);
        }
        add(...e) {
          for (let t of e)
            ('string' == typeof t || t instanceof RegExp) && (t = {name: t}),
              this._patterns.push(t);
        }
        match(...e) {
          for (const t of e)
            for (const e of this._patterns) {
              const i = go(t, e);
              if (i) return {element: t, pattern: e, match: i};
            }
          return null;
        }
        matchAll(...e) {
          const t = [];
          for (const i of e)
            for (const e of this._patterns) {
              const n = go(i, e);
              n && t.push({element: i, pattern: e, match: n});
            }
          return t.length > 0 ? t : null;
        }
        getElementName() {
          if (1 !== this._patterns.length) return null;
          const e = this._patterns[0],
            t = e.name;
          return 'function' == typeof e || !t || t instanceof RegExp ? null : t;
        }
      }
      function go(e, t) {
        if ('function' == typeof t) return t(e);
        const i = {};
        return (t.name &&
          ((i.name = (function (e, t) {
            return e instanceof RegExp ? !!t.match(e) : e === t;
          })(t.name, e.name)),
          !i.name)) ||
          (t.attributes &&
            ((i.attributes = (function (e, t) {
              const i = new Set(t.getAttributeKeys());
              return (
                pe(e)
                  ? (void 0 !== e.style &&
                      p('matcher-pattern-deprecated-attributes-style-key', e),
                    void 0 !== e.class &&
                      p('matcher-pattern-deprecated-attributes-class-key', e))
                  : (i.delete('style'), i.delete('class')),
                fo(e, i, (e) => t.getAttribute(e))
              );
            })(t.attributes, e)),
            !i.attributes)) ||
          (t.classes &&
            ((i.classes = (function (e, t) {
              return fo(e, t.getClassNames(), () => {});
            })(t.classes, e)),
            !i.classes)) ||
          (t.styles &&
            ((i.styles = (function (e, t) {
              return fo(e, t.getStyleNames(!0), (e) => t.getStyle(e));
            })(t.styles, e)),
            !i.styles))
          ? null
          : i;
      }
      function fo(e, t, i) {
        const n = (function (e) {
            return Array.isArray(e)
              ? e.map((e) =>
                  pe(e)
                    ? ((void 0 !== e.key && void 0 !== e.value) ||
                        p('matcher-pattern-missing-key-or-value', e),
                      [e.key, e.value])
                    : [e, !0]
                )
              : pe(e)
              ? Object.entries(e)
              : [[e, !0]];
          })(e),
          o = Array.from(t),
          r = [];
        if (
          (n.forEach(([e, t]) => {
            o.forEach((n) => {
              (function (e, t) {
                return (
                  !0 === e || e === t || (e instanceof RegExp && t.match(e))
                );
              })(e, n) &&
                (function (e, t, i) {
                  if (!0 === e) return !0;
                  const n = i(t);
                  return (
                    e === n || (e instanceof RegExp && !!String(n).match(e))
                  );
                })(t, n, i) &&
                r.push(n);
            });
          }),
          n.length && !(r.length < n.length))
        )
          return r;
      }
      var po = function (e) {
          return 'symbol' == typeof e || (se(e) && '[object Symbol]' == oe(e));
        },
        bo = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
        ko = /^\w*$/;
      function wo(e, t) {
        if ('function' != typeof e || (null != t && 'function' != typeof t))
          throw new TypeError('Expected a function');
        var i = function () {
          var n = arguments,
            o = t ? t.apply(this, n) : n[0],
            r = i.cache;
          if (r.has(o)) return r.get(o);
          var s = e.apply(this, n);
          return (i.cache = r.set(o, s) || r), s;
        };
        return (i.cache = new (wo.Cache || $e)()), i;
      }
      wo.Cache = $e;
      var _o,
        vo,
        yo =
          /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
        xo = /\\(\\)?/g,
        Ao =
          ((_o = wo(
            function (e) {
              var t = [];
              return (
                46 === e.charCodeAt(0) && t.push(''),
                e.replace(yo, function (e, i, n, o) {
                  t.push(n ? o.replace(xo, '$1') : i || e);
                }),
                t
              );
            },
            function (e) {
              return 500 === vo.size && vo.clear(), e;
            }
          )),
          (vo = _o.cache),
          _o),
        Co = function (e, t) {
          for (
            var i = -1, n = null == e ? 0 : e.length, o = Array(n);
            ++i < n;

          )
            o[i] = t(e[i], i, e);
          return o;
        },
        Eo = Q ? Q.prototype : void 0,
        To = Eo ? Eo.toString : void 0,
        So = function e(t) {
          if ('string' == typeof t) return t;
          if (re(t)) return Co(t, e) + '';
          if (po(t)) return To ? To.call(t) : '';
          var i = t + '';
          return '0' == i && 1 / t == -1 / 0 ? '-0' : i;
        },
        Io = function (e) {
          return null == e ? '' : So(e);
        },
        Po = function (e, t) {
          return re(e)
            ? e
            : (function (e, t) {
                if (re(e)) return !1;
                var i = typeof e;
                return (
                  !(
                    'number' != i &&
                    'symbol' != i &&
                    'boolean' != i &&
                    null != e &&
                    !po(e)
                  ) ||
                  ko.test(e) ||
                  !bo.test(e) ||
                  (null != t && e in Object(t))
                );
              })(e, t)
            ? [e]
            : Ao(Io(e));
        },
        Mo = function (e) {
          if ('string' == typeof e || po(e)) return e;
          var t = e + '';
          return '0' == t && 1 / e == -1 / 0 ? '-0' : t;
        },
        Ro = function (e, t) {
          for (var i = 0, n = (t = Po(t, e)).length; null != e && i < n; )
            e = e[Mo(t[i++])];
          return i && i == n ? e : void 0;
        },
        No = function (e, t, i) {
          var n = -1,
            o = e.length;
          t < 0 && (t = -t > o ? 0 : o + t),
            (i = i > o ? o : i) < 0 && (i += o),
            (o = t > i ? 0 : (i - t) >>> 0),
            (t >>>= 0);
          for (var r = Array(o); ++n < o; ) r[n] = e[n + t];
          return r;
        },
        Oo = function (e, t) {
          return (
            null ==
              (e = (function (e, t) {
                return t.length < 2 ? e : Ro(e, No(t, 0, -1));
              })(e, (t = Po(t, e)))) ||
            delete e[
              Mo(
                ((i = t), (n = null == i ? 0 : i.length), n ? i[n - 1] : void 0)
              )
            ]
          );
          var i, n;
        },
        Do = function (e, t, i) {
          var n = null == e ? void 0 : Ro(e, t);
          return void 0 === n ? i : n;
        },
        Vo = function (e, t, i) {
          ((void 0 !== i && !be(e[t], i)) || (void 0 === i && !(t in e))) &&
            qe(e, t, i);
        },
        Lo = function (e, t, i) {
          for (var n = -1, o = Object(e), r = i(e), s = r.length; s--; ) {
            var a = r[++n];
            if (!1 === t(o[a], a, o)) break;
          }
          return e;
        },
        zo = function (e, t) {
          if (
            ('constructor' !== t || 'function' != typeof e[t]) &&
            '__proto__' != t
          )
            return e[t];
        },
        Bo = function (e, t, i, n, o, r, s) {
          var a,
            l = zo(e, i),
            c = zo(t, i),
            d = s.get(c);
          if (d) Vo(e, i, d);
          else {
            var u = r ? r(l, c, i + '', e, t, s) : void 0,
              h = void 0 === u;
            if (h) {
              var m = re(c),
                g = !m && st(c),
                f = !m && !g && bt(c);
              (u = c),
                m || g || f
                  ? re(l)
                    ? (u = l)
                    : se((a = l)) && At(a)
                    ? (u = Ot(l))
                    : g
                    ? ((h = !1), (u = Nt(c, !0)))
                    : f
                    ? ((h = !1), (u = hi(c, !0)))
                    : (u = [])
                  : pe(c) || it(c)
                  ? ((u = l),
                    it(l)
                      ? (u = (function (e) {
                          return Ke(e, St(e));
                        })(l))
                      : (M(l) && !ye(l)) || (u = pi(c)))
                  : (h = !1);
            }
            h && (s.set(c, u), o(u, c, n, r, s), s.delete(c)), Vo(e, i, u);
          }
        },
        Fo = function e(t, i, n, o, r) {
          t !== i &&
            Lo(
              i,
              function (s, a) {
                if ((r || (r = new Ze()), M(s))) Bo(t, i, a, n, e, o, r);
                else {
                  var l = o ? o(zo(t, a), s, a + '', t, i, r) : void 0;
                  void 0 === l && (l = s), Vo(t, a, l);
                }
              },
              St
            );
        },
        jo = function (e) {
          return e;
        },
        Ho = Math.max,
        $o = We
          ? function (e, t) {
              return We(e, 'toString', {
                configurable: !0,
                enumerable: !1,
                value:
                  ((i = t),
                  function () {
                    return i;
                  }),
                writable: !0,
              });
              var i;
            }
          : jo,
        Uo = Date.now,
        Zo = (function (e) {
          var t = 0,
            i = 0;
          return function () {
            var n = Uo(),
              o = 16 - (n - i);
            if (((i = n), o > 0)) {
              if (++t >= 800) return arguments[0];
            } else t = 0;
            return e.apply(void 0, arguments);
          };
        })($o),
        Wo = function (e, t) {
          return Zo(
            (function (e, t, i) {
              return (
                (t = Ho(void 0 === t ? e.length - 1 : t, 0)),
                function () {
                  for (
                    var n = arguments,
                      o = -1,
                      r = Ho(n.length - t, 0),
                      s = Array(r);
                    ++o < r;

                  )
                    s[o] = n[t + o];
                  o = -1;
                  for (var a = Array(t + 1); ++o < t; ) a[o] = n[o];
                  return (
                    (a[t] = i(s)),
                    (function (e, t, i) {
                      switch (i.length) {
                        case 0:
                          return e.call(t);
                        case 1:
                          return e.call(t, i[0]);
                        case 2:
                          return e.call(t, i[0], i[1]);
                        case 3:
                          return e.call(t, i[0], i[1], i[2]);
                      }
                      return e.apply(t, i);
                    })(e, this, a)
                  );
                }
              );
            })(e, t, jo),
            e + ''
          );
        },
        qo = function (e) {
          return Wo(function (t, i) {
            var n = -1,
              o = i.length,
              r = o > 1 ? i[o - 1] : void 0,
              s = o > 2 ? i[2] : void 0;
            for (
              r = e.length > 3 && 'function' == typeof r ? (o--, r) : void 0,
                s &&
                  (function (e, t, i) {
                    if (!M(i)) return !1;
                    var n = typeof t;
                    return (
                      !!('number' == n
                        ? At(i) && lt(t, i.length)
                        : 'string' == n && (t in i)) && be(i[t], e)
                    );
                  })(i[0], i[1], s) &&
                  ((r = o < 3 ? void 0 : r), (o = 1)),
                t = Object(t);
              ++n < o;

            ) {
              var a = i[n];
              a && e(t, a, n, r);
            }
            return t;
          });
        },
        Go = qo(function (e, t, i) {
          Fo(e, t, i);
        }),
        Yo = function (e, t, i) {
          return null == e
            ? e
            : (function (e, t, i, n) {
                if (!M(e)) return e;
                for (
                  var o = -1, r = (t = Po(t, e)).length, s = r - 1, a = e;
                  null != a && ++o < r;

                ) {
                  var l = Mo(t[o]),
                    c = i;
                  if (
                    '__proto__' === l ||
                    'constructor' === l ||
                    'prototype' === l
                  )
                    return e;
                  if (o != s) {
                    var d = a[l];
                    void 0 === (c = n ? n(d, l, a) : void 0) &&
                      (c = M(d) ? d : lt(t[o + 1]) ? [] : {});
                  }
                  Ye(a, l, c), (a = a[l]);
                }
                return e;
              })(e, t, i);
        };
      class Ko {
        constructor(e) {
          (this._styles = {}), (this._styleProcessor = e);
        }
        get isEmpty() {
          const e = Object.entries(this._styles);
          return !Array.from(e).length;
        }
        get size() {
          return this.isEmpty ? 0 : this.getStyleNames().length;
        }
        setTo(e) {
          this.clear();
          const t = Array.from(
            (function (e) {
              let t = null,
                i = 0,
                n = 0,
                o = null;
              const r = new Map();
              if ('' === e) return r;
              ';' != e.charAt(e.length - 1) && (e += ';');
              for (let s = 0; s < e.length; s++) {
                const a = e.charAt(s);
                if (null === t)
                  switch (a) {
                    case ':':
                      o || ((o = e.substr(i, s - i)), (n = s + 1));
                      break;
                    case '"':
                    case "'":
                      t = a;
                      break;
                    case ';': {
                      const t = e.substr(n, s - n);
                      o && r.set(o.trim(), t.trim()), (o = null), (i = s + 1);
                      break;
                    }
                  }
                else a === t && (t = null);
              }
              return r;
            })(e).entries()
          );
          for (const [e, i] of t)
            this._styleProcessor.toNormalizedForm(e, i, this._styles);
        }
        has(e) {
          if (this.isEmpty) return !1;
          const t = this._styleProcessor
            .getReducedForm(e, this._styles)
            .find(([t]) => t === e);
          return Array.isArray(t);
        }
        set(e, t) {
          if (M(e))
            for (const [t, i] of Object.entries(e))
              this._styleProcessor.toNormalizedForm(t, i, this._styles);
          else this._styleProcessor.toNormalizedForm(e, t, this._styles);
        }
        remove(e) {
          const t = Jo(e);
          (function (e, t) {
            null == e || Oo(e, t);
          })(this._styles, t),
            delete this._styles[e],
            this._cleanEmptyObjectsOnPath(t);
        }
        getNormalized(e) {
          return this._styleProcessor.getNormalized(e, this._styles);
        }
        toString() {
          return this.isEmpty
            ? ''
            : this._getStylesEntries()
                .map((e) => e.join(':'))
                .sort()
                .join(';') + ';';
        }
        getAsString(e) {
          if (this.isEmpty) return;
          if (this._styles[e] && !M(this._styles[e])) return this._styles[e];
          const t = this._styleProcessor
            .getReducedForm(e, this._styles)
            .find(([t]) => t === e);
          return Array.isArray(t) ? t[1] : void 0;
        }
        getStyleNames(e = !1) {
          return this.isEmpty
            ? []
            : e
            ? this._styleProcessor.getStyleNames(this._styles)
            : this._getStylesEntries().map(([e]) => e);
        }
        clear() {
          this._styles = {};
        }
        _getStylesEntries() {
          const e = [],
            t = Object.keys(this._styles);
          for (const i of t)
            e.push(...this._styleProcessor.getReducedForm(i, this._styles));
          return e;
        }
        _cleanEmptyObjectsOnPath(e) {
          const t = e.split('.');
          if (!(t.length > 1)) return;
          const i = t.splice(0, t.length - 1).join('.'),
            n = Do(this._styles, i);
          n && !Array.from(Object.keys(n)).length && this.remove(i);
        }
      }
      class Qo {
        constructor() {
          (this._normalizers = new Map()),
            (this._extractors = new Map()),
            (this._reducers = new Map()),
            (this._consumables = new Map());
        }
        toNormalizedForm(e, t, i) {
          if (M(t)) Xo(i, Jo(e), t);
          else if (this._normalizers.has(e)) {
            const n = this._normalizers.get(e),
              {path: o, value: r} = n(t);
            Xo(i, o, r);
          } else Xo(i, e, t);
        }
        getNormalized(e, t) {
          if (!e) return Go({}, t);
          if (void 0 !== t[e]) return t[e];
          if (this._extractors.has(e)) {
            const i = this._extractors.get(e);
            if ('string' == typeof i) return Do(t, i);
            const n = i(e, t);
            if (n) return n;
          }
          return Do(t, Jo(e));
        }
        getReducedForm(e, t) {
          const i = this.getNormalized(e, t);
          return void 0 === i
            ? []
            : this._reducers.has(e)
            ? this._reducers.get(e)(i)
            : [[e, i]];
        }
        getStyleNames(e) {
          const t = Array.from(this._consumables.keys()).filter((t) => {
              const i = this.getNormalized(t, e);
              return i && 'object' == typeof i ? Object.keys(i).length : i;
            }),
            i = new Set([...t, ...Object.keys(e)]);
          return Array.from(i.values());
        }
        getRelatedStyles(e) {
          return this._consumables.get(e) || [];
        }
        setNormalizer(e, t) {
          this._normalizers.set(e, t);
        }
        setExtractor(e, t) {
          this._extractors.set(e, t);
        }
        setReducer(e, t) {
          this._reducers.set(e, t);
        }
        setStyleRelation(e, t) {
          this._mapStyleNames(e, t);
          for (const i of t) this._mapStyleNames(i, [e]);
        }
        _mapStyleNames(e, t) {
          this._consumables.has(e) || this._consumables.set(e, []),
            this._consumables.get(e).push(...t);
        }
      }
      function Jo(e) {
        return e.replace('-', '.');
      }
      function Xo(e, t, i) {
        let n = i;
        M(i) && (n = Go({}, Do(e, t), i)), Yo(e, t, n);
      }
      class er extends co {
        constructor(e, t, i, n) {
          if (
            (super(e),
            (this._unsafeAttributesToRender = []),
            (this._customProperties = new Map()),
            (this.name = t),
            (this._attrs = (function (e) {
              const t = Mn(e);
              for (const [e, i] of t)
                null === i
                  ? t.delete(e)
                  : 'string' != typeof i && t.set(e, String(i));
              return t;
            })(i)),
            (this._children = []),
            n && this._insertChild(0, n),
            (this._classes = new Set()),
            this._attrs.has('class'))
          ) {
            const e = this._attrs.get('class');
            tr(this._classes, e), this._attrs.delete('class');
          }
          (this._styles = new Ko(this.document.stylesProcessor)),
            this._attrs.has('style') &&
              (this._styles.setTo(this._attrs.get('style')),
              this._attrs.delete('style'));
        }
        get childCount() {
          return this._children.length;
        }
        get isEmpty() {
          return 0 === this._children.length;
        }
        getChild(e) {
          return this._children[e];
        }
        getChildIndex(e) {
          return this._children.indexOf(e);
        }
        getChildren() {
          return this._children[Symbol.iterator]();
        }
        *getAttributeKeys() {
          this._classes.size > 0 && (yield 'class'),
            this._styles.isEmpty || (yield 'style'),
            yield* this._attrs.keys();
        }
        *getAttributes() {
          yield* this._attrs.entries(),
            this._classes.size > 0 &&
              (yield ['class', this.getAttribute('class')]),
            this._styles.isEmpty ||
              (yield ['style', this.getAttribute('style')]);
        }
        getAttribute(e) {
          if ('class' == e)
            return this._classes.size > 0
              ? [...this._classes].join(' ')
              : void 0;
          if ('style' == e) {
            const e = this._styles.toString();
            return '' == e ? void 0 : e;
          }
          return this._attrs.get(e);
        }
        hasAttribute(e) {
          return 'class' == e
            ? this._classes.size > 0
            : 'style' == e
            ? !this._styles.isEmpty
            : this._attrs.has(e);
        }
        isSimilar(e) {
          if (!(e instanceof er)) return !1;
          if (this === e) return !0;
          if (this.name != e.name) return !1;
          if (
            this._attrs.size !== e._attrs.size ||
            this._classes.size !== e._classes.size ||
            this._styles.size !== e._styles.size
          )
            return !1;
          for (const [t, i] of this._attrs)
            if (!e._attrs.has(t) || e._attrs.get(t) !== i) return !1;
          for (const t of this._classes) if (!e._classes.has(t)) return !1;
          for (const t of this._styles.getStyleNames())
            if (
              !e._styles.has(t) ||
              e._styles.getAsString(t) !== this._styles.getAsString(t)
            )
              return !1;
          return !0;
        }
        hasClass(...e) {
          for (const t of e) if (!this._classes.has(t)) return !1;
          return !0;
        }
        getClassNames() {
          return this._classes.keys();
        }
        getStyle(e) {
          return this._styles.getAsString(e);
        }
        getNormalizedStyle(e) {
          return this._styles.getNormalized(e);
        }
        getStyleNames(e) {
          return this._styles.getStyleNames(e);
        }
        hasStyle(...e) {
          for (const t of e) if (!this._styles.has(t)) return !1;
          return !0;
        }
        findAncestor(...e) {
          const t = new mo(...e);
          let i = this.parent;
          for (; i && !i.is('documentFragment'); ) {
            if (t.match(i)) return i;
            i = i.parent;
          }
          return null;
        }
        getCustomProperty(e) {
          return this._customProperties.get(e);
        }
        *getCustomProperties() {
          yield* this._customProperties.entries();
        }
        getIdentity() {
          const e = Array.from(this._classes).sort().join(','),
            t = this._styles.toString(),
            i = Array.from(this._attrs)
              .map((e) => `${e[0]}="${e[1]}"`)
              .sort()
              .join(' ');
          return (
            this.name +
            ('' == e ? '' : ` class="${e}"`) +
            (t ? ` style="${t}"` : '') +
            ('' == i ? '' : ` ${i}`)
          );
        }
        shouldRenderUnsafeAttribute(e) {
          return this._unsafeAttributesToRender.includes(e);
        }
        _clone(e = !1) {
          const t = [];
          if (e) for (const i of this.getChildren()) t.push(i._clone(e));
          const i = new this.constructor(
            this.document,
            this.name,
            this._attrs,
            t
          );
          return (
            (i._classes = new Set(this._classes)),
            i._styles.set(this._styles.getNormalized()),
            (i._customProperties = new Map(this._customProperties)),
            (i.getFillerOffset = this.getFillerOffset),
            (i._unsafeAttributesToRender = this._unsafeAttributesToRender),
            i
          );
        }
        _appendChild(e) {
          return this._insertChild(this.childCount, e);
        }
        _insertChild(e, t) {
          this._fireChange('children', this);
          let i = 0;
          const n = (function (e, t) {
            return 'string' == typeof t
              ? [new uo(e, t)]
              : (q(t) || (t = [t]),
                Array.from(t).map((t) =>
                  'string' == typeof t
                    ? new uo(e, t)
                    : t instanceof ho
                    ? new uo(e, t.data)
                    : t
                ));
          })(this.document, t);
          for (const t of n)
            null !== t.parent && t._remove(),
              (t.parent = this),
              (t.document = this.document),
              this._children.splice(e, 0, t),
              e++,
              i++;
          return i;
        }
        _removeChildren(e, t = 1) {
          this._fireChange('children', this);
          for (let i = e; i < e + t; i++) this._children[i].parent = null;
          return this._children.splice(e, t);
        }
        _setAttribute(e, t) {
          const i = String(t);
          this._fireChange('attributes', this),
            'class' == e
              ? tr(this._classes, i)
              : 'style' == e
              ? this._styles.setTo(i)
              : this._attrs.set(e, i);
        }
        _removeAttribute(e) {
          return (
            this._fireChange('attributes', this),
            'class' == e
              ? this._classes.size > 0 && (this._classes.clear(), !0)
              : 'style' == e
              ? !this._styles.isEmpty && (this._styles.clear(), !0)
              : this._attrs.delete(e)
          );
        }
        _addClass(e) {
          this._fireChange('attributes', this);
          for (const t of xn(e)) this._classes.add(t);
        }
        _removeClass(e) {
          this._fireChange('attributes', this);
          for (const t of xn(e)) this._classes.delete(t);
        }
        _setStyle(e, t) {
          this._fireChange('attributes', this),
            'string' != typeof e ? this._styles.set(e) : this._styles.set(e, t);
        }
        _removeStyle(e) {
          this._fireChange('attributes', this);
          for (const t of xn(e)) this._styles.remove(t);
        }
        _setCustomProperty(e, t) {
          this._customProperties.set(e, t);
        }
        _removeCustomProperty(e) {
          return this._customProperties.delete(e);
        }
      }
      function tr(e, t) {
        const i = t.split(/\s+/);
        e.clear(), i.forEach((t) => e.add(t));
      }
      er.prototype.is = function (e, t) {
        return t
          ? t === this.name && ('element' === e || 'view:element' === e)
          : 'element' === e ||
              'view:element' === e ||
              'node' === e ||
              'view:node' === e;
      };
      class ir extends er {
        constructor(e, t, i, n) {
          super(e, t, i, n), (this.getFillerOffset = nr);
        }
      }
      function nr() {
        const e = [...this.getChildren()],
          t = e[this.childCount - 1];
        if (t && t.is('element', 'br')) return this.childCount;
        for (const t of e) if (!t.is('uiElement')) return null;
        return this.childCount;
      }
      ir.prototype.is = function (e, t) {
        return t
          ? t === this.name &&
              ('containerElement' === e ||
                'view:containerElement' === e ||
                'element' === e ||
                'view:element' === e)
          : 'containerElement' === e ||
              'view:containerElement' === e ||
              'element' === e ||
              'view:element' === e ||
              'node' === e ||
              'view:node' === e;
      };
      class or extends z(ir) {
        constructor(e, t, i, n) {
          super(e, t, i, n),
            this.set('isReadOnly', !1),
            this.set('isFocused', !1),
            this.bind('isReadOnly').to(e),
            this.bind('isFocused').to(
              e,
              'isFocused',
              (t) => t && e.selection.editableElement == this
            ),
            this.listenTo(e.selection, 'change', () => {
              this.isFocused =
                e.isFocused && e.selection.editableElement == this;
            });
        }
        destroy() {
          this.stopListening();
        }
      }
      or.prototype.is = function (e, t) {
        return t
          ? t === this.name &&
              ('editableElement' === e ||
                'view:editableElement' === e ||
                'containerElement' === e ||
                'view:containerElement' === e ||
                'element' === e ||
                'view:element' === e)
          : 'editableElement' === e ||
              'view:editableElement' === e ||
              'containerElement' === e ||
              'view:containerElement' === e ||
              'element' === e ||
              'view:element' === e ||
              'node' === e ||
              'view:node' === e;
      };
      const rr = Symbol('rootName');
      class sr extends or {
        constructor(e, t) {
          super(e, t), (this.rootName = 'main');
        }
        get rootName() {
          return this.getCustomProperty(rr);
        }
        set rootName(e) {
          this._setCustomProperty(rr, e);
        }
        set _name(e) {
          this.name = e;
        }
      }
      sr.prototype.is = function (e, t) {
        return t
          ? t === this.name &&
              ('rootElement' === e ||
                'view:rootElement' === e ||
                'editableElement' === e ||
                'view:editableElement' === e ||
                'containerElement' === e ||
                'view:containerElement' === e ||
                'element' === e ||
                'view:element' === e)
          : 'rootElement' === e ||
              'view:rootElement' === e ||
              'editableElement' === e ||
              'view:editableElement' === e ||
              'containerElement' === e ||
              'view:containerElement' === e ||
              'element' === e ||
              'view:element' === e ||
              'node' === e ||
              'view:node' === e;
      };
      class ar {
        constructor(e = {}) {
          if (!e.boundaries && !e.startPosition)
            throw new f('view-tree-walker-no-start-position', null);
          if (
            e.direction &&
            'forward' != e.direction &&
            'backward' != e.direction
          )
            throw new f('view-tree-walker-unknown-direction', e.startPosition, {
              direction: e.direction,
            });
          (this.boundaries = e.boundaries || null),
            e.startPosition
              ? (this._position = lr._createAt(e.startPosition))
              : (this._position = lr._createAt(
                  e.boundaries['backward' == e.direction ? 'end' : 'start']
                )),
            (this.direction = e.direction || 'forward'),
            (this.singleCharacters = !!e.singleCharacters),
            (this.shallow = !!e.shallow),
            (this.ignoreElementEnd = !!e.ignoreElementEnd),
            (this._boundaryStartParent = this.boundaries
              ? this.boundaries.start.parent
              : null),
            (this._boundaryEndParent = this.boundaries
              ? this.boundaries.end.parent
              : null);
        }
        [Symbol.iterator]() {
          return this;
        }
        get position() {
          return this._position;
        }
        skip(e) {
          let t, i;
          do {
            (i = this.position), (t = this.next());
          } while (!t.done && e(t.value));
          t.done || (this._position = i);
        }
        next() {
          return 'forward' == this.direction ? this._next() : this._previous();
        }
        _next() {
          let e = this.position.clone();
          const t = this.position,
            i = e.parent;
          if (null === i.parent && e.offset === i.childCount)
            return {done: !0, value: void 0};
          if (
            i === this._boundaryEndParent &&
            e.offset == this.boundaries.end.offset
          )
            return {done: !0, value: void 0};
          let n;
          if (i instanceof uo) {
            if (e.isAtEnd)
              return (this._position = lr._createAfter(i)), this._next();
            n = i.data[e.offset];
          } else n = i.getChild(e.offset);
          if (n instanceof er)
            return (
              this.shallow ? e.offset++ : (e = new lr(n, 0)),
              (this._position = e),
              this._formatReturnValue('elementStart', n, t, e, 1)
            );
          if (n instanceof uo) {
            if (this.singleCharacters)
              return (e = new lr(n, 0)), (this._position = e), this._next();
            {
              let i,
                o = n.data.length;
              return (
                n == this._boundaryEndParent
                  ? ((o = this.boundaries.end.offset),
                    (i = new ho(n, 0, o)),
                    (e = lr._createAfter(i)))
                  : ((i = new ho(n, 0, n.data.length)), e.offset++),
                (this._position = e),
                this._formatReturnValue('text', i, t, e, o)
              );
            }
          }
          if ('string' == typeof n) {
            let n;
            n = this.singleCharacters
              ? 1
              : (i === this._boundaryEndParent
                  ? this.boundaries.end.offset
                  : i.data.length) - e.offset;
            const o = new ho(i, e.offset, n);
            return (
              (e.offset += n),
              (this._position = e),
              this._formatReturnValue('text', o, t, e, n)
            );
          }
          return (
            (e = lr._createAfter(i)),
            (this._position = e),
            this.ignoreElementEnd
              ? this._next()
              : this._formatReturnValue('elementEnd', i, t, e)
          );
        }
        _previous() {
          let e = this.position.clone();
          const t = this.position,
            i = e.parent;
          if (null === i.parent && 0 === e.offset)
            return {done: !0, value: void 0};
          if (
            i == this._boundaryStartParent &&
            e.offset == this.boundaries.start.offset
          )
            return {done: !0, value: void 0};
          let n;
          if (i instanceof uo) {
            if (e.isAtStart)
              return (this._position = lr._createBefore(i)), this._previous();
            n = i.data[e.offset - 1];
          } else n = i.getChild(e.offset - 1);
          if (n instanceof er)
            return this.shallow
              ? (e.offset--,
                (this._position = e),
                this._formatReturnValue('elementStart', n, t, e, 1))
              : ((e = new lr(n, n.childCount)),
                (this._position = e),
                this.ignoreElementEnd
                  ? this._previous()
                  : this._formatReturnValue('elementEnd', n, t, e));
          if (n instanceof uo) {
            if (this.singleCharacters)
              return (
                (e = new lr(n, n.data.length)),
                (this._position = e),
                this._previous()
              );
            {
              let i,
                o = n.data.length;
              if (n == this._boundaryStartParent) {
                const t = this.boundaries.start.offset;
                (i = new ho(n, t, n.data.length - t)),
                  (o = i.data.length),
                  (e = lr._createBefore(i));
              } else (i = new ho(n, 0, n.data.length)), e.offset--;
              return (
                (this._position = e),
                this._formatReturnValue('text', i, t, e, o)
              );
            }
          }
          if ('string' == typeof n) {
            let n;
            if (this.singleCharacters) n = 1;
            else {
              const t =
                i === this._boundaryStartParent
                  ? this.boundaries.start.offset
                  : 0;
              n = e.offset - t;
            }
            e.offset -= n;
            const o = new ho(i, e.offset, n);
            return (
              (this._position = e), this._formatReturnValue('text', o, t, e, n)
            );
          }
          return (
            (e = lr._createBefore(i)),
            (this._position = e),
            this._formatReturnValue('elementStart', i, t, e, 1)
          );
        }
        _formatReturnValue(e, t, i, n, o) {
          return (
            t instanceof ho &&
              (t.offsetInText + t.data.length == t.textNode.data.length &&
                ('forward' != this.direction ||
                (this.boundaries && this.boundaries.end.isEqual(this.position))
                  ? (i = lr._createAfter(t.textNode))
                  : ((n = lr._createAfter(t.textNode)), (this._position = n))),
              0 === t.offsetInText &&
                ('backward' != this.direction ||
                (this.boundaries &&
                  this.boundaries.start.isEqual(this.position))
                  ? (i = lr._createBefore(t.textNode))
                  : ((n = lr._createBefore(t.textNode)),
                    (this._position = n)))),
            {
              done: !1,
              value: {
                type: e,
                item: t,
                previousPosition: i,
                nextPosition: n,
                length: o,
              },
            }
          );
        }
      }
      class lr extends ao {
        constructor(e, t) {
          super(), (this.parent = e), (this.offset = t);
        }
        get nodeAfter() {
          return this.parent.is('$text')
            ? null
            : this.parent.getChild(this.offset) || null;
        }
        get nodeBefore() {
          return this.parent.is('$text')
            ? null
            : this.parent.getChild(this.offset - 1) || null;
        }
        get isAtStart() {
          return 0 === this.offset;
        }
        get isAtEnd() {
          const e = this.parent.is('$text')
            ? this.parent.data.length
            : this.parent.childCount;
          return this.offset === e;
        }
        get root() {
          return this.parent.root;
        }
        get editableElement() {
          let e = this.parent;
          for (; !(e instanceof or); ) {
            if (!e.parent) return null;
            e = e.parent;
          }
          return e;
        }
        getShiftedBy(e) {
          const t = lr._createAt(this),
            i = t.offset + e;
          return (t.offset = i < 0 ? 0 : i), t;
        }
        getLastMatchingPosition(e, t = {}) {
          t.startPosition = this;
          const i = new ar(t);
          return i.skip(e), i.position;
        }
        getAncestors() {
          return this.parent.is('documentFragment')
            ? [this.parent]
            : this.parent.getAncestors({includeSelf: !0});
        }
        getCommonAncestor(e) {
          const t = this.getAncestors(),
            i = e.getAncestors();
          let n = 0;
          for (; t[n] == i[n] && t[n]; ) n++;
          return 0 === n ? null : t[n - 1];
        }
        isEqual(e) {
          return this.parent == e.parent && this.offset == e.offset;
        }
        isBefore(e) {
          return 'before' == this.compareWith(e);
        }
        isAfter(e) {
          return 'after' == this.compareWith(e);
        }
        compareWith(e) {
          if (this.root !== e.root) return 'different';
          if (this.isEqual(e)) return 'same';
          const t = this.parent.is('node') ? this.parent.getPath() : [],
            i = e.parent.is('node') ? e.parent.getPath() : [];
          t.push(this.offset), i.push(e.offset);
          const n = W(t, i);
          switch (n) {
            case 'prefix':
              return 'before';
            case 'extension':
              return 'after';
            case 'same':
              return 'same';
            default:
              return t[n] < i[n] ? 'before' : 'after';
          }
        }
        getWalker(e = {}) {
          return (e.startPosition = this), new ar(e);
        }
        clone() {
          return new lr(this.parent, this.offset);
        }
        static _createAt(e, t) {
          if (e instanceof lr) return new this(e.parent, e.offset);
          {
            const i = e;
            if ('end' == t) t = i.is('$text') ? i.data.length : i.childCount;
            else {
              if ('before' == t) return this._createBefore(i);
              if ('after' == t) return this._createAfter(i);
              if (0 !== t && !t)
                throw new f('view-createpositionat-offset-required', i);
            }
            return new lr(i, t);
          }
        }
        static _createAfter(e) {
          if (e.is('$textProxy'))
            return new lr(e.textNode, e.offsetInText + e.data.length);
          if (!e.parent) throw new f('view-position-after-root', e, {root: e});
          return new lr(e.parent, e.index + 1);
        }
        static _createBefore(e) {
          if (e.is('$textProxy')) return new lr(e.textNode, e.offsetInText);
          if (!e.parent) throw new f('view-position-before-root', e, {root: e});
          return new lr(e.parent, e.index);
        }
      }
      lr.prototype.is = function (e) {
        return 'position' === e || 'view:position' === e;
      };
      class cr extends ao {
        constructor(e, t = null) {
          super(),
            (this.start = e.clone()),
            (this.end = t ? t.clone() : e.clone());
        }
        *[Symbol.iterator]() {
          yield* new ar({boundaries: this, ignoreElementEnd: !0});
        }
        get isCollapsed() {
          return this.start.isEqual(this.end);
        }
        get isFlat() {
          return this.start.parent === this.end.parent;
        }
        get root() {
          return this.start.root;
        }
        getEnlarged() {
          let e = this.start.getLastMatchingPosition(dr, {
              direction: 'backward',
            }),
            t = this.end.getLastMatchingPosition(dr);
          return (
            e.parent.is('$text') &&
              e.isAtStart &&
              (e = lr._createBefore(e.parent)),
            t.parent.is('$text') &&
              t.isAtEnd &&
              (t = lr._createAfter(t.parent)),
            new cr(e, t)
          );
        }
        getTrimmed() {
          let e = this.start.getLastMatchingPosition(dr);
          if (e.isAfter(this.end) || e.isEqual(this.end)) return new cr(e, e);
          let t = this.end.getLastMatchingPosition(dr, {direction: 'backward'});
          const i = e.nodeAfter,
            n = t.nodeBefore;
          return (
            i && i.is('$text') && (e = new lr(i, 0)),
            n && n.is('$text') && (t = new lr(n, n.data.length)),
            new cr(e, t)
          );
        }
        isEqual(e) {
          return (
            this == e ||
            (this.start.isEqual(e.start) && this.end.isEqual(e.end))
          );
        }
        containsPosition(e) {
          return e.isAfter(this.start) && e.isBefore(this.end);
        }
        containsRange(e, t = !1) {
          e.isCollapsed && (t = !1);
          const i =
              this.containsPosition(e.start) ||
              (t && this.start.isEqual(e.start)),
            n = this.containsPosition(e.end) || (t && this.end.isEqual(e.end));
          return i && n;
        }
        getDifference(e) {
          const t = [];
          return (
            this.isIntersecting(e)
              ? (this.containsPosition(e.start) &&
                  t.push(new cr(this.start, e.start)),
                this.containsPosition(e.end) && t.push(new cr(e.end, this.end)))
              : t.push(this.clone()),
            t
          );
        }
        getIntersection(e) {
          if (this.isIntersecting(e)) {
            let t = this.start,
              i = this.end;
            return (
              this.containsPosition(e.start) && (t = e.start),
              this.containsPosition(e.end) && (i = e.end),
              new cr(t, i)
            );
          }
          return null;
        }
        getWalker(e = {}) {
          return (e.boundaries = this), new ar(e);
        }
        getCommonAncestor() {
          return this.start.getCommonAncestor(this.end);
        }
        getContainedElement() {
          if (this.isCollapsed) return null;
          let e = this.start.nodeAfter,
            t = this.end.nodeBefore;
          return (
            this.start.parent.is('$text') &&
              this.start.isAtEnd &&
              this.start.parent.nextSibling &&
              (e = this.start.parent.nextSibling),
            this.end.parent.is('$text') &&
              this.end.isAtStart &&
              this.end.parent.previousSibling &&
              (t = this.end.parent.previousSibling),
            e && e.is('element') && e === t ? e : null
          );
        }
        clone() {
          return new cr(this.start, this.end);
        }
        *getItems(e = {}) {
          (e.boundaries = this), (e.ignoreElementEnd = !0);
          const t = new ar(e);
          for (const e of t) yield e.item;
        }
        *getPositions(e = {}) {
          e.boundaries = this;
          const t = new ar(e);
          yield t.position;
          for (const e of t) yield e.nextPosition;
        }
        isIntersecting(e) {
          return this.start.isBefore(e.end) && this.end.isAfter(e.start);
        }
        static _createFromParentsAndOffsets(e, t, i, n) {
          return new this(new lr(e, t), new lr(i, n));
        }
        static _createFromPositionAndShift(e, t) {
          const i = e,
            n = e.getShiftedBy(t);
          return t > 0 ? new this(i, n) : new this(n, i);
        }
        static _createIn(e) {
          return this._createFromParentsAndOffsets(e, 0, e, e.childCount);
        }
        static _createOn(e) {
          const t = e.is('$textProxy') ? e.offsetSize : 1;
          return this._createFromPositionAndShift(lr._createBefore(e), t);
        }
      }
      function dr(e) {
        return !(!e.item.is('attributeElement') && !e.item.is('uiElement'));
      }
      cr.prototype.is = function (e) {
        return 'range' === e || 'view:range' === e;
      };
      class ur extends x(ao) {
        constructor(...e) {
          super(),
            (this._ranges = []),
            (this._lastRangeBackward = !1),
            (this._isFake = !1),
            (this._fakeSelectionLabel = ''),
            e.length && this.setTo(...e);
        }
        get isFake() {
          return this._isFake;
        }
        get fakeSelectionLabel() {
          return this._fakeSelectionLabel;
        }
        get anchor() {
          if (!this._ranges.length) return null;
          const e = this._ranges[this._ranges.length - 1];
          return (this._lastRangeBackward ? e.end : e.start).clone();
        }
        get focus() {
          if (!this._ranges.length) return null;
          const e = this._ranges[this._ranges.length - 1];
          return (this._lastRangeBackward ? e.start : e.end).clone();
        }
        get isCollapsed() {
          return 1 === this.rangeCount && this._ranges[0].isCollapsed;
        }
        get rangeCount() {
          return this._ranges.length;
        }
        get isBackward() {
          return !this.isCollapsed && this._lastRangeBackward;
        }
        get editableElement() {
          return this.anchor ? this.anchor.editableElement : null;
        }
        *getRanges() {
          for (const e of this._ranges) yield e.clone();
        }
        getFirstRange() {
          let e = null;
          for (const t of this._ranges)
            (e && !t.start.isBefore(e.start)) || (e = t);
          return e ? e.clone() : null;
        }
        getLastRange() {
          let e = null;
          for (const t of this._ranges) (e && !t.end.isAfter(e.end)) || (e = t);
          return e ? e.clone() : null;
        }
        getFirstPosition() {
          const e = this.getFirstRange();
          return e ? e.start.clone() : null;
        }
        getLastPosition() {
          const e = this.getLastRange();
          return e ? e.end.clone() : null;
        }
        isEqual(e) {
          if (this.isFake != e.isFake) return !1;
          if (this.isFake && this.fakeSelectionLabel != e.fakeSelectionLabel)
            return !1;
          if (this.rangeCount != e.rangeCount) return !1;
          if (0 === this.rangeCount) return !0;
          if (!this.anchor.isEqual(e.anchor) || !this.focus.isEqual(e.focus))
            return !1;
          for (const t of this._ranges) {
            let i = !1;
            for (const n of e._ranges)
              if (t.isEqual(n)) {
                i = !0;
                break;
              }
            if (!i) return !1;
          }
          return !0;
        }
        isSimilar(e) {
          if (this.isBackward != e.isBackward) return !1;
          const t = Z(this.getRanges());
          if (t != Z(e.getRanges())) return !1;
          if (0 == t) return !0;
          for (let t of this.getRanges()) {
            t = t.getTrimmed();
            let i = !1;
            for (let n of e.getRanges())
              if (
                ((n = n.getTrimmed()),
                t.start.isEqual(n.start) && t.end.isEqual(n.end))
              ) {
                i = !0;
                break;
              }
            if (!i) return !1;
          }
          return !0;
        }
        getSelectedElement() {
          return 1 !== this.rangeCount
            ? null
            : this.getFirstRange().getContainedElement();
        }
        setTo(...e) {
          let [t, i, n] = e;
          if (('object' == typeof i && ((n = i), (i = void 0)), null === t))
            this._setRanges([]), this._setFakeOptions(n);
          else if (t instanceof ur || t instanceof hr)
            this._setRanges(t.getRanges(), t.isBackward),
              this._setFakeOptions({
                fake: t.isFake,
                label: t.fakeSelectionLabel,
              });
          else if (t instanceof cr)
            this._setRanges([t], n && n.backward), this._setFakeOptions(n);
          else if (t instanceof lr)
            this._setRanges([new cr(t)]), this._setFakeOptions(n);
          else if (t instanceof co) {
            const e = !!n && !!n.backward;
            let o;
            if (void 0 === i)
              throw new f(
                'view-selection-setto-required-second-parameter',
                this
              );
            (o =
              'in' == i
                ? cr._createIn(t)
                : 'on' == i
                ? cr._createOn(t)
                : new cr(lr._createAt(t, i))),
              this._setRanges([o], e),
              this._setFakeOptions(n);
          } else {
            if (!q(t)) throw new f('view-selection-setto-not-selectable', this);
            this._setRanges(t, n && n.backward), this._setFakeOptions(n);
          }
          this.fire('change');
        }
        setFocus(e, t) {
          if (null === this.anchor)
            throw new f('view-selection-setfocus-no-ranges', this);
          const i = lr._createAt(e, t);
          if ('same' == i.compareWith(this.focus)) return;
          const n = this.anchor;
          this._ranges.pop(),
            'before' == i.compareWith(n)
              ? this._addRange(new cr(i, n), !0)
              : this._addRange(new cr(n, i)),
            this.fire('change');
        }
        _setRanges(e, t = !1) {
          (e = Array.from(e)), (this._ranges = []);
          for (const t of e) this._addRange(t);
          this._lastRangeBackward = !!t;
        }
        _setFakeOptions(e = {}) {
          (this._isFake = !!e.fake),
            (this._fakeSelectionLabel = (e.fake && e.label) || '');
        }
        _addRange(e, t = !1) {
          if (!(e instanceof cr))
            throw new f('view-selection-add-range-not-range', this);
          this._pushRange(e), (this._lastRangeBackward = !!t);
        }
        _pushRange(e) {
          for (const t of this._ranges)
            if (e.isIntersecting(t))
              throw new f('view-selection-range-intersects', this, {
                addedRange: e,
                intersectingRange: t,
              });
          this._ranges.push(new cr(e.start, e.end));
        }
      }
      ur.prototype.is = function (e) {
        return 'selection' === e || 'view:selection' === e;
      };
      class hr extends x(ao) {
        constructor(...e) {
          super(),
            (this._selection = new ur()),
            this._selection.delegate('change').to(this),
            e.length && this._selection.setTo(...e);
        }
        get isFake() {
          return this._selection.isFake;
        }
        get fakeSelectionLabel() {
          return this._selection.fakeSelectionLabel;
        }
        get anchor() {
          return this._selection.anchor;
        }
        get focus() {
          return this._selection.focus;
        }
        get isCollapsed() {
          return this._selection.isCollapsed;
        }
        get rangeCount() {
          return this._selection.rangeCount;
        }
        get isBackward() {
          return this._selection.isBackward;
        }
        get editableElement() {
          return this._selection.editableElement;
        }
        get _ranges() {
          return this._selection._ranges;
        }
        *getRanges() {
          yield* this._selection.getRanges();
        }
        getFirstRange() {
          return this._selection.getFirstRange();
        }
        getLastRange() {
          return this._selection.getLastRange();
        }
        getFirstPosition() {
          return this._selection.getFirstPosition();
        }
        getLastPosition() {
          return this._selection.getLastPosition();
        }
        getSelectedElement() {
          return this._selection.getSelectedElement();
        }
        isEqual(e) {
          return this._selection.isEqual(e);
        }
        isSimilar(e) {
          return this._selection.isSimilar(e);
        }
        _setTo(...e) {
          this._selection.setTo(...e);
        }
        _setFocus(e, t) {
          this._selection.setFocus(e, t);
        }
      }
      hr.prototype.is = function (e) {
        return (
          'selection' === e ||
          'documentSelection' == e ||
          'view:selection' == e ||
          'view:documentSelection' == e
        );
      };
      class mr extends c {
        constructor(e, t, i) {
          super(e, t),
            (this.startRange = i),
            (this._eventPhase = 'none'),
            (this._currentTarget = null);
        }
        get eventPhase() {
          return this._eventPhase;
        }
        get currentTarget() {
          return this._currentTarget;
        }
      }
      const gr = Symbol('bubbling contexts');
      function fr(e) {
        return class extends e {
          fire(e, ...t) {
            try {
              const i = e instanceof c ? e : new c(this, e),
                n = wr(this);
              if (!n.size) return;
              if ((pr(i, 'capturing', this), br(n, '$capture', i, ...t)))
                return i.return;
              const o = i.startRange || this.selection.getFirstRange(),
                r = o ? o.getContainedElement() : null,
                s = !!r && Boolean(kr(n, r));
              let a =
                r ||
                (function (e) {
                  if (!e) return null;
                  const t = e.start.parent,
                    i = e.end.parent,
                    n = t.getPath(),
                    o = i.getPath();
                  return n.length > o.length ? t : i;
                })(o);
              if ((pr(i, 'atTarget', a), !s)) {
                if (br(n, '$text', i, ...t)) return i.return;
                pr(i, 'bubbling', a);
              }
              for (; a; ) {
                if (a.is('rootElement')) {
                  if (br(n, '$root', i, ...t)) return i.return;
                } else if (a.is('element') && br(n, a.name, i, ...t))
                  return i.return;
                if (br(n, a, i, ...t)) return i.return;
                (a = a.parent), pr(i, 'bubbling', a);
              }
              return (
                pr(i, 'bubbling', this), br(n, '$document', i, ...t), i.return
              );
            } catch (e) {
              f.rethrowUnexpectedError(e, this);
            }
          }
          _addEventListener(e, t, i) {
            const n = xn(i.context || '$document'),
              o = wr(this);
            for (const r of n) {
              let n = o.get(r);
              n || ((n = new (x())()), o.set(r, n)), this.listenTo(n, e, t, i);
            }
          }
          _removeEventListener(e, t) {
            const i = wr(this);
            for (const n of i.values()) this.stopListening(n, e, t);
          }
        };
      }
      {
        const e = fr(Object);
        ['fire', '_addEventListener', '_removeEventListener'].forEach((t) => {
          fr[t] = e.prototype[t];
        });
      }
      function pr(e, t, i) {
        e instanceof mr && ((e._eventPhase = t), (e._currentTarget = i));
      }
      function br(e, t, i, ...n) {
        const o = 'string' == typeof t ? e.get(t) : kr(e, t);
        return !!o && (o.fire(i, ...n), i.stop.called);
      }
      function kr(e, t) {
        for (const [i, n] of e) if ('function' == typeof i && i(t)) return n;
        return null;
      }
      function wr(e) {
        return e[gr] || (e[gr] = new Map()), e[gr];
      }
      class _r extends fr(z()) {
        constructor(e) {
          super(),
            (this._postFixers = new Set()),
            (this.selection = new hr()),
            (this.roots = new Tn({idProperty: 'rootName'})),
            (this.stylesProcessor = e),
            this.set('isReadOnly', !1),
            this.set('isFocused', !1),
            this.set('isSelecting', !1),
            this.set('isComposing', !1);
        }
        getRoot(e = 'main') {
          return this.roots.get(e);
        }
        registerPostFixer(e) {
          this._postFixers.add(e);
        }
        destroy() {
          this.roots.map((e) => e.destroy()), this.stopListening();
        }
        _callPostFixers(e) {
          let t = !1;
          do {
            for (const i of this._postFixers) if (((t = i(e)), t)) break;
          } while (t);
        }
      }
      class vr extends er {
        constructor(e, t, i, n) {
          super(e, t, i, n),
            (this._priority = 10),
            (this._id = null),
            (this._clonesGroup = null),
            (this.getFillerOffset = yr);
        }
        get priority() {
          return this._priority;
        }
        get id() {
          return this._id;
        }
        getElementsWithSameId() {
          if (null === this.id)
            throw new f(
              'attribute-element-get-elements-with-same-id-no-id',
              this
            );
          return new Set(this._clonesGroup);
        }
        isSimilar(e) {
          return null !== this.id || null !== e.id
            ? this.id === e.id
            : super.isSimilar(e) && this.priority == e.priority;
        }
        _clone(e = !1) {
          const t = super._clone(e);
          return (t._priority = this._priority), (t._id = this._id), t;
        }
      }
      function yr() {
        if (xr(this)) return null;
        let e = this.parent;
        for (; e && e.is('attributeElement'); ) {
          if (xr(e) > 1) return null;
          e = e.parent;
        }
        return !e || xr(e) > 1 ? null : this.childCount;
      }
      function xr(e) {
        return Array.from(e.getChildren()).filter((e) => !e.is('uiElement'))
          .length;
      }
      (vr.DEFAULT_PRIORITY = 10),
        (vr.prototype.is = function (e, t) {
          return t
            ? t === this.name &&
                ('attributeElement' === e ||
                  'view:attributeElement' === e ||
                  'element' === e ||
                  'view:element' === e)
            : 'attributeElement' === e ||
                'view:attributeElement' === e ||
                'element' === e ||
                'view:element' === e ||
                'node' === e ||
                'view:node' === e;
        });
      class Ar extends er {
        constructor(e, t, i, n) {
          super(e, t, i, n), (this.getFillerOffset = Cr);
        }
        _insertChild(e, t) {
          if (t && (t instanceof co || Array.from(t).length > 0))
            throw new f('view-emptyelement-cannot-add', [this, t]);
          return 0;
        }
      }
      function Cr() {
        return null;
      }
      Ar.prototype.is = function (e, t) {
        return t
          ? t === this.name &&
              ('emptyElement' === e ||
                'view:emptyElement' === e ||
                'element' === e ||
                'view:element' === e)
          : 'emptyElement' === e ||
              'view:emptyElement' === e ||
              'element' === e ||
              'view:element' === e ||
              'node' === e ||
              'view:node' === e;
      };
      class Er extends er {
        constructor(e, t, i, n) {
          super(e, t, i, n), (this.getFillerOffset = Tr);
        }
        _insertChild(e, t) {
          if (t && (t instanceof co || Array.from(t).length > 0))
            throw new f('view-uielement-cannot-add', [this, t]);
          return 0;
        }
        render(e, t) {
          return this.toDomElement(e);
        }
        toDomElement(e) {
          const t = e.createElement(this.name);
          for (const e of this.getAttributeKeys())
            t.setAttribute(e, this.getAttribute(e));
          return t;
        }
      }
      function Tr() {
        return null;
      }
      Er.prototype.is = function (e, t) {
        return t
          ? t === this.name &&
              ('uiElement' === e ||
                'view:uiElement' === e ||
                'element' === e ||
                'view:element' === e)
          : 'uiElement' === e ||
              'view:uiElement' === e ||
              'element' === e ||
              'view:element' === e ||
              'node' === e ||
              'view:node' === e;
      };
      class Sr extends er {
        constructor(e, t, i, n) {
          super(e, t, i, n), (this.getFillerOffset = Ir);
        }
        _insertChild(e, t) {
          if (t && (t instanceof co || Array.from(t).length > 0))
            throw new f('view-rawelement-cannot-add', [this, t]);
          return 0;
        }
        render(e, t) {}
      }
      function Ir() {
        return null;
      }
      Sr.prototype.is = function (e, t) {
        return t
          ? t === this.name &&
              ('rawElement' === e ||
                'view:rawElement' === e ||
                'element' === e ||
                'view:element' === e)
          : 'rawElement' === e ||
              'view:rawElement' === e ||
              e === this.name ||
              e === 'view:' + this.name ||
              'element' === e ||
              'view:element' === e ||
              'node' === e ||
              'view:node' === e;
      };
      class Pr extends x(ao) {
        constructor(e, t) {
          super(),
            (this._children = []),
            (this._customProperties = new Map()),
            (this.document = e),
            t && this._insertChild(0, t);
        }
        [Symbol.iterator]() {
          return this._children[Symbol.iterator]();
        }
        get childCount() {
          return this._children.length;
        }
        get isEmpty() {
          return 0 === this.childCount;
        }
        get root() {
          return this;
        }
        get parent() {
          return null;
        }
        get name() {}
        getCustomProperty(e) {
          return this._customProperties.get(e);
        }
        *getCustomProperties() {
          yield* this._customProperties.entries();
        }
        _appendChild(e) {
          return this._insertChild(this.childCount, e);
        }
        getChild(e) {
          return this._children[e];
        }
        getChildIndex(e) {
          return this._children.indexOf(e);
        }
        getChildren() {
          return this._children[Symbol.iterator]();
        }
        _insertChild(e, t) {
          this._fireChange('children', this);
          let i = 0;
          const n = (function (e, t) {
            return 'string' == typeof t
              ? [new uo(e, t)]
              : (q(t) || (t = [t]),
                Array.from(t).map((t) =>
                  'string' == typeof t
                    ? new uo(e, t)
                    : t instanceof ho
                    ? new uo(e, t.data)
                    : t
                ));
          })(this.document, t);
          for (const t of n)
            null !== t.parent && t._remove(),
              (t.parent = this),
              this._children.splice(e, 0, t),
              e++,
              i++;
          return i;
        }
        _removeChildren(e, t = 1) {
          this._fireChange('children', this);
          for (let i = e; i < e + t; i++) this._children[i].parent = null;
          return this._children.splice(e, t);
        }
        _fireChange(e, t) {
          this.fire('change:' + e, t);
        }
        _setCustomProperty(e, t) {
          this._customProperties.set(e, t);
        }
        _removeCustomProperty(e) {
          return this._customProperties.delete(e);
        }
      }
      Pr.prototype.is = function (e) {
        return 'documentFragment' === e || 'view:documentFragment' === e;
      };
      class Mr {
        constructor(e) {
          (this._cloneGroups = new Map()),
            (this._slotFactory = null),
            (this.document = e);
        }
        setSelection(...e) {
          this.document.selection._setTo(...e);
        }
        setSelectionFocus(e, t) {
          this.document.selection._setFocus(e, t);
        }
        createDocumentFragment(e) {
          return new Pr(this.document, e);
        }
        createText(e) {
          return new uo(this.document, e);
        }
        createAttributeElement(e, t, i = {}) {
          const n = new vr(this.document, e, t);
          return (
            'number' == typeof i.priority && (n._priority = i.priority),
            i.id && (n._id = i.id),
            i.renderUnsafeAttributes &&
              n._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),
            n
          );
        }
        createContainerElement(e, t, i = {}, n = {}) {
          let o = null;
          pe(i) ? (n = i) : (o = i);
          const r = new ir(this.document, e, t, o);
          return (
            n.renderUnsafeAttributes &&
              r._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),
            r
          );
        }
        createEditableElement(e, t, i = {}) {
          const n = new or(this.document, e, t);
          return (
            i.renderUnsafeAttributes &&
              n._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),
            n
          );
        }
        createEmptyElement(e, t, i = {}) {
          const n = new Ar(this.document, e, t);
          return (
            i.renderUnsafeAttributes &&
              n._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),
            n
          );
        }
        createUIElement(e, t, i) {
          const n = new Er(this.document, e, t);
          return i && (n.render = i), n;
        }
        createRawElement(e, t, i, n = {}) {
          const o = new Sr(this.document, e, t);
          return (
            i && (o.render = i),
            n.renderUnsafeAttributes &&
              o._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),
            o
          );
        }
        setAttribute(e, t, i) {
          i._setAttribute(e, t);
        }
        removeAttribute(e, t) {
          t._removeAttribute(e);
        }
        addClass(e, t) {
          t._addClass(e);
        }
        removeClass(e, t) {
          t._removeClass(e);
        }
        setStyle(e, t, i) {
          pe(e) && void 0 === i ? t._setStyle(e) : i._setStyle(e, t);
        }
        removeStyle(e, t) {
          t._removeStyle(e);
        }
        setCustomProperty(e, t, i) {
          i._setCustomProperty(e, t);
        }
        removeCustomProperty(e, t) {
          return t._removeCustomProperty(e);
        }
        breakAttributes(e) {
          return e instanceof lr
            ? this._breakAttributes(e)
            : this._breakAttributesRange(e);
        }
        breakContainer(e) {
          const t = e.parent;
          if (!t.is('containerElement'))
            throw new f(
              'view-writer-break-non-container-element',
              this.document
            );
          if (!t.parent) throw new f('view-writer-break-root', this.document);
          if (e.isAtStart) return lr._createBefore(t);
          if (!e.isAtEnd) {
            const i = t._clone(!1);
            this.insert(lr._createAfter(t), i);
            const n = new cr(e, lr._createAt(t, 'end')),
              o = new lr(i, 0);
            this.move(n, o);
          }
          return lr._createAfter(t);
        }
        mergeAttributes(e) {
          const t = e.offset,
            i = e.parent;
          if (i.is('$text')) return e;
          if (i.is('attributeElement') && 0 === i.childCount) {
            const e = i.parent,
              t = i.index;
            return (
              i._remove(),
              this._removeFromClonedElementsGroup(i),
              this.mergeAttributes(new lr(e, t))
            );
          }
          const n = i.getChild(t - 1),
            o = i.getChild(t);
          if (!n || !o) return e;
          if (n.is('$text') && o.is('$text')) return Dr(n, o);
          if (
            n.is('attributeElement') &&
            o.is('attributeElement') &&
            n.isSimilar(o)
          ) {
            const e = n.childCount;
            return (
              n._appendChild(o.getChildren()),
              o._remove(),
              this._removeFromClonedElementsGroup(o),
              this.mergeAttributes(new lr(n, e))
            );
          }
          return e;
        }
        mergeContainers(e) {
          const t = e.nodeBefore,
            i = e.nodeAfter;
          if (!(t && i && t.is('containerElement') && i.is('containerElement')))
            throw new f(
              'view-writer-merge-containers-invalid-position',
              this.document
            );
          const n = t.getChild(t.childCount - 1),
            o =
              n instanceof uo ? lr._createAt(n, 'end') : lr._createAt(t, 'end');
          return (
            this.move(cr._createIn(i), lr._createAt(t, 'end')),
            this.remove(cr._createOn(i)),
            o
          );
        }
        insert(e, t) {
          Lr((t = q(t) ? [...t] : [t]), this.document);
          const i = t.reduce((e, t) => {
            const i = e[e.length - 1],
              n = !t.is('uiElement');
            return (
              i && i.breakAttributes == n
                ? i.nodes.push(t)
                : e.push({breakAttributes: n, nodes: [t]}),
              e
            );
          }, []);
          let n = null,
            o = e;
          for (const {nodes: e, breakAttributes: t} of i) {
            const i = this._insertNodes(o, e, t);
            n || (n = i.start), (o = i.end);
          }
          return n ? new cr(n, o) : new cr(e);
        }
        remove(e) {
          const t = e instanceof cr ? e : cr._createOn(e);
          if ((Br(t, this.document), t.isCollapsed))
            return new Pr(this.document);
          const {start: i, end: n} = this._breakAttributesRange(t, !0),
            o = i.parent,
            r = n.offset - i.offset,
            s = o._removeChildren(i.offset, r);
          for (const e of s) this._removeFromClonedElementsGroup(e);
          const a = this.mergeAttributes(i);
          return (t.start = a), (t.end = a.clone()), new Pr(this.document, s);
        }
        clear(e, t) {
          Br(e, this.document);
          const i = e.getWalker({direction: 'backward', ignoreElementEnd: !0});
          for (const n of i) {
            const i = n.item;
            let o;
            if (i.is('element') && t.isSimilar(i)) o = cr._createOn(i);
            else if (!n.nextPosition.isAfter(e.start) && i.is('$textProxy')) {
              const e = i
                .getAncestors()
                .find((e) => e.is('element') && t.isSimilar(e));
              e && (o = cr._createIn(e));
            }
            o &&
              (o.end.isAfter(e.end) && (o.end = e.end),
              o.start.isBefore(e.start) && (o.start = e.start),
              this.remove(o));
          }
        }
        move(e, t) {
          let i;
          if (t.isAfter(e.end)) {
            const n = (t = this._breakAttributes(t, !0)).parent,
              o = n.childCount;
            (e = this._breakAttributesRange(e, !0)),
              (i = this.remove(e)),
              (t.offset += n.childCount - o);
          } else i = this.remove(e);
          return this.insert(t, i);
        }
        wrap(e, t) {
          if (!(t instanceof vr))
            throw new f('view-writer-wrap-invalid-attribute', this.document);
          if ((Br(e, this.document), e.isCollapsed)) {
            let n = e.start;
            n.parent.is('element') &&
              ((i = n.parent),
              !Array.from(i.getChildren()).some((e) => !e.is('uiElement'))) &&
              (n = n.getLastMatchingPosition((e) => e.item.is('uiElement'))),
              (n = this._wrapPosition(n, t));
            const o = this.document.selection;
            return (
              o.isCollapsed &&
                o.getFirstPosition().isEqual(e.start) &&
                this.setSelection(n),
              new cr(n)
            );
          }
          return this._wrapRange(e, t);
          var i;
        }
        unwrap(e, t) {
          if (!(t instanceof vr))
            throw new f('view-writer-unwrap-invalid-attribute', this.document);
          if ((Br(e, this.document), e.isCollapsed)) return e;
          const {start: i, end: n} = this._breakAttributesRange(e, !0),
            o = i.parent,
            r = this._unwrapChildren(o, i.offset, n.offset, t),
            s = this.mergeAttributes(r.start);
          s.isEqual(r.start) || r.end.offset--;
          const a = this.mergeAttributes(r.end);
          return new cr(s, a);
        }
        rename(e, t) {
          const i = new ir(this.document, e, t.getAttributes());
          return (
            this.insert(lr._createAfter(t), i),
            this.move(cr._createIn(t), lr._createAt(i, 0)),
            this.remove(cr._createOn(t)),
            i
          );
        }
        clearClonedElementsGroup(e) {
          this._cloneGroups.delete(e);
        }
        createPositionAt(e, t) {
          return lr._createAt(e, t);
        }
        createPositionAfter(e) {
          return lr._createAfter(e);
        }
        createPositionBefore(e) {
          return lr._createBefore(e);
        }
        createRange(e, t) {
          return new cr(e, t);
        }
        createRangeOn(e) {
          return cr._createOn(e);
        }
        createRangeIn(e) {
          return cr._createIn(e);
        }
        createSelection(...e) {
          return new ur(...e);
        }
        createSlot(e = 'children') {
          if (!this._slotFactory)
            throw new f(
              'view-writer-invalid-create-slot-context',
              this.document
            );
          return this._slotFactory(this, e);
        }
        _registerSlotFactory(e) {
          this._slotFactory = e;
        }
        _clearSlotFactory() {
          this._slotFactory = null;
        }
        _insertNodes(e, t, i) {
          let n, o;
          if (
            ((n = i
              ? Rr(e)
              : e.parent.is('$text')
              ? e.parent.parent
              : e.parent),
            !n)
          )
            throw new f(
              'view-writer-invalid-position-container',
              this.document
            );
          o = i
            ? this._breakAttributes(e, !0)
            : e.parent.is('$text')
            ? Or(e)
            : e;
          const r = n._insertChild(o.offset, t);
          for (const e of t) this._addToClonedElementsGroup(e);
          const s = o.getShiftedBy(r),
            a = this.mergeAttributes(o);
          a.isEqual(o) || s.offset--;
          const l = this.mergeAttributes(s);
          return new cr(a, l);
        }
        _wrapChildren(e, t, i, n) {
          let o = t;
          const r = [];
          for (; o < i; ) {
            const t = e.getChild(o),
              i = t.is('$text'),
              l = t.is('attributeElement');
            if (l && this._wrapAttributeElement(n, t)) r.push(new lr(e, o));
            else if (
              i ||
              !l ||
              ((a = t),
              (s = n).priority < a.priority ||
                (!(s.priority > a.priority) &&
                  s.getIdentity() < a.getIdentity()))
            ) {
              const i = n._clone();
              t._remove(),
                i._appendChild(t),
                e._insertChild(o, i),
                this._addToClonedElementsGroup(i),
                r.push(new lr(e, o));
            } else this._wrapChildren(t, 0, t.childCount, n);
            o++;
          }
          var s, a;
          let l = 0;
          for (const e of r)
            (e.offset -= l),
              e.offset != t &&
                (this.mergeAttributes(e).isEqual(e) || (l++, i--));
          return cr._createFromParentsAndOffsets(e, t, e, i);
        }
        _unwrapChildren(e, t, i, n) {
          let o = t;
          const r = [];
          for (; o < i; ) {
            const t = e.getChild(o);
            if (t.is('attributeElement'))
              if (t.isSimilar(n)) {
                const n = t.getChildren(),
                  s = t.childCount;
                t._remove(),
                  e._insertChild(o, n),
                  this._removeFromClonedElementsGroup(t),
                  r.push(new lr(e, o), new lr(e, o + s)),
                  (o += s),
                  (i += s - 1);
              } else
                this._unwrapAttributeElement(n, t)
                  ? (r.push(new lr(e, o), new lr(e, o + 1)), o++)
                  : (this._unwrapChildren(t, 0, t.childCount, n), o++);
            else o++;
          }
          let s = 0;
          for (const e of r)
            (e.offset -= s),
              e.offset != t &&
                e.offset != i &&
                (this.mergeAttributes(e).isEqual(e) || (s++, i--));
          return cr._createFromParentsAndOffsets(e, t, e, i);
        }
        _wrapRange(e, t) {
          const {start: i, end: n} = this._breakAttributesRange(e, !0),
            o = i.parent,
            r = this._wrapChildren(o, i.offset, n.offset, t),
            s = this.mergeAttributes(r.start);
          s.isEqual(r.start) || r.end.offset--;
          const a = this.mergeAttributes(r.end);
          return new cr(s, a);
        }
        _wrapPosition(e, t) {
          if (t.isSimilar(e.parent)) return Nr(e.clone());
          e.parent.is('$text') && (e = Or(e));
          const i = this.createAttributeElement('_wrapPosition-fake-element');
          (i._priority = Number.POSITIVE_INFINITY),
            (i.isSimilar = () => !1),
            e.parent._insertChild(e.offset, i);
          const n = new cr(e, e.getShiftedBy(1));
          this.wrap(n, t);
          const o = new lr(i.parent, i.index);
          i._remove();
          const r = o.nodeBefore,
            s = o.nodeAfter;
          return r instanceof uo && s instanceof uo ? Dr(r, s) : Nr(o);
        }
        _wrapAttributeElement(e, t) {
          if (!Fr(e, t)) return !1;
          if (e.name !== t.name || e.priority !== t.priority) return !1;
          for (const i of e.getAttributeKeys())
            if (
              'class' !== i &&
              'style' !== i &&
              t.hasAttribute(i) &&
              t.getAttribute(i) !== e.getAttribute(i)
            )
              return !1;
          for (const i of e.getStyleNames())
            if (t.hasStyle(i) && t.getStyle(i) !== e.getStyle(i)) return !1;
          for (const i of e.getAttributeKeys())
            'class' !== i &&
              'style' !== i &&
              (t.hasAttribute(i) || this.setAttribute(i, e.getAttribute(i), t));
          for (const i of e.getStyleNames())
            t.hasStyle(i) || this.setStyle(i, e.getStyle(i), t);
          for (const i of e.getClassNames())
            t.hasClass(i) || this.addClass(i, t);
          return !0;
        }
        _unwrapAttributeElement(e, t) {
          if (!Fr(e, t)) return !1;
          if (e.name !== t.name || e.priority !== t.priority) return !1;
          for (const i of e.getAttributeKeys())
            if (
              'class' !== i &&
              'style' !== i &&
              (!t.hasAttribute(i) || t.getAttribute(i) !== e.getAttribute(i))
            )
              return !1;
          if (!t.hasClass(...e.getClassNames())) return !1;
          for (const i of e.getStyleNames())
            if (!t.hasStyle(i) || t.getStyle(i) !== e.getStyle(i)) return !1;
          for (const i of e.getAttributeKeys())
            'class' !== i && 'style' !== i && this.removeAttribute(i, t);
          return (
            this.removeClass(Array.from(e.getClassNames()), t),
            this.removeStyle(Array.from(e.getStyleNames()), t),
            !0
          );
        }
        _breakAttributesRange(e, t = !1) {
          const i = e.start,
            n = e.end;
          if ((Br(e, this.document), e.isCollapsed)) {
            const i = this._breakAttributes(e.start, t);
            return new cr(i, i);
          }
          const o = this._breakAttributes(n, t),
            r = o.parent.childCount,
            s = this._breakAttributes(i, t);
          return (o.offset += o.parent.childCount - r), new cr(s, o);
        }
        _breakAttributes(e, t = !1) {
          const i = e.offset,
            n = e.parent;
          if (e.parent.is('emptyElement'))
            throw new f(
              'view-writer-cannot-break-empty-element',
              this.document
            );
          if (e.parent.is('uiElement'))
            throw new f('view-writer-cannot-break-ui-element', this.document);
          if (e.parent.is('rawElement'))
            throw new f('view-writer-cannot-break-raw-element', this.document);
          if (!t && n.is('$text') && zr(n.parent)) return e.clone();
          if (zr(n)) return e.clone();
          if (n.is('$text')) return this._breakAttributes(Or(e), t);
          if (i == n.childCount) {
            const e = new lr(n.parent, n.index + 1);
            return this._breakAttributes(e, t);
          }
          if (0 === i) {
            const e = new lr(n.parent, n.index);
            return this._breakAttributes(e, t);
          }
          {
            const e = n.index + 1,
              o = n._clone();
            n.parent._insertChild(e, o), this._addToClonedElementsGroup(o);
            const r = n.childCount - i,
              s = n._removeChildren(i, r);
            o._appendChild(s);
            const a = new lr(n.parent, e);
            return this._breakAttributes(a, t);
          }
        }
        _addToClonedElementsGroup(e) {
          if (!e.root.is('rootElement')) return;
          if (e.is('element'))
            for (const t of e.getChildren()) this._addToClonedElementsGroup(t);
          const t = e.id;
          if (!t) return;
          let i = this._cloneGroups.get(t);
          i || ((i = new Set()), this._cloneGroups.set(t, i)),
            i.add(e),
            (e._clonesGroup = i);
        }
        _removeFromClonedElementsGroup(e) {
          if (e.is('element'))
            for (const t of e.getChildren())
              this._removeFromClonedElementsGroup(t);
          const t = e.id;
          if (!t) return;
          const i = this._cloneGroups.get(t);
          i && i.delete(e);
        }
      }
      function Rr(e) {
        let t = e.parent;
        for (; !zr(t); ) {
          if (!t) return;
          t = t.parent;
        }
        return t;
      }
      function Nr(e) {
        const t = e.nodeBefore;
        if (t && t.is('$text')) return new lr(t, t.data.length);
        const i = e.nodeAfter;
        return i && i.is('$text') ? new lr(i, 0) : e;
      }
      function Or(e) {
        if (e.offset == e.parent.data.length)
          return new lr(e.parent.parent, e.parent.index + 1);
        if (0 === e.offset) return new lr(e.parent.parent, e.parent.index);
        const t = e.parent.data.slice(e.offset);
        return (
          (e.parent._data = e.parent.data.slice(0, e.offset)),
          e.parent.parent._insertChild(
            e.parent.index + 1,
            new uo(e.root.document, t)
          ),
          new lr(e.parent.parent, e.parent.index + 1)
        );
      }
      function Dr(e, t) {
        const i = e.data.length;
        return (e._data += t.data), t._remove(), new lr(e, i);
      }
      const Vr = [uo, vr, ir, Ar, Sr, Er];
      function Lr(e, t) {
        for (const i of e) {
          if (!Vr.some((e) => i instanceof e))
            throw new f('view-writer-insert-invalid-node-type', t);
          i.is('$text') || Lr(i.getChildren(), t);
        }
      }
      function zr(e) {
        return e && (e.is('containerElement') || e.is('documentFragment'));
      }
      function Br(e, t) {
        const i = Rr(e.start),
          n = Rr(e.end);
        if (!i || !n || i !== n)
          throw new f('view-writer-invalid-range-container', t);
      }
      function Fr(e, t) {
        return null === e.id && null === t.id;
      }
      const jr = (e) => e.createTextNode(' '),
        Hr = (e) => {
          const t = e.createElement('span');
          return (t.dataset.ckeFiller = 'true'), (t.innerText = ' '), t;
        },
        $r = (e) => {
          const t = e.createElement('br');
          return (t.dataset.ckeFiller = 'true'), t;
        },
        Ur = 7,
        Zr = '⁠'.repeat(Ur);
      function Wr(e) {
        return Fi(e) && e.data.substr(0, Ur) === Zr;
      }
      function qr(e) {
        return e.data.length == Ur && Wr(e);
      }
      function Gr(e) {
        return Wr(e) ? e.data.slice(Ur) : e.data;
      }
      function Yr(e, t) {
        if (t.keyCode == bn.arrowleft) {
          const e = t.domTarget.ownerDocument.defaultView.getSelection();
          if (1 == e.rangeCount && e.getRangeAt(0).collapsed) {
            const t = e.getRangeAt(0).startContainer,
              i = e.getRangeAt(0).startOffset;
            Wr(t) && i <= Ur && e.collapse(t, 0);
          }
        }
      }
      var Kr = i(6506),
        Qr = {attributes: {'data-cke': !0}};
      (Qr.setAttributes = Qn()),
        (Qr.insert = Yn().bind(null, 'head')),
        (Qr.domAPI = qn()),
        (Qr.insertStyleElement = Xn()),
        Zn()(Kr.Z, Qr),
        Kr.Z && Kr.Z.locals && Kr.Z.locals;
      class Jr extends z() {
        constructor(e, t) {
          super(),
            (this.domDocuments = new Set()),
            (this.markedAttributes = new Set()),
            (this.markedChildren = new Set()),
            (this.markedTexts = new Set()),
            (this._inlineFiller = null),
            (this._fakeSelectionContainer = null),
            (this.domConverter = e),
            (this.selection = t),
            this.set('isFocused', !1),
            this.set('isSelecting', !1),
            n.isBlink &&
              !n.isAndroid &&
              this.on('change:isSelecting', () => {
                this.isSelecting || this.render();
              }),
            this.set('isComposing', !1),
            this.on('change:isComposing', () => {
              this.isComposing || this.render();
            });
        }
        markToSync(e, t) {
          if ('text' === e)
            this.domConverter.mapViewToDom(t.parent) && this.markedTexts.add(t);
          else {
            if (!this.domConverter.mapViewToDom(t)) return;
            if ('attributes' === e) this.markedAttributes.add(t);
            else {
              if ('children' !== e)
                throw new f('view-renderer-unknown-type', this);
              this.markedChildren.add(t);
            }
          }
        }
        render() {
          if (this.isComposing && !n.isAndroid) return;
          let e = null;
          const t = !(n.isBlink && !n.isAndroid && this.isSelecting);
          for (const e of this.markedChildren) this._updateChildrenMappings(e);
          t
            ? (this._inlineFiller &&
                !this._isSelectionInInlineFiller() &&
                this._removeInlineFiller(),
              this._inlineFiller
                ? (e = this._getInlineFillerPosition())
                : this._needsInlineFillerAtSelection() &&
                  ((e = this.selection.getFirstPosition()),
                  this.markedChildren.add(e.parent)))
            : this._inlineFiller &&
              this._inlineFiller.parentNode &&
              ((e = this.domConverter.domPositionToView(this._inlineFiller)),
              e && e.parent.is('$text') && (e = lr._createBefore(e.parent)));
          for (const e of this.markedAttributes) this._updateAttrs(e);
          for (const t of this.markedChildren)
            this._updateChildren(t, {inlineFillerPosition: e});
          for (const t of this.markedTexts)
            !this.markedChildren.has(t.parent) &&
              this.domConverter.mapViewToDom(t.parent) &&
              this._updateText(t, {inlineFillerPosition: e});
          if (t)
            if (e) {
              const t = this.domConverter.viewPositionToDom(e),
                i = t.parent.ownerDocument;
              Wr(t.parent)
                ? (this._inlineFiller = t.parent)
                : (this._inlineFiller = Xr(i, t.parent, t.offset));
            } else this._inlineFiller = null;
          this._updateFocus(),
            this._updateSelection(),
            this.markedTexts.clear(),
            this.markedAttributes.clear(),
            this.markedChildren.clear();
        }
        _updateChildrenMappings(e) {
          if (!this.domConverter.mapViewToDom(e)) return;
          const t = Array.from(this.domConverter.mapViewToDom(e).childNodes),
            i = Array.from(
              this.domConverter.viewChildrenToDom(e, {withChildren: !1})
            ),
            n = this._diffNodeLists(t, i),
            o = this._findUpdateActions(n, t, i, es);
          if (-1 !== o.indexOf('update')) {
            const n = {equal: 0, insert: 0, delete: 0};
            for (const r of o)
              if ('update' === r) {
                const o = n.equal + n.insert,
                  r = n.equal + n.delete,
                  s = e.getChild(o);
                !s ||
                  s.is('uiElement') ||
                  s.is('rawElement') ||
                  this._updateElementMappings(s, t[r]),
                  on(i[o]),
                  n.equal++;
              } else n[r]++;
          }
        }
        _updateElementMappings(e, t) {
          this.domConverter.unbindDomElement(t),
            this.domConverter.bindElements(t, e),
            this.markedChildren.add(e),
            this.markedAttributes.add(e);
        }
        _getInlineFillerPosition() {
          const e = this.selection.getFirstPosition();
          return e.parent.is('$text') ? lr._createBefore(e.parent) : e;
        }
        _isSelectionInInlineFiller() {
          if (1 != this.selection.rangeCount || !this.selection.isCollapsed)
            return !1;
          const e = this.selection.getFirstPosition(),
            t = this.domConverter.viewPositionToDom(e);
          return !!(t && Fi(t.parent) && Wr(t.parent));
        }
        _removeInlineFiller() {
          const e = this._inlineFiller;
          if (!Wr(e)) throw new f('view-renderer-filler-was-lost', this);
          qr(e) ? e.remove() : (e.data = e.data.substr(Ur)),
            (this._inlineFiller = null);
        }
        _needsInlineFillerAtSelection() {
          if (1 != this.selection.rangeCount || !this.selection.isCollapsed)
            return !1;
          const e = this.selection.getFirstPosition(),
            t = e.parent,
            i = e.offset;
          if (!this.domConverter.mapViewToDom(t.root)) return !1;
          if (!t.is('element')) return !1;
          if (
            !(function (e) {
              if ('false' == e.getAttribute('contenteditable')) return !1;
              const t = e.findAncestor((e) =>
                e.hasAttribute('contenteditable')
              );
              return !t || 'true' == t.getAttribute('contenteditable');
            })(t)
          )
            return !1;
          if (i === t.getFillerOffset()) return !1;
          const o = e.nodeBefore,
            r = e.nodeAfter;
          return !(
            o instanceof uo ||
            r instanceof uo ||
            (n.isAndroid && (o || r))
          );
        }
        _updateText(e, t) {
          const i = this.domConverter.findCorrespondingDomText(e);
          let n = this.domConverter.viewToDom(e).data;
          const o = t.inlineFillerPosition;
          o && o.parent == e.parent && o.offset == e.index && (n = Zr + n),
            ns(i, n);
        }
        _updateAttrs(e) {
          const t = this.domConverter.mapViewToDom(e);
          if (!t) return;
          const i = Array.from(t.attributes).map((e) => e.name),
            n = e.getAttributeKeys();
          for (const i of n)
            this.domConverter.setDomElementAttribute(
              t,
              i,
              e.getAttribute(i),
              e
            );
          for (const n of i)
            e.hasAttribute(n) ||
              this.domConverter.removeDomElementAttribute(t, n);
        }
        _updateChildren(e, t) {
          const i = this.domConverter.mapViewToDom(e);
          if (!i) return;
          if (n.isAndroid) {
            let e = null;
            for (const t of Array.from(i.childNodes)) {
              if (e && Fi(e) && Fi(t)) {
                i.normalize();
                break;
              }
              e = t;
            }
          }
          const o = t.inlineFillerPosition,
            r = i.childNodes,
            s = Array.from(this.domConverter.viewChildrenToDom(e, {bind: !0}));
          o && o.parent === e && Xr(i.ownerDocument, s, o.offset);
          const a = this._diffNodeLists(r, s),
            l = this._findUpdateActions(a, r, s, ts);
          let c = 0;
          const d = new Set();
          for (const e of l)
            'delete' === e
              ? (d.add(r[c]), on(r[c]))
              : ('equal' !== e && 'update' !== e) || c++;
          c = 0;
          for (const e of l)
            'insert' === e
              ? (Qi(i, c, s[c]), c++)
              : 'update' === e
              ? (ns(r[c], s[c].data), c++)
              : 'equal' === e &&
                (this._markDescendantTextToSync(
                  this.domConverter.domToView(s[c])
                ),
                c++);
          for (const e of d)
            e.parentNode || this.domConverter.unbindDomElement(e);
        }
        _diffNodeLists(e, t) {
          return l(
            (e = (function (e, t) {
              const i = Array.from(e);
              if (0 == i.length || !t) return i;
              return i[i.length - 1] == t && i.pop(), i;
            })(e, this._fakeSelectionContainer)),
            t,
            is.bind(null, this.domConverter)
          );
        }
        _findUpdateActions(e, t, i, n) {
          if (-1 === e.indexOf('insert') || -1 === e.indexOf('delete'))
            return e;
          let o = [],
            r = [],
            s = [];
          const a = {equal: 0, insert: 0, delete: 0};
          for (const c of e)
            'insert' === c
              ? s.push(i[a.equal + a.insert])
              : 'delete' === c
              ? r.push(t[a.equal + a.delete])
              : ((o = o.concat(
                  l(r, s, n).map((e) => ('equal' === e ? 'update' : e))
                )),
                o.push('equal'),
                (r = []),
                (s = [])),
              a[c]++;
          return o.concat(
            l(r, s, n).map((e) => ('equal' === e ? 'update' : e))
          );
        }
        _markDescendantTextToSync(e) {
          if (e)
            if (e.is('$text')) this.markedTexts.add(e);
            else if (e.is('element'))
              for (const t of e.getChildren())
                this._markDescendantTextToSync(t);
        }
        _updateSelection() {
          if (
            n.isBlink &&
            !n.isAndroid &&
            this.isSelecting &&
            !this.markedChildren.size
          )
            return;
          if (0 === this.selection.rangeCount)
            return this._removeDomSelection(), void this._removeFakeSelection();
          const e = this.domConverter.mapViewToDom(
            this.selection.editableElement
          );
          this.isFocused &&
            e &&
            (this.selection.isFake
              ? this._updateFakeSelection(e)
              : this._fakeSelectionContainer &&
                this._fakeSelectionContainer.isConnected
              ? (this._removeFakeSelection(), this._updateDomSelection(e))
              : (this.isComposing && n.isAndroid) ||
                this._updateDomSelection(e));
        }
        _updateFakeSelection(e) {
          const t = e.ownerDocument;
          this._fakeSelectionContainer ||
            (this._fakeSelectionContainer = (function (e) {
              const t = e.createElement('div');
              return (
                (t.className = 'ck-fake-selection-container'),
                Object.assign(t.style, {
                  position: 'fixed',
                  top: 0,
                  left: '-9999px',
                  width: '42px',
                }),
                (t.textContent = ' '),
                t
              );
            })(t));
          const i = this._fakeSelectionContainer;
          if (
            (this.domConverter.bindFakeSelection(i, this.selection),
            !this._fakeSelectionNeedsUpdate(e))
          )
            return;
          (i.parentElement && i.parentElement == e) || e.appendChild(i),
            (i.textContent = this.selection.fakeSelectionLabel || ' ');
          const n = t.getSelection(),
            o = t.createRange();
          n.removeAllRanges(), o.selectNodeContents(i), n.addRange(o);
        }
        _updateDomSelection(e) {
          const t = e.ownerDocument.defaultView.getSelection();
          if (!this._domSelectionNeedsUpdate(t)) return;
          const i = this.domConverter.viewPositionToDom(this.selection.anchor),
            o = this.domConverter.viewPositionToDom(this.selection.focus);
          t.collapse(i.parent, i.offset),
            t.extend(o.parent, o.offset),
            n.isGecko &&
              (function (e, t) {
                const i = e.parent;
                if (
                  i.nodeType != Node.ELEMENT_NODE ||
                  e.offset != i.childNodes.length - 1
                )
                  return;
                const n = i.childNodes[e.offset];
                n && 'BR' == n.tagName && t.addRange(t.getRangeAt(0));
              })(o, t);
        }
        _domSelectionNeedsUpdate(e) {
          if (!this.domConverter.isDomSelectionCorrect(e)) return !0;
          const t = e && this.domConverter.domSelectionToView(e);
          return !(
            (t && this.selection.isEqual(t)) ||
            (!this.selection.isCollapsed && this.selection.isSimilar(t))
          );
        }
        _fakeSelectionNeedsUpdate(e) {
          const t = this._fakeSelectionContainer,
            i = e.ownerDocument.getSelection();
          return (
            !t ||
            t.parentElement !== e ||
            (i.anchorNode !== t && !t.contains(i.anchorNode)) ||
            t.textContent !== this.selection.fakeSelectionLabel
          );
        }
        _removeDomSelection() {
          for (const e of this.domDocuments) {
            const t = e.getSelection();
            if (t.rangeCount) {
              const i = e.activeElement,
                n = this.domConverter.mapDomToView(i);
              i && n && t.removeAllRanges();
            }
          }
        }
        _removeFakeSelection() {
          const e = this._fakeSelectionContainer;
          e && e.remove();
        }
        _updateFocus() {
          if (this.isFocused) {
            const e = this.selection.editableElement;
            e && this.domConverter.focus(e);
          }
        }
      }
      function Xr(e, t, i) {
        const n = t instanceof Array ? t : t.childNodes,
          o = n[i];
        if (Fi(o)) return (o.data = Zr + o.data), o;
        {
          const o = e.createTextNode(Zr);
          return Array.isArray(t) ? n.splice(i, 0, o) : Qi(t, i, o), o;
        }
      }
      function es(e, t) {
        return (
          Mi(e) &&
          Mi(t) &&
          !Fi(e) &&
          !Fi(t) &&
          !Ji(e) &&
          !Ji(t) &&
          e.tagName.toLowerCase() === t.tagName.toLowerCase()
        );
      }
      function ts(e, t) {
        return Mi(e) && Mi(t) && Fi(e) && Fi(t);
      }
      function is(e, t, i) {
        return (
          t === i ||
          (Fi(t) && Fi(i)
            ? t.data === i.data
            : !(!e.isBlockFiller(t) || !e.isBlockFiller(i)))
        );
      }
      function ns(e, t) {
        const i = e.data;
        if (i == t) return;
        const n = r(i, t);
        for (const t of n)
          'insert' === t.type
            ? e.insertData(t.index, t.values.join(''))
            : e.deleteData(t.index, t.howMany);
      }
      const os = $r(zi.document),
        rs = jr(zi.document),
        ss = Hr(zi.document),
        as = 'data-ck-unsafe-attribute-',
        ls = 'data-ck-unsafe-element';
      class cs {
        constructor(
          e,
          {blockFillerMode: t, renderingMode: i = 'editing'} = {}
        ) {
          (this._domToViewMapping = new WeakMap()),
            (this._viewToDomMapping = new WeakMap()),
            (this._fakeSelectionMapping = new WeakMap()),
            (this._rawContentElementMatcher = new mo()),
            (this._encounteredRawContentDomNodes = new WeakSet()),
            (this.document = e),
            (this.renderingMode = i),
            (this.blockFillerMode = t || ('editing' === i ? 'br' : 'nbsp')),
            (this.preElements = ['pre']),
            (this.blockElements = [
              'address',
              'article',
              'aside',
              'blockquote',
              'caption',
              'center',
              'dd',
              'details',
              'dir',
              'div',
              'dl',
              'dt',
              'fieldset',
              'figcaption',
              'figure',
              'footer',
              'form',
              'h1',
              'h2',
              'h3',
              'h4',
              'h5',
              'h6',
              'header',
              'hgroup',
              'legend',
              'li',
              'main',
              'menu',
              'nav',
              'ol',
              'p',
              'pre',
              'section',
              'summary',
              'table',
              'tbody',
              'td',
              'tfoot',
              'th',
              'thead',
              'tr',
              'ul',
            ]),
            (this.inlineObjectElements = [
              'object',
              'iframe',
              'input',
              'button',
              'textarea',
              'select',
              'option',
              'video',
              'embed',
              'audio',
              'img',
              'canvas',
            ]),
            (this.unsafeElements = ['script', 'style']),
            (this._domDocument =
              'editing' === this.renderingMode
                ? zi.document
                : zi.document.implementation.createHTMLDocument(''));
        }
        bindFakeSelection(e, t) {
          this._fakeSelectionMapping.set(e, new ur(t));
        }
        fakeSelectionToView(e) {
          return this._fakeSelectionMapping.get(e);
        }
        bindElements(e, t) {
          this._domToViewMapping.set(e, t), this._viewToDomMapping.set(t, e);
        }
        unbindDomElement(e) {
          const t = this._domToViewMapping.get(e);
          if (t) {
            this._domToViewMapping.delete(e), this._viewToDomMapping.delete(t);
            for (const t of Array.from(e.children)) this.unbindDomElement(t);
          }
        }
        bindDocumentFragments(e, t) {
          this._domToViewMapping.set(e, t), this._viewToDomMapping.set(t, e);
        }
        shouldRenderAttribute(e, t, i) {
          return (
            'data' === this.renderingMode ||
            (!(e = e.toLowerCase()).startsWith('on') &&
              ('srcdoc' !== e ||
                !t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)) &&
              (('img' === i && ('src' === e || 'srcset' === e)) ||
                ('source' === i && 'srcset' === e) ||
                !t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i)))
          );
        }
        setContentOf(e, t) {
          if ('data' === this.renderingMode) return void (e.innerHTML = t);
          const i = new DOMParser().parseFromString(t, 'text/html'),
            n = i.createDocumentFragment(),
            o = i.body.childNodes;
          for (; o.length > 0; ) n.appendChild(o[0]);
          const r = i.createTreeWalker(n, NodeFilter.SHOW_ELEMENT),
            s = [];
          let a;
          for (; (a = r.nextNode()); ) s.push(a);
          for (const e of s) {
            for (const t of e.getAttributeNames())
              this.setDomElementAttribute(e, t, e.getAttribute(t));
            const t = e.tagName.toLowerCase();
            this._shouldRenameElement(t) &&
              (hs(t), e.replaceWith(this._createReplacementDomElement(t, e)));
          }
          for (; e.firstChild; ) e.firstChild.remove();
          e.append(n);
        }
        viewToDom(e, t = {}) {
          if (e.is('$text')) {
            const t = this._processDataFromViewText(e);
            return this._domDocument.createTextNode(t);
          }
          {
            if (this.mapViewToDom(e)) return this.mapViewToDom(e);
            let i;
            if (e.is('documentFragment'))
              (i = this._domDocument.createDocumentFragment()),
                t.bind && this.bindDocumentFragments(i, e);
            else {
              if (e.is('uiElement'))
                return (
                  (i =
                    '$comment' === e.name
                      ? this._domDocument.createComment(
                          e.getCustomProperty('$rawContent')
                        )
                      : e.render(this._domDocument, this)),
                  t.bind && this.bindElements(i, e),
                  i
                );
              this._shouldRenameElement(e.name)
                ? (hs(e.name), (i = this._createReplacementDomElement(e.name)))
                : (i = e.hasAttribute('xmlns')
                    ? this._domDocument.createElementNS(
                        e.getAttribute('xmlns'),
                        e.name
                      )
                    : this._domDocument.createElement(e.name)),
                e.is('rawElement') && e.render(i, this),
                t.bind && this.bindElements(i, e);
              for (const t of e.getAttributeKeys())
                this.setDomElementAttribute(i, t, e.getAttribute(t), e);
            }
            if (!1 !== t.withChildren)
              for (const n of this.viewChildrenToDom(e, t)) i.appendChild(n);
            return i;
          }
        }
        setDomElementAttribute(e, t, i, n) {
          const o =
            this.shouldRenderAttribute(t, i, e.tagName.toLowerCase()) ||
            (n && n.shouldRenderUnsafeAttribute(t));
          o ||
            p('domconverter-unsafe-attribute-detected', {
              domElement: e,
              key: t,
              value: i,
            }),
            e.hasAttribute(t) && !o
              ? e.removeAttribute(t)
              : e.hasAttribute(as + t) && o && e.removeAttribute(as + t),
            e.setAttribute(o ? t : as + t, i);
        }
        removeDomElementAttribute(e, t) {
          t != ls && (e.removeAttribute(t), e.removeAttribute(as + t));
        }
        *viewChildrenToDom(e, t = {}) {
          const i = e.getFillerOffset && e.getFillerOffset();
          let n = 0;
          for (const o of e.getChildren()) {
            i === n && (yield this._getBlockFiller());
            const e =
              o.is('element') &&
              !!o.getCustomProperty('dataPipeline:transparentRendering') &&
              !Sn(o.getAttributes());
            e && 'data' == this.renderingMode
              ? yield* this.viewChildrenToDom(o, t)
              : (e &&
                  p(
                    'domconverter-transparent-rendering-unsupported-in-editing-pipeline',
                    {viewElement: o}
                  ),
                yield this.viewToDom(o, t)),
              n++;
          }
          i === n && (yield this._getBlockFiller());
        }
        viewRangeToDom(e) {
          const t = this.viewPositionToDom(e.start),
            i = this.viewPositionToDom(e.end),
            n = this._domDocument.createRange();
          return (
            n.setStart(t.parent, t.offset), n.setEnd(i.parent, i.offset), n
          );
        }
        viewPositionToDom(e) {
          const t = e.parent;
          if (t.is('$text')) {
            const i = this.findCorrespondingDomText(t);
            if (!i) return null;
            let n = e.offset;
            return Wr(i) && (n += Ur), {parent: i, offset: n};
          }
          {
            let i, n, o;
            if (0 === e.offset) {
              if (((i = this.mapViewToDom(t)), !i)) return null;
              o = i.childNodes[0];
            } else {
              const t = e.nodeBefore;
              if (
                ((n = t.is('$text')
                  ? this.findCorrespondingDomText(t)
                  : this.mapViewToDom(t)),
                !n)
              )
                return null;
              (i = n.parentNode), (o = n.nextSibling);
            }
            return Fi(o) && Wr(o)
              ? {parent: o, offset: Ur}
              : {parent: i, offset: n ? Ki(n) + 1 : 0};
          }
        }
        domToView(e, t = {}) {
          if (this.isBlockFiller(e)) return null;
          const i = this.getHostViewElement(e);
          if (i) return i;
          if (Ji(e) && t.skipComments) return null;
          if (Fi(e)) {
            if (qr(e)) return null;
            {
              const t = this._processDataFromDomText(e);
              return '' === t ? null : new uo(this.document, t);
            }
          }
          {
            if (this.mapDomToView(e)) return this.mapDomToView(e);
            let i;
            if (this.isDocumentFragment(e))
              (i = new Pr(this.document)),
                t.bind && this.bindDocumentFragments(e, i);
            else {
              (i = this._createViewElement(e, t)),
                t.bind && this.bindElements(e, i);
              const n = e.attributes;
              if (n)
                for (let e = n.length, t = 0; t < e; t++)
                  i._setAttribute(n[t].name, n[t].value);
              if (this._isViewElementWithRawContent(i, t) || Ji(e)) {
                const t = Ji(e) ? e.data : e.innerHTML;
                return (
                  i._setCustomProperty('$rawContent', t),
                  this._encounteredRawContentDomNodes.add(e),
                  i
                );
              }
            }
            if (!1 !== t.withChildren)
              for (const n of this.domChildrenToView(e, t)) i._appendChild(n);
            return i;
          }
        }
        *domChildrenToView(e, t) {
          for (let i = 0; i < e.childNodes.length; i++) {
            const n = e.childNodes[i],
              o = this.domToView(n, t);
            null !== o && (yield o);
          }
        }
        domSelectionToView(e) {
          if (1 === e.rangeCount) {
            let t = e.getRangeAt(0).startContainer;
            Fi(t) && (t = t.parentNode);
            const i = this.fakeSelectionToView(t);
            if (i) return i;
          }
          const t = this.isDomSelectionBackward(e),
            i = [];
          for (let t = 0; t < e.rangeCount; t++) {
            const n = e.getRangeAt(t),
              o = this.domRangeToView(n);
            o && i.push(o);
          }
          return new ur(i, {backward: t});
        }
        domRangeToView(e) {
          const t = this.domPositionToView(e.startContainer, e.startOffset),
            i = this.domPositionToView(e.endContainer, e.endOffset);
          return t && i ? new cr(t, i) : null;
        }
        domPositionToView(e, t = 0) {
          if (this.isBlockFiller(e))
            return this.domPositionToView(e.parentNode, Ki(e));
          const i = this.mapDomToView(e);
          if (i && (i.is('uiElement') || i.is('rawElement')))
            return lr._createBefore(i);
          if (Fi(e)) {
            if (qr(e)) return this.domPositionToView(e.parentNode, Ki(e));
            const i = this.findCorrespondingViewText(e);
            let n = t;
            return i
              ? (Wr(e) && ((n -= Ur), (n = n < 0 ? 0 : n)), new lr(i, n))
              : null;
          }
          if (0 === t) {
            const t = this.mapDomToView(e);
            if (t) return new lr(t, 0);
          } else {
            const i = e.childNodes[t - 1];
            if (Fi(i) && qr(i))
              return this.domPositionToView(i.parentNode, Ki(i));
            const n = Fi(i)
              ? this.findCorrespondingViewText(i)
              : this.mapDomToView(i);
            if (n && n.parent) return new lr(n.parent, n.index + 1);
          }
          return null;
        }
        mapDomToView(e) {
          return this.getHostViewElement(e) || this._domToViewMapping.get(e);
        }
        findCorrespondingViewText(e) {
          if (qr(e)) return null;
          const t = this.getHostViewElement(e);
          if (t) return t;
          const i = e.previousSibling;
          if (i) {
            if (!this.isElement(i)) return null;
            const e = this.mapDomToView(i);
            if (e) {
              const t = e.nextSibling;
              return t instanceof uo ? t : null;
            }
          } else {
            const t = this.mapDomToView(e.parentNode);
            if (t) {
              const e = t.getChild(0);
              return e instanceof uo ? e : null;
            }
          }
          return null;
        }
        mapViewToDom(e) {
          return this._viewToDomMapping.get(e);
        }
        findCorrespondingDomText(e) {
          const t = e.previousSibling;
          return t && this.mapViewToDom(t)
            ? this.mapViewToDom(t).nextSibling
            : !t && e.parent && this.mapViewToDom(e.parent)
            ? this.mapViewToDom(e.parent).childNodes[0]
            : null;
        }
        focus(e) {
          const t = this.mapViewToDom(e);
          if (t && t.ownerDocument.activeElement !== t) {
            const {scrollX: e, scrollY: i} = zi.window,
              n = [];
            ds(t, (e) => {
              const {scrollLeft: t, scrollTop: i} = e;
              n.push([t, i]);
            }),
              t.focus(),
              ds(t, (e) => {
                const [t, i] = n.shift();
                (e.scrollLeft = t), (e.scrollTop = i);
              }),
              zi.window.scrollTo(e, i);
          }
        }
        isElement(e) {
          return e && e.nodeType == Node.ELEMENT_NODE;
        }
        isDocumentFragment(e) {
          return e && e.nodeType == Node.DOCUMENT_FRAGMENT_NODE;
        }
        isBlockFiller(e) {
          return 'br' == this.blockFillerMode
            ? e.isEqualNode(os)
            : !(
                'BR' !== e.tagName ||
                !us(e, this.blockElements) ||
                1 !== e.parentNode.childNodes.length
              ) ||
                e.isEqualNode(ss) ||
                (function (e, t) {
                  return (
                    e.isEqualNode(rs) &&
                    us(e, t) &&
                    1 === e.parentNode.childNodes.length
                  );
                })(e, this.blockElements);
        }
        isDomSelectionBackward(e) {
          if (e.isCollapsed) return !1;
          const t = this._domDocument.createRange();
          try {
            t.setStart(e.anchorNode, e.anchorOffset),
              t.setEnd(e.focusNode, e.focusOffset);
          } catch (e) {
            return !1;
          }
          const i = t.collapsed;
          return t.detach(), i;
        }
        getHostViewElement(e) {
          const t = Bi(e);
          for (t.pop(); t.length; ) {
            const e = t.pop(),
              i = this._domToViewMapping.get(e);
            if (i && (i.is('uiElement') || i.is('rawElement'))) return i;
          }
          return null;
        }
        isDomSelectionCorrect(e) {
          return (
            this._isDomSelectionPositionCorrect(e.anchorNode, e.anchorOffset) &&
            this._isDomSelectionPositionCorrect(e.focusNode, e.focusOffset)
          );
        }
        registerRawContentMatcher(e) {
          this._rawContentElementMatcher.add(e);
        }
        _getBlockFiller() {
          switch (this.blockFillerMode) {
            case 'nbsp':
              return jr(this._domDocument);
            case 'markedNbsp':
              return Hr(this._domDocument);
            case 'br':
              return $r(this._domDocument);
          }
        }
        _isDomSelectionPositionCorrect(e, t) {
          if (Fi(e) && Wr(e) && t < Ur) return !1;
          if (this.isElement(e) && Wr(e.childNodes[t])) return !1;
          const i = this.mapDomToView(e);
          return !i || (!i.is('uiElement') && !i.is('rawElement'));
        }
        _processDataFromViewText(e) {
          let t = e.data;
          if (e.getAncestors().some((e) => this.preElements.includes(e.name)))
            return t;
          if (' ' == t.charAt(0)) {
            const i = this._getTouchingInlineViewNode(e, !1);
            (!(i && i.is('$textProxy') && this._nodeEndsWithSpace(i)) && i) ||
              (t = ' ' + t.substr(1));
          }
          if (' ' == t.charAt(t.length - 1)) {
            const i = this._getTouchingInlineViewNode(e, !0),
              n = i && i.is('$textProxy') && ' ' == i.data.charAt(0);
            (' ' != t.charAt(t.length - 2) && i && !n) ||
              (t = t.substr(0, t.length - 1) + ' ');
          }
          return t.replace(/ {2}/g, '  ');
        }
        _nodeEndsWithSpace(e) {
          if (e.getAncestors().some((e) => this.preElements.includes(e.name)))
            return !1;
          const t = this._processDataFromViewText(e);
          return ' ' == t.charAt(t.length - 1);
        }
        _processDataFromDomText(e) {
          let t = e.data;
          if (
            (function (e, t) {
              return Bi(e).some(
                (e) => e.tagName && t.includes(e.tagName.toLowerCase())
              );
            })(e, this.preElements)
          )
            return Gr(e);
          t = t.replace(/[ \n\t\r]{1,}/g, ' ');
          const i = this._getTouchingInlineDomNode(e, !1),
            n = this._getTouchingInlineDomNode(e, !0),
            o = this._checkShouldLeftTrimDomText(e, i),
            r = this._checkShouldRightTrimDomText(e, n);
          o && (t = t.replace(/^ /, '')),
            r && (t = t.replace(/ $/, '')),
            (t = Gr(new Text(t))),
            (t = t.replace(/ \u00A0/g, '  '));
          const s = n && this.isElement(n) && 'BR' != n.tagName,
            a = n && Fi(n) && ' ' == n.data.charAt(0);
          return (
            (/( |\u00A0)\u00A0$/.test(t) || !n || s || a) &&
              (t = t.replace(/\u00A0$/, ' ')),
            (o || (i && this.isElement(i) && 'BR' != i.tagName)) &&
              (t = t.replace(/^\u00A0/, ' ')),
            t
          );
        }
        _checkShouldLeftTrimDomText(e, t) {
          return (
            !t ||
            (this.isElement(t)
              ? 'BR' === t.tagName
              : !this._encounteredRawContentDomNodes.has(e.previousSibling) &&
                /[^\S\u00A0]/.test(t.data.charAt(t.data.length - 1)))
          );
        }
        _checkShouldRightTrimDomText(e, t) {
          return !t && !Wr(e);
        }
        _getTouchingInlineViewNode(e, t) {
          const i = new ar({
            startPosition: t ? lr._createAfter(e) : lr._createBefore(e),
            direction: t ? 'forward' : 'backward',
          });
          for (const e of i) {
            if (
              e.item.is('element') &&
              this.inlineObjectElements.includes(e.item.name)
            )
              return e.item;
            if (e.item.is('containerElement')) return null;
            if (e.item.is('element', 'br')) return null;
            if (e.item.is('$textProxy')) return e.item;
          }
          return null;
        }
        _getTouchingInlineDomNode(e, t) {
          if (!e.parentNode) return null;
          const i = t ? 'firstChild' : 'lastChild',
            n = t ? 'nextSibling' : 'previousSibling';
          let o = !0,
            r = e;
          do {
            if (
              (!o && r[i]
                ? (r = r[i])
                : r[n]
                ? ((r = r[n]), (o = !1))
                : ((r = r.parentNode), (o = !0)),
              !r || this._isBlockElement(r))
            )
              return null;
          } while (
            !Fi(r) &&
            'BR' != r.tagName &&
            !this._isInlineObjectElement(r)
          );
          return r;
        }
        _isBlockElement(e) {
          return (
            this.isElement(e) &&
            this.blockElements.includes(e.tagName.toLowerCase())
          );
        }
        _isInlineObjectElement(e) {
          return (
            this.isElement(e) &&
            this.inlineObjectElements.includes(e.tagName.toLowerCase())
          );
        }
        _createViewElement(e, t) {
          if (Ji(e)) return new Er(this.document, '$comment');
          const i = t.keepOriginalCase ? e.tagName : e.tagName.toLowerCase();
          return new er(this.document, i);
        }
        _isViewElementWithRawContent(e, t) {
          return (
            !1 !== t.withChildren && !!this._rawContentElementMatcher.match(e)
          );
        }
        _shouldRenameElement(e) {
          const t = e.toLowerCase();
          return (
            'editing' === this.renderingMode && this.unsafeElements.includes(t)
          );
        }
        _createReplacementDomElement(e, t) {
          const i = this._domDocument.createElement('span');
          if ((i.setAttribute(ls, e), t)) {
            for (; t.firstChild; ) i.appendChild(t.firstChild);
            for (const e of t.getAttributeNames())
              i.setAttribute(e, t.getAttribute(e));
          }
          return i;
        }
      }
      function ds(e, t) {
        let i = e;
        for (; i; ) t(i), (i = i.parentElement);
      }
      function us(e, t) {
        const i = e.parentNode;
        return !!i && !!i.tagName && t.includes(i.tagName.toLowerCase());
      }
      function hs(e) {
        'script' === e && p('domconverter-unsafe-script-element-detected'),
          'style' === e && p('domconverter-unsafe-style-element-detected');
      }
      class ms extends Oi() {
        constructor(e) {
          super(),
            (this._isEnabled = !1),
            (this.view = e),
            (this.document = e.document);
        }
        get isEnabled() {
          return this._isEnabled;
        }
        enable() {
          this._isEnabled = !0;
        }
        disable() {
          this._isEnabled = !1;
        }
        destroy() {
          this.disable(), this.stopListening();
        }
        checkShouldIgnoreEventFromTarget(e) {
          return (
            e && 3 === e.nodeType && (e = e.parentNode),
            !(!e || 1 !== e.nodeType) &&
              e.matches('[data-cke-ignore-events], [data-cke-ignore-events] *')
          );
        }
      }
      var gs = qo(function (e, t) {
        Ke(t, St(t), e);
      });
      class fs {
        constructor(e, t, i) {
          (this.view = e),
            (this.document = e.document),
            (this.domEvent = t),
            (this.domTarget = t.target),
            gs(this, i);
        }
        get target() {
          return this.view.domConverter.mapDomToView(this.domTarget);
        }
        preventDefault() {
          this.domEvent.preventDefault();
        }
        stopPropagation() {
          this.domEvent.stopPropagation();
        }
      }
      class ps extends ms {
        constructor() {
          super(...arguments), (this.useCapture = !1);
        }
        observe(e) {
          ('string' == typeof this.domEventType
            ? [this.domEventType]
            : this.domEventType
          ).forEach((t) => {
            this.listenTo(
              e,
              t,
              (e, t) => {
                this.isEnabled &&
                  !this.checkShouldIgnoreEventFromTarget(t.target) &&
                  this.onDomEvent(t);
              },
              {useCapture: this.useCapture}
            );
          });
        }
        stopObserving(e) {
          this.stopListening(e);
        }
        fire(e, t, i) {
          this.isEnabled && this.document.fire(e, new fs(this.view, t, i));
        }
      }
      class bs extends ps {
        constructor() {
          super(...arguments), (this.domEventType = ['keydown', 'keyup']);
        }
        onDomEvent(e) {
          const t = {
            keyCode: e.keyCode,
            altKey: e.altKey,
            ctrlKey: e.ctrlKey,
            shiftKey: e.shiftKey,
            metaKey: e.metaKey,
            get keystroke() {
              return wn(this);
            },
          };
          this.fire(e.type, e, t);
        }
      }
      var ks = function () {
          return K.Date.now();
        },
        ws = /\s/,
        _s = /^\s+/,
        vs = function (e) {
          return e
            ? e
                .slice(
                  0,
                  (function (e) {
                    for (var t = e.length; t-- && ws.test(e.charAt(t)); );
                    return t;
                  })(e) + 1
                )
                .replace(_s, '')
            : e;
        },
        ys = /^[-+]0x[0-9a-f]+$/i,
        xs = /^0b[01]+$/i,
        As = /^0o[0-7]+$/i,
        Cs = parseInt,
        Es = function (e) {
          if ('number' == typeof e) return e;
          if (po(e)) return NaN;
          if (M(e)) {
            var t = 'function' == typeof e.valueOf ? e.valueOf() : e;
            e = M(t) ? t + '' : t;
          }
          if ('string' != typeof e) return 0 === e ? e : +e;
          e = vs(e);
          var i = xs.test(e);
          return i || As.test(e)
            ? Cs(e.slice(2), i ? 2 : 8)
            : ys.test(e)
            ? NaN
            : +e;
        },
        Ts = Math.max,
        Ss = Math.min,
        Is = function (e, t, i) {
          var n,
            o,
            r,
            s,
            a,
            l,
            c = 0,
            d = !1,
            u = !1,
            h = !0;
          if ('function' != typeof e)
            throw new TypeError('Expected a function');
          function m(t) {
            var i = n,
              r = o;
            return (n = o = void 0), (c = t), (s = e.apply(r, i));
          }
          function g(e) {
            var i = e - l;
            return void 0 === l || i >= t || i < 0 || (u && e - c >= r);
          }
          function f() {
            var e = ks();
            if (g(e)) return p(e);
            a = setTimeout(
              f,
              (function (e) {
                var i = t - (e - l);
                return u ? Ss(i, r - (e - c)) : i;
              })(e)
            );
          }
          function p(e) {
            return (a = void 0), h && n ? m(e) : ((n = o = void 0), s);
          }
          function b() {
            var e = ks(),
              i = g(e);
            if (((n = arguments), (o = this), (l = e), i)) {
              if (void 0 === a)
                return (function (e) {
                  return (c = e), (a = setTimeout(f, t)), d ? m(e) : s;
                })(l);
              if (u) return clearTimeout(a), (a = setTimeout(f, t)), m(l);
            }
            return void 0 === a && (a = setTimeout(f, t)), s;
          }
          return (
            (t = Es(t) || 0),
            M(i) &&
              ((d = !!i.leading),
              (r = (u = 'maxWait' in i) ? Ts(Es(i.maxWait) || 0, t) : r),
              (h = 'trailing' in i ? !!i.trailing : h)),
            (b.cancel = function () {
              void 0 !== a && clearTimeout(a),
                (c = 0),
                (n = l = o = a = void 0);
            }),
            (b.flush = function () {
              return void 0 === a ? s : p(ks());
            }),
            b
          );
        };
      class Ps extends ms {
        constructor(e) {
          super(e),
            (this._fireSelectionChangeDoneDebounced = Is((e) => {
              this.document.fire('selectionChangeDone', e);
            }, 200));
        }
        observe() {
          const e = this.document;
          e.on(
            'arrowKey',
            (t, i) => {
              e.selection.isFake && this.isEnabled && i.preventDefault();
            },
            {context: '$capture'}
          ),
            e.on(
              'arrowKey',
              (t, i) => {
                e.selection.isFake &&
                  this.isEnabled &&
                  this._handleSelectionMove(i.keyCode);
              },
              {priority: 'lowest'}
            );
        }
        stopObserving() {}
        destroy() {
          super.destroy(), this._fireSelectionChangeDoneDebounced.cancel();
        }
        _handleSelectionMove(e) {
          const t = this.document.selection,
            i = new ur(t.getRanges(), {backward: t.isBackward, fake: !1});
          (e != bn.arrowleft && e != bn.arrowup) ||
            i.setTo(i.getFirstPosition()),
            (e != bn.arrowright && e != bn.arrowdown) ||
              i.setTo(i.getLastPosition());
          const n = {oldSelection: t, newSelection: i, domSelection: null};
          this.document.fire('selectionChange', n),
            this._fireSelectionChangeDoneDebounced(n);
        }
      }
      function Ms(e) {
        var t = -1,
          i = null == e ? 0 : e.length;
        for (this.__data__ = new $e(); ++t < i; ) this.add(e[t]);
      }
      (Ms.prototype.add = Ms.prototype.push =
        function (e) {
          return this.__data__.set(e, '__lodash_hash_undefined__'), this;
        }),
        (Ms.prototype.has = function (e) {
          return this.__data__.has(e);
        });
      var Rs = Ms,
        Ns = function (e, t) {
          for (var i = -1, n = null == e ? 0 : e.length; ++i < n; )
            if (t(e[i], i, e)) return !0;
          return !1;
        },
        Os = function (e, t) {
          return e.has(t);
        },
        Ds = function (e, t, i, n, o, r) {
          var s = 1 & i,
            a = e.length,
            l = t.length;
          if (a != l && !(s && l > a)) return !1;
          var c = r.get(e),
            d = r.get(t);
          if (c && d) return c == t && d == e;
          var u = -1,
            h = !0,
            m = 2 & i ? new Rs() : void 0;
          for (r.set(e, t), r.set(t, e); ++u < a; ) {
            var g = e[u],
              f = t[u];
            if (n) var p = s ? n(f, g, u, t, e, r) : n(g, f, u, e, t, r);
            if (void 0 !== p) {
              if (p) continue;
              h = !1;
              break;
            }
            if (m) {
              if (
                !Ns(t, function (e, t) {
                  if (!Os(m, t) && (g === e || o(g, e, i, n, r)))
                    return m.push(t);
                })
              ) {
                h = !1;
                break;
              }
            } else if (g !== f && !o(g, f, i, n, r)) {
              h = !1;
              break;
            }
          }
          return r.delete(e), r.delete(t), h;
        },
        Vs = function (e) {
          var t = -1,
            i = Array(e.size);
          return (
            e.forEach(function (e, n) {
              i[++t] = [n, e];
            }),
            i
          );
        },
        Ls = function (e) {
          var t = -1,
            i = Array(e.size);
          return (
            e.forEach(function (e) {
              i[++t] = e;
            }),
            i
          );
        },
        zs = Q ? Q.prototype : void 0,
        Bs = zs ? zs.valueOf : void 0,
        Fs = Object.prototype.hasOwnProperty,
        js = '[object Arguments]',
        Hs = '[object Array]',
        $s = '[object Object]',
        Us = Object.prototype.hasOwnProperty,
        Zs = function (e, t, i, n, o, r) {
          var s = re(e),
            a = re(t),
            l = s ? Hs : ri(e),
            c = a ? Hs : ri(t),
            d = (l = l == js ? $s : l) == $s,
            u = (c = c == js ? $s : c) == $s,
            h = l == c;
          if (h && st(e)) {
            if (!st(t)) return !1;
            (s = !0), (d = !1);
          }
          if (h && !d)
            return (
              r || (r = new Ze()),
              s || bt(e)
                ? Ds(e, t, i, n, o, r)
                : (function (e, t, i, n, o, r, s) {
                    switch (i) {
                      case '[object DataView]':
                        if (
                          e.byteLength != t.byteLength ||
                          e.byteOffset != t.byteOffset
                        )
                          return !1;
                        (e = e.buffer), (t = t.buffer);
                      case '[object ArrayBuffer]':
                        return !(
                          e.byteLength != t.byteLength ||
                          !r(new ai(e), new ai(t))
                        );
                      case '[object Boolean]':
                      case '[object Date]':
                      case '[object Number]':
                        return be(+e, +t);
                      case '[object Error]':
                        return e.name == t.name && e.message == t.message;
                      case '[object RegExp]':
                      case '[object String]':
                        return e == t + '';
                      case '[object Map]':
                        var a = Vs;
                      case '[object Set]':
                        var l = 1 & n;
                        if ((a || (a = Ls), e.size != t.size && !l)) return !1;
                        var c = s.get(e);
                        if (c) return c == t;
                        (n |= 2), s.set(e, t);
                        var d = Ds(a(e), a(t), n, o, r, s);
                        return s.delete(e), d;
                      case '[object Symbol]':
                        if (Bs) return Bs.call(e) == Bs.call(t);
                    }
                    return !1;
                  })(e, t, l, i, n, o, r)
            );
          if (!(1 & i)) {
            var m = d && Us.call(e, '__wrapped__'),
              g = u && Us.call(t, '__wrapped__');
            if (m || g) {
              var f = m ? e.value() : e,
                p = g ? t.value() : t;
              return r || (r = new Ze()), o(f, p, i, n, r);
            }
          }
          return (
            !!h &&
            (r || (r = new Ze()),
            (function (e, t, i, n, o, r) {
              var s = 1 & i,
                a = Ht(e),
                l = a.length;
              if (l != Ht(t).length && !s) return !1;
              for (var c = l; c--; ) {
                var d = a[c];
                if (!(s ? d in t : Fs.call(t, d))) return !1;
              }
              var u = r.get(e),
                h = r.get(t);
              if (u && h) return u == t && h == e;
              var m = !0;
              r.set(e, t), r.set(t, e);
              for (var g = s; ++c < l; ) {
                var f = e[(d = a[c])],
                  p = t[d];
                if (n) var b = s ? n(p, f, d, t, e, r) : n(f, p, d, e, t, r);
                if (!(void 0 === b ? f === p || o(f, p, i, n, r) : b)) {
                  m = !1;
                  break;
                }
                g || (g = 'constructor' == d);
              }
              if (m && !g) {
                var k = e.constructor,
                  w = t.constructor;
                k == w ||
                  !('constructor' in e) ||
                  !('constructor' in t) ||
                  ('function' == typeof k &&
                    k instanceof k &&
                    'function' == typeof w &&
                    w instanceof w) ||
                  (m = !1);
              }
              return r.delete(e), r.delete(t), m;
            })(e, t, i, n, o, r))
          );
        },
        Ws = function e(t, i, n, o, r) {
          return (
            t === i ||
            (null == t || null == i || (!se(t) && !se(i))
              ? t != t && i != i
              : Zs(t, i, n, o, e, r))
          );
        },
        qs = function (e, t, i) {
          var n = (i = 'function' == typeof i ? i : void 0) ? i(e, t) : void 0;
          return void 0 === n ? Ws(e, t, void 0, i) : !!n;
        };
      class Gs extends ms {
        constructor(e) {
          super(e),
            (this._config = {childList: !0, characterData: !0, subtree: !0}),
            (this.domConverter = e.domConverter),
            (this.renderer = e._renderer),
            (this._domElements = new Set()),
            (this._mutationObserver = new window.MutationObserver(
              this._onMutations.bind(this)
            ));
        }
        flush() {
          this._onMutations(this._mutationObserver.takeRecords());
        }
        observe(e) {
          this._domElements.add(e),
            this.isEnabled && this._mutationObserver.observe(e, this._config);
        }
        stopObserving(e) {
          if ((this._domElements.delete(e), this.isEnabled)) {
            this._mutationObserver.disconnect();
            for (const e of this._domElements)
              this._mutationObserver.observe(e, this._config);
          }
        }
        enable() {
          super.enable();
          for (const e of this._domElements)
            this._mutationObserver.observe(e, this._config);
        }
        disable() {
          super.disable(), this._mutationObserver.disconnect();
        }
        destroy() {
          super.destroy(), this._mutationObserver.disconnect();
        }
        _onMutations(e) {
          if (0 === e.length) return;
          const t = this.domConverter,
            i = new Set(),
            n = new Set();
          for (const i of e) {
            const e = t.mapDomToView(i.target);
            e &&
              (e.is('uiElement') ||
                e.is('rawElement') ||
                'childList' !== i.type ||
                this._isBogusBrMutation(i) ||
                n.add(e));
          }
          for (const o of e) {
            const e = t.mapDomToView(o.target);
            if (
              (!e || (!e.is('uiElement') && !e.is('rawElement'))) &&
              'characterData' === o.type
            ) {
              const e = t.findCorrespondingViewText(o.target);
              e && !n.has(e.parent)
                ? i.add(e)
                : !e &&
                  Wr(o.target) &&
                  n.add(t.mapDomToView(o.target.parentNode));
            }
          }
          let o = !1;
          for (const e of i) (o = !0), this.renderer.markToSync('text', e);
          for (const e of n) {
            const i = t.mapViewToDom(e),
              n = Array.from(e.getChildren()),
              r = Array.from(t.domChildrenToView(i, {withChildren: !1}));
            qs(n, r, Ys) || ((o = !0), this.renderer.markToSync('children', e));
          }
          o && this.view.forceRender();
        }
        _isBogusBrMutation(e) {
          let t = null;
          return (
            null === e.nextSibling &&
              0 === e.removedNodes.length &&
              1 == e.addedNodes.length &&
              (t = this.domConverter.domToView(e.addedNodes[0], {
                withChildren: !1,
              })),
            t && t.is('element', 'br')
          );
        }
      }
      function Ys(e, t) {
        if (!Array.isArray(e))
          return (
            e === t ||
            (!(!e.is('$text') || !t.is('$text')) && e.data === t.data)
          );
      }
      class Ks extends ps {
        constructor(e) {
          super(e),
            (this._isFocusChanging = !1),
            (this.domEventType = ['focus', 'blur']),
            (this.useCapture = !0);
          const t = this.document;
          t.on('focus', () => {
            (this._isFocusChanging = !0),
              (this._renderTimeoutId = setTimeout(() => {
                this.flush(), e.change(() => {});
              }, 50));
          }),
            t.on('blur', (i, n) => {
              const o = t.selection.editableElement;
              (null !== o && o !== n.target) ||
                ((t.isFocused = !1),
                (this._isFocusChanging = !1),
                e.change(() => {}));
            });
        }
        flush() {
          this._isFocusChanging &&
            ((this._isFocusChanging = !1), (this.document.isFocused = !0));
        }
        onDomEvent(e) {
          this.fire(e.type, e);
        }
        destroy() {
          this._renderTimeoutId && clearTimeout(this._renderTimeoutId),
            super.destroy();
        }
      }
      class Qs extends ms {
        constructor(e) {
          super(e),
            (this.mutationObserver = e.getObserver(Gs)),
            (this.focusObserver = e.getObserver(Ks)),
            (this.selection = this.document.selection),
            (this.domConverter = e.domConverter),
            (this._documents = new WeakSet()),
            (this._fireSelectionChangeDoneDebounced = Is((e) => {
              this.document.fire('selectionChangeDone', e);
            }, 200)),
            (this._clearInfiniteLoopInterval = setInterval(
              () => this._clearInfiniteLoop(),
              1e3
            )),
            (this._documentIsSelectingInactivityTimeoutDebounced = Is(
              () => (this.document.isSelecting = !1),
              5e3
            )),
            (this._loopbackCounter = 0);
        }
        observe(e) {
          const t = e.ownerDocument,
            i = () => {
              this.document.isSelecting &&
                (this._handleSelectionChange(null, t),
                (this.document.isSelecting = !1),
                this._documentIsSelectingInactivityTimeoutDebounced.cancel());
            };
          this.listenTo(
            e,
            'selectstart',
            () => {
              (this.document.isSelecting = !0),
                this._documentIsSelectingInactivityTimeoutDebounced();
            },
            {priority: 'highest'}
          ),
            this.listenTo(e, 'keydown', i, {
              priority: 'highest',
              useCapture: !0,
            }),
            this.listenTo(e, 'keyup', i, {priority: 'highest', useCapture: !0}),
            this._documents.has(t) ||
              (this.listenTo(t, 'mouseup', i, {
                priority: 'highest',
                useCapture: !0,
              }),
              this.listenTo(t, 'selectionchange', (e, i) => {
                (this.document.isComposing && !n.isAndroid) ||
                  (this._handleSelectionChange(i, t),
                  this._documentIsSelectingInactivityTimeoutDebounced());
              }),
              this._documents.add(t));
        }
        stopObserving(e) {
          this.stopListening(e);
        }
        destroy() {
          super.destroy(),
            clearInterval(this._clearInfiniteLoopInterval),
            this._fireSelectionChangeDoneDebounced.cancel(),
            this._documentIsSelectingInactivityTimeoutDebounced.cancel();
        }
        _reportInfiniteLoop() {}
        _handleSelectionChange(e, t) {
          if (!this.isEnabled) return;
          const i = t.defaultView.getSelection();
          if (this.checkShouldIgnoreEventFromTarget(i.anchorNode)) return;
          this.mutationObserver.flush();
          const n = this.domConverter.domSelectionToView(i);
          if (0 != n.rangeCount) {
            if (
              ((this.view.hasDomSelection = !0),
              !this.selection.isEqual(n) ||
                !this.domConverter.isDomSelectionCorrect(i))
            )
              if (++this._loopbackCounter > 60) this._reportInfiniteLoop();
              else if (
                (this.focusObserver.flush(), this.selection.isSimilar(n))
              )
                this.view.forceRender();
              else {
                const e = {
                  oldSelection: this.selection,
                  newSelection: n,
                  domSelection: i,
                };
                this.document.fire('selectionChange', e),
                  this._fireSelectionChangeDoneDebounced(e);
              }
          } else this.view.hasDomSelection = !1;
        }
        _clearInfiniteLoop() {
          this._loopbackCounter = 0;
        }
      }
      class Js extends ps {
        constructor(e) {
          super(e),
            (this.domEventType = [
              'compositionstart',
              'compositionupdate',
              'compositionend',
            ]);
          const t = this.document;
          t.on(
            'compositionstart',
            () => {
              t.isComposing = !0;
            },
            {priority: 'low'}
          ),
            t.on(
              'compositionend',
              () => {
                t.isComposing = !1;
              },
              {priority: 'low'}
            );
        }
        onDomEvent(e) {
          this.fire(e.type, e, {data: e.data});
        }
      }
      class Xs {
        constructor(e, t = {}) {
          (this._files = t.cacheFiles ? ea(e) : null), (this._native = e);
        }
        get files() {
          return this._files || (this._files = ea(this._native)), this._files;
        }
        get types() {
          return this._native.types;
        }
        getData(e) {
          return this._native.getData(e);
        }
        setData(e, t) {
          this._native.setData(e, t);
        }
        set effectAllowed(e) {
          this._native.effectAllowed = e;
        }
        get effectAllowed() {
          return this._native.effectAllowed;
        }
        set dropEffect(e) {
          this._native.dropEffect = e;
        }
        get dropEffect() {
          return this._native.dropEffect;
        }
        get isCanceled() {
          return (
            'none' == this._native.dropEffect || !!this._native.mozUserCancelled
          );
        }
      }
      function ea(e) {
        const t = Array.from(e.files || []),
          i = Array.from(e.items || []);
        return t.length
          ? t
          : i.filter((e) => 'file' === e.kind).map((e) => e.getAsFile());
      }
      class ta extends ps {
        constructor() {
          super(...arguments), (this.domEventType = 'beforeinput');
        }
        onDomEvent(e) {
          const t = e.getTargetRanges(),
            i = this.view,
            o = i.document;
          let r = null,
            s = null,
            a = [];
          if (
            (e.dataTransfer && (r = new Xs(e.dataTransfer)),
            null !== e.data ? (s = e.data) : r && (s = r.getData('text/plain')),
            o.selection.isFake)
          )
            a = Array.from(o.selection.getRanges());
          else if (t.length) a = t.map((e) => i.domConverter.domRangeToView(e));
          else if (n.isAndroid) {
            const t = e.target.ownerDocument.defaultView.getSelection();
            a = Array.from(i.domConverter.domSelectionToView(t).getRanges());
          }
          if (
            n.isAndroid &&
            'insertCompositionText' == e.inputType &&
            s &&
            s.endsWith('\n')
          )
            this.fire(e.type, e, {
              inputType: 'insertParagraph',
              targetRanges: [i.createRange(a[0].end)],
            });
          else if ('insertText' == e.inputType && s && s.includes('\n')) {
            const t = s.split(/\n{1,2}/g);
            let i = a;
            for (let n = 0; n < t.length; n++) {
              const s = t[n];
              '' != s &&
                (this.fire(e.type, e, {
                  data: s,
                  dataTransfer: r,
                  targetRanges: i,
                  inputType: e.inputType,
                  isComposing: e.isComposing,
                }),
                (i = [o.selection.getFirstRange()])),
                n + 1 < t.length &&
                  (this.fire(e.type, e, {
                    inputType: 'insertParagraph',
                    targetRanges: i,
                  }),
                  (i = [o.selection.getFirstRange()]));
            }
          } else
            this.fire(e.type, e, {
              data: s,
              dataTransfer: r,
              targetRanges: a,
              inputType: e.inputType,
              isComposing: e.isComposing,
            });
        }
      }
      class ia extends ms {
        constructor(e) {
          super(e),
            this.document.on('keydown', (e, t) => {
              if (
                this.isEnabled &&
                ((i = t.keyCode) == bn.arrowright ||
                  i == bn.arrowleft ||
                  i == bn.arrowup ||
                  i == bn.arrowdown)
              ) {
                const i = new mr(
                  this.document,
                  'arrowKey',
                  this.document.selection.getFirstRange()
                );
                this.document.fire(i, t), i.stop.called && e.stop();
              }
              var i;
            });
        }
        observe() {}
        stopObserving() {}
      }
      class na extends ms {
        constructor(e) {
          super(e);
          const t = this.document;
          t.on('keydown', (e, i) => {
            if (!this.isEnabled || i.keyCode != bn.tab || i.ctrlKey) return;
            const n = new mr(t, 'tab', t.selection.getFirstRange());
            t.fire(n, i), n.stop.called && e.stop();
          });
        }
        observe() {}
        stopObserving() {}
      }
      class oa extends z() {
        constructor(e) {
          var t;
          super(),
            (this.domRoots = new Map()),
            (this._initialDomRootAttributes = new WeakMap()),
            (this._observers = new Map()),
            (this._ongoingChange = !1),
            (this._postFixersInProgress = !1),
            (this._renderingDisabled = !1),
            (this._hasChangedSinceTheLastRendering = !1),
            (this.document = new _r(e)),
            (this.domConverter = new cs(this.document)),
            this.set('isRenderingInProgress', !1),
            this.set('hasDomSelection', !1),
            (this._renderer = new Jr(
              this.domConverter,
              this.document.selection
            )),
            this._renderer
              .bind('isFocused', 'isSelecting', 'isComposing')
              .to(this.document, 'isFocused', 'isSelecting', 'isComposing'),
            (this._writer = new Mr(this.document)),
            this.addObserver(Gs),
            this.addObserver(Ks),
            this.addObserver(Qs),
            this.addObserver(bs),
            this.addObserver(Ps),
            this.addObserver(Js),
            this.addObserver(ia),
            this.addObserver(ta),
            this.addObserver(na),
            this.document.on('arrowKey', Yr, {priority: 'low'}),
            (t = this).document.on(
              'arrowKey',
              (e, i) =>
                (function (e, t, i) {
                  if (t.keyCode == bn.arrowright) {
                    const e =
                        t.domTarget.ownerDocument.defaultView.getSelection(),
                      n = 1 == e.rangeCount && e.getRangeAt(0).collapsed;
                    if (n || t.shiftKey) {
                      const t = e.focusNode,
                        o = e.focusOffset,
                        r = i.domPositionToView(t, o);
                      if (null === r) return;
                      let s = !1;
                      const a = r.getLastMatchingPosition(
                        (e) => (
                          e.item.is('uiElement') && (s = !0),
                          !(
                            !e.item.is('uiElement') &&
                            !e.item.is('attributeElement')
                          )
                        )
                      );
                      if (s) {
                        const t = i.viewPositionToDom(a);
                        n
                          ? e.collapse(t.parent, t.offset)
                          : e.extend(t.parent, t.offset);
                      }
                    }
                  }
                })(0, i, t.domConverter),
              {priority: 'low'}
            ),
            this.on('render', () => {
              this._render(),
                this.document.fire('layoutChanged'),
                (this._hasChangedSinceTheLastRendering = !1);
            }),
            this.listenTo(this.document.selection, 'change', () => {
              this._hasChangedSinceTheLastRendering = !0;
            }),
            this.listenTo(this.document, 'change:isFocused', () => {
              this._hasChangedSinceTheLastRendering = !0;
            });
        }
        attachDomRoot(e, t = 'main') {
          const i = this.document.getRoot(t);
          i._name = e.tagName.toLowerCase();
          const n = {};
          for (const {name: t, value: o} of Array.from(e.attributes))
            (n[t] = o),
              'class' === t
                ? this._writer.addClass(o.split(' '), i)
                : this._writer.setAttribute(t, o, i);
          this._initialDomRootAttributes.set(e, n);
          const o = () => {
            this._writer.setAttribute(
              'contenteditable',
              (!i.isReadOnly).toString(),
              i
            ),
              i.isReadOnly
                ? this._writer.addClass('ck-read-only', i)
                : this._writer.removeClass('ck-read-only', i);
          };
          o(),
            this.domRoots.set(t, e),
            this.domConverter.bindElements(e, i),
            this._renderer.markToSync('children', i),
            this._renderer.markToSync('attributes', i),
            this._renderer.domDocuments.add(e.ownerDocument),
            i.on('change:children', (e, t) =>
              this._renderer.markToSync('children', t)
            ),
            i.on('change:attributes', (e, t) =>
              this._renderer.markToSync('attributes', t)
            ),
            i.on('change:text', (e, t) => this._renderer.markToSync('text', t)),
            i.on('change:isReadOnly', () => this.change(o)),
            i.on('change', () => {
              this._hasChangedSinceTheLastRendering = !0;
            });
          for (const i of this._observers.values()) i.observe(e, t);
        }
        detachDomRoot(e) {
          const t = this.domRoots.get(e);
          Array.from(t.attributes).forEach(({name: e}) => t.removeAttribute(e));
          const i = this._initialDomRootAttributes.get(t);
          for (const e in i) t.setAttribute(e, i[e]);
          this.domRoots.delete(e), this.domConverter.unbindDomElement(t);
          for (const e of this._observers.values()) e.stopObserving(t);
        }
        getDomRoot(e = 'main') {
          return this.domRoots.get(e);
        }
        addObserver(e) {
          let t = this._observers.get(e);
          if (t) return t;
          (t = new e(this)), this._observers.set(e, t);
          for (const [e, i] of this.domRoots) t.observe(i, e);
          return t.enable(), t;
        }
        getObserver(e) {
          return this._observers.get(e);
        }
        disableObservers() {
          for (const e of this._observers.values()) e.disable();
        }
        enableObservers() {
          for (const e of this._observers.values()) e.enable();
        }
        scrollToTheSelection({
          alignToTop: e,
          forceScroll: t,
          viewportOffset: i = 20,
          ancestorOffset: n = 20,
        } = {}) {
          const o = this.document.selection.getFirstRange();
          o &&
            rn({
              target: this.domConverter.viewRangeToDom(o),
              viewportOffset: i,
              ancestorOffset: n,
              alignToTop: e,
              forceScroll: t,
            });
        }
        focus() {
          if (!this.document.isFocused) {
            const e = this.document.selection.editableElement;
            e && (this.domConverter.focus(e), this.forceRender());
          }
        }
        change(e) {
          if (this.isRenderingInProgress || this._postFixersInProgress)
            throw new f('cannot-change-view-tree', this);
          try {
            if (this._ongoingChange) return e(this._writer);
            this._ongoingChange = !0;
            const t = e(this._writer);
            return (
              (this._ongoingChange = !1),
              !this._renderingDisabled &&
                this._hasChangedSinceTheLastRendering &&
                ((this._postFixersInProgress = !0),
                this.document._callPostFixers(this._writer),
                (this._postFixersInProgress = !1),
                this.fire('render')),
              t
            );
          } catch (e) {
            f.rethrowUnexpectedError(e, this);
          }
        }
        forceRender() {
          (this._hasChangedSinceTheLastRendering = !0),
            this.getObserver(Ks).flush(),
            this.change(() => {});
        }
        destroy() {
          for (const e of this._observers.values()) e.destroy();
          this.document.destroy(), this.stopListening();
        }
        createPositionAt(e, t) {
          return lr._createAt(e, t);
        }
        createPositionAfter(e) {
          return lr._createAfter(e);
        }
        createPositionBefore(e) {
          return lr._createBefore(e);
        }
        createRange(e, t) {
          return new cr(e, t);
        }
        createRangeOn(e) {
          return cr._createOn(e);
        }
        createRangeIn(e) {
          return cr._createIn(e);
        }
        createSelection(...e) {
          return new ur(...e);
        }
        _disableRendering(e) {
          (this._renderingDisabled = e), 0 == e && this.change(() => {});
        }
        _render() {
          (this.isRenderingInProgress = !0),
            this.disableObservers(),
            this._renderer.render(),
            this.enableObservers(),
            (this.isRenderingInProgress = !1);
        }
      }
      class ra {
        is() {
          throw new Error('is() method is abstract');
        }
      }
      class sa extends ra {
        constructor(e) {
          super(), (this.parent = null), (this._attrs = Mn(e));
        }
        get document() {
          return null;
        }
        get index() {
          let e;
          if (!this.parent) return null;
          if (null === (e = this.parent.getChildIndex(this)))
            throw new f('model-node-not-found-in-parent', this);
          return e;
        }
        get startOffset() {
          let e;
          if (!this.parent) return null;
          if (null === (e = this.parent.getChildStartOffset(this)))
            throw new f('model-node-not-found-in-parent', this);
          return e;
        }
        get offsetSize() {
          return 1;
        }
        get endOffset() {
          return this.parent ? this.startOffset + this.offsetSize : null;
        }
        get nextSibling() {
          const e = this.index;
          return (null !== e && this.parent.getChild(e + 1)) || null;
        }
        get previousSibling() {
          const e = this.index;
          return (null !== e && this.parent.getChild(e - 1)) || null;
        }
        get root() {
          let e = this;
          for (; e.parent; ) e = e.parent;
          return e;
        }
        isAttached() {
          return null !== this.parent && this.root.isAttached();
        }
        getPath() {
          const e = [];
          let t = this;
          for (; t.parent; ) e.unshift(t.startOffset), (t = t.parent);
          return e;
        }
        getAncestors(e = {}) {
          const t = [];
          let i = e.includeSelf ? this : this.parent;
          for (; i; ) t[e.parentFirst ? 'push' : 'unshift'](i), (i = i.parent);
          return t;
        }
        getCommonAncestor(e, t = {}) {
          const i = this.getAncestors(t),
            n = e.getAncestors(t);
          let o = 0;
          for (; i[o] == n[o] && i[o]; ) o++;
          return 0 === o ? null : i[o - 1];
        }
        isBefore(e) {
          if (this == e) return !1;
          if (this.root !== e.root) return !1;
          const t = this.getPath(),
            i = e.getPath(),
            n = W(t, i);
          switch (n) {
            case 'prefix':
              return !0;
            case 'extension':
              return !1;
            default:
              return t[n] < i[n];
          }
        }
        isAfter(e) {
          return this != e && this.root === e.root && !this.isBefore(e);
        }
        hasAttribute(e) {
          return this._attrs.has(e);
        }
        getAttribute(e) {
          return this._attrs.get(e);
        }
        getAttributes() {
          return this._attrs.entries();
        }
        getAttributeKeys() {
          return this._attrs.keys();
        }
        toJSON() {
          const e = {};
          return (
            this._attrs.size &&
              (e.attributes = Array.from(this._attrs).reduce(
                (e, t) => ((e[t[0]] = t[1]), e),
                {}
              )),
            e
          );
        }
        _clone(e) {
          return new this.constructor(this._attrs);
        }
        _remove() {
          this.parent._removeChildren(this.index);
        }
        _setAttribute(e, t) {
          this._attrs.set(e, t);
        }
        _setAttributesTo(e) {
          this._attrs = Mn(e);
        }
        _removeAttribute(e) {
          return this._attrs.delete(e);
        }
        _clearAttributes() {
          this._attrs.clear();
        }
      }
      sa.prototype.is = function (e) {
        return 'node' === e || 'model:node' === e;
      };
      class aa {
        constructor(e) {
          (this._nodes = []), e && this._insertNodes(0, e);
        }
        [Symbol.iterator]() {
          return this._nodes[Symbol.iterator]();
        }
        get length() {
          return this._nodes.length;
        }
        get maxOffset() {
          return this._nodes.reduce((e, t) => e + t.offsetSize, 0);
        }
        getNode(e) {
          return this._nodes[e] || null;
        }
        getNodeIndex(e) {
          const t = this._nodes.indexOf(e);
          return -1 == t ? null : t;
        }
        getNodeStartOffset(e) {
          const t = this.getNodeIndex(e);
          return null === t
            ? null
            : this._nodes.slice(0, t).reduce((e, t) => e + t.offsetSize, 0);
        }
        indexToOffset(e) {
          if (e == this._nodes.length) return this.maxOffset;
          const t = this._nodes[e];
          if (!t) throw new f('model-nodelist-index-out-of-bounds', this);
          return this.getNodeStartOffset(t);
        }
        offsetToIndex(e) {
          let t = 0;
          for (const i of this._nodes) {
            if (e >= t && e < t + i.offsetSize) return this.getNodeIndex(i);
            t += i.offsetSize;
          }
          if (t != e)
            throw new f('model-nodelist-offset-out-of-bounds', this, {
              offset: e,
              nodeList: this,
            });
          return this.length;
        }
        _insertNodes(e, t) {
          for (const e of t)
            if (!(e instanceof sa))
              throw new f('model-nodelist-insertnodes-not-node', this);
          this._nodes = (function (e, t, i, n) {
            if (Math.max(t.length, e.length) > 1e4)
              return e
                .slice(0, i)
                .concat(t)
                .concat(e.slice(i + 0, e.length));
            {
              const n = Array.from(e);
              return n.splice(i, 0, ...t), n;
            }
          })(this._nodes, Array.from(t), e);
        }
        _removeNodes(e, t = 1) {
          return this._nodes.splice(e, t);
        }
        toJSON() {
          return this._nodes.map((e) => e.toJSON());
        }
      }
      class la extends sa {
        constructor(e, t) {
          super(t), (this._data = e || '');
        }
        get offsetSize() {
          return this.data.length;
        }
        get data() {
          return this._data;
        }
        toJSON() {
          const e = super.toJSON();
          return (e.data = this.data), e;
        }
        _clone() {
          return new la(this.data, this.getAttributes());
        }
        static fromJSON(e) {
          return new la(e.data, e.attributes);
        }
      }
      la.prototype.is = function (e) {
        return (
          '$text' === e ||
          'model:$text' === e ||
          'text' === e ||
          'model:text' === e ||
          'node' === e ||
          'model:node' === e
        );
      };
      class ca extends ra {
        constructor(e, t, i) {
          if ((super(), (this.textNode = e), t < 0 || t > e.offsetSize))
            throw new f('model-textproxy-wrong-offsetintext', this);
          if (i < 0 || t + i > e.offsetSize)
            throw new f('model-textproxy-wrong-length', this);
          (this.data = e.data.substring(t, t + i)), (this.offsetInText = t);
        }
        get startOffset() {
          return null !== this.textNode.startOffset
            ? this.textNode.startOffset + this.offsetInText
            : null;
        }
        get offsetSize() {
          return this.data.length;
        }
        get endOffset() {
          return null !== this.startOffset
            ? this.startOffset + this.offsetSize
            : null;
        }
        get isPartial() {
          return this.offsetSize !== this.textNode.offsetSize;
        }
        get parent() {
          return this.textNode.parent;
        }
        get root() {
          return this.textNode.root;
        }
        getPath() {
          const e = this.textNode.getPath();
          return e.length > 0 && (e[e.length - 1] += this.offsetInText), e;
        }
        getAncestors(e = {}) {
          const t = [];
          let i = e.includeSelf ? this : this.parent;
          for (; i; ) t[e.parentFirst ? 'push' : 'unshift'](i), (i = i.parent);
          return t;
        }
        hasAttribute(e) {
          return this.textNode.hasAttribute(e);
        }
        getAttribute(e) {
          return this.textNode.getAttribute(e);
        }
        getAttributes() {
          return this.textNode.getAttributes();
        }
        getAttributeKeys() {
          return this.textNode.getAttributeKeys();
        }
      }
      ca.prototype.is = function (e) {
        return (
          '$textProxy' === e ||
          'model:$textProxy' === e ||
          'textProxy' === e ||
          'model:textProxy' === e
        );
      };
      class da extends sa {
        constructor(e, t, i) {
          super(t),
            (this._children = new aa()),
            (this.name = e),
            i && this._insertChild(0, i);
        }
        get childCount() {
          return this._children.length;
        }
        get maxOffset() {
          return this._children.maxOffset;
        }
        get isEmpty() {
          return 0 === this.childCount;
        }
        getChild(e) {
          return this._children.getNode(e);
        }
        getChildren() {
          return this._children[Symbol.iterator]();
        }
        getChildIndex(e) {
          return this._children.getNodeIndex(e);
        }
        getChildStartOffset(e) {
          return this._children.getNodeStartOffset(e);
        }
        offsetToIndex(e) {
          return this._children.offsetToIndex(e);
        }
        getNodeByPath(e) {
          let t = this;
          for (const i of e) t = t.getChild(t.offsetToIndex(i));
          return t;
        }
        findAncestor(e, t = {}) {
          let i = t.includeSelf ? this : this.parent;
          for (; i; ) {
            if (i.name === e) return i;
            i = i.parent;
          }
          return null;
        }
        toJSON() {
          const e = super.toJSON();
          if (((e.name = this.name), this._children.length > 0)) {
            e.children = [];
            for (const t of this._children) e.children.push(t.toJSON());
          }
          return e;
        }
        _clone(e = !1) {
          const t = e
            ? Array.from(this._children).map((e) => e._clone(!0))
            : void 0;
          return new da(this.name, this.getAttributes(), t);
        }
        _appendChild(e) {
          this._insertChild(this.childCount, e);
        }
        _insertChild(e, t) {
          const i = (function (e) {
            return 'string' == typeof e
              ? [new la(e)]
              : (q(e) || (e = [e]),
                Array.from(e).map((e) =>
                  'string' == typeof e
                    ? new la(e)
                    : e instanceof ca
                    ? new la(e.data, e.getAttributes())
                    : e
                ));
          })(t);
          for (const e of i)
            null !== e.parent && e._remove(), (e.parent = this);
          this._children._insertNodes(e, i);
        }
        _removeChildren(e, t = 1) {
          const i = this._children._removeNodes(e, t);
          for (const e of i) e.parent = null;
          return i;
        }
        static fromJSON(e) {
          let t;
          if (e.children) {
            t = [];
            for (const i of e.children)
              i.name ? t.push(da.fromJSON(i)) : t.push(la.fromJSON(i));
          }
          return new da(e.name, e.attributes, t);
        }
      }
      da.prototype.is = function (e, t) {
        return t
          ? t === this.name && ('element' === e || 'model:element' === e)
          : 'element' === e ||
              'model:element' === e ||
              'node' === e ||
              'model:node' === e;
      };
      class ua {
        constructor(e) {
          if (!e || (!e.boundaries && !e.startPosition))
            throw new f('model-tree-walker-no-start-position', null);
          const t = e.direction || 'forward';
          if ('forward' != t && 'backward' != t)
            throw new f('model-tree-walker-unknown-direction', e, {
              direction: t,
            });
          (this.direction = t),
            (this.boundaries = e.boundaries || null),
            e.startPosition
              ? (this._position = e.startPosition.clone())
              : (this._position = ma._createAt(
                  this.boundaries[
                    'backward' == this.direction ? 'end' : 'start'
                  ]
                )),
            (this.position.stickiness = 'toNone'),
            (this.singleCharacters = !!e.singleCharacters),
            (this.shallow = !!e.shallow),
            (this.ignoreElementEnd = !!e.ignoreElementEnd),
            (this._boundaryStartParent = this.boundaries
              ? this.boundaries.start.parent
              : null),
            (this._boundaryEndParent = this.boundaries
              ? this.boundaries.end.parent
              : null),
            (this._visitedParent = this.position.parent);
        }
        [Symbol.iterator]() {
          return this;
        }
        get position() {
          return this._position;
        }
        skip(e) {
          let t, i, n, o;
          do {
            (n = this.position),
              (o = this._visitedParent),
              ({done: t, value: i} = this.next());
          } while (!t && e(i));
          t || ((this._position = n), (this._visitedParent = o));
        }
        next() {
          return 'forward' == this.direction ? this._next() : this._previous();
        }
        _next() {
          const e = this.position,
            t = this.position.clone(),
            i = this._visitedParent;
          if (null === i.parent && t.offset === i.maxOffset)
            return {done: !0, value: void 0};
          if (
            i === this._boundaryEndParent &&
            t.offset == this.boundaries.end.offset
          )
            return {done: !0, value: void 0};
          const n = ga(t, i),
            o = n || fa(t, i, n);
          if (o instanceof da)
            return (
              this.shallow
                ? t.offset++
                : (t.path.push(0), (this._visitedParent = o)),
              (this._position = t),
              ha('elementStart', o, e, t, 1)
            );
          if (o instanceof la) {
            let n;
            if (this.singleCharacters) n = 1;
            else {
              let e = o.endOffset;
              this._boundaryEndParent == i &&
                this.boundaries.end.offset < e &&
                (e = this.boundaries.end.offset),
                (n = e - t.offset);
            }
            const r = t.offset - o.startOffset,
              s = new ca(o, r, n);
            return (
              (t.offset += n), (this._position = t), ha('text', s, e, t, n)
            );
          }
          return (
            t.path.pop(),
            t.offset++,
            (this._position = t),
            (this._visitedParent = i.parent),
            this.ignoreElementEnd ? this._next() : ha('elementEnd', i, e, t)
          );
        }
        _previous() {
          const e = this.position,
            t = this.position.clone(),
            i = this._visitedParent;
          if (null === i.parent && 0 === t.offset)
            return {done: !0, value: void 0};
          if (
            i == this._boundaryStartParent &&
            t.offset == this.boundaries.start.offset
          )
            return {done: !0, value: void 0};
          const n = t.parent,
            o = ga(t, n),
            r = o || pa(t, n, o);
          if (r instanceof da)
            return (
              t.offset--,
              this.shallow
                ? ((this._position = t), ha('elementStart', r, e, t, 1))
                : (t.path.push(r.maxOffset),
                  (this._position = t),
                  (this._visitedParent = r),
                  this.ignoreElementEnd
                    ? this._previous()
                    : ha('elementEnd', r, e, t))
            );
          if (r instanceof la) {
            let n;
            if (this.singleCharacters) n = 1;
            else {
              let e = r.startOffset;
              this._boundaryStartParent == i &&
                this.boundaries.start.offset > e &&
                (e = this.boundaries.start.offset),
                (n = t.offset - e);
            }
            const o = t.offset - r.startOffset,
              s = new ca(r, o - n, n);
            return (
              (t.offset -= n), (this._position = t), ha('text', s, e, t, n)
            );
          }
          return (
            t.path.pop(),
            (this._position = t),
            (this._visitedParent = i.parent),
            ha('elementStart', i, e, t, 1)
          );
        }
      }
      function ha(e, t, i, n, o) {
        return {
          done: !1,
          value: {
            type: e,
            item: t,
            previousPosition: i,
            nextPosition: n,
            length: o,
          },
        };
      }
      class ma extends ra {
        constructor(e, t, i = 'toNone') {
          if ((super(), !e.is('element') && !e.is('documentFragment')))
            throw new f('model-position-root-invalid', e);
          if (!(t instanceof Array) || 0 === t.length)
            throw new f('model-position-path-incorrect-format', e, {path: t});
          e.is('rootElement')
            ? (t = t.slice())
            : ((t = [...e.getPath(), ...t]), (e = e.root)),
            (this.root = e),
            (this.path = t),
            (this.stickiness = i);
        }
        get offset() {
          return this.path[this.path.length - 1];
        }
        set offset(e) {
          this.path[this.path.length - 1] = e;
        }
        get parent() {
          let e = this.root;
          for (let t = 0; t < this.path.length - 1; t++)
            if (((e = e.getChild(e.offsetToIndex(this.path[t]))), !e))
              throw new f('model-position-path-incorrect', this, {
                position: this,
              });
          if (e.is('$text'))
            throw new f('model-position-path-incorrect', this, {
              position: this,
            });
          return e;
        }
        get index() {
          return this.parent.offsetToIndex(this.offset);
        }
        get textNode() {
          return ga(this, this.parent);
        }
        get nodeAfter() {
          const e = this.parent;
          return fa(this, e, ga(this, e));
        }
        get nodeBefore() {
          const e = this.parent;
          return pa(this, e, ga(this, e));
        }
        get isAtStart() {
          return 0 === this.offset;
        }
        get isAtEnd() {
          return this.offset == this.parent.maxOffset;
        }
        compareWith(e) {
          if (this.root != e.root) return 'different';
          const t = W(this.path, e.path);
          switch (t) {
            case 'same':
              return 'same';
            case 'prefix':
              return 'before';
            case 'extension':
              return 'after';
            default:
              return this.path[t] < e.path[t] ? 'before' : 'after';
          }
        }
        getLastMatchingPosition(e, t = {}) {
          t.startPosition = this;
          const i = new ua(t);
          return i.skip(e), i.position;
        }
        getParentPath() {
          return this.path.slice(0, -1);
        }
        getAncestors() {
          const e = this.parent;
          return e.is('documentFragment')
            ? [e]
            : e.getAncestors({includeSelf: !0});
        }
        findAncestor(e) {
          const t = this.parent;
          return t.is('element') ? t.findAncestor(e, {includeSelf: !0}) : null;
        }
        getCommonPath(e) {
          if (this.root != e.root) return [];
          const t = W(this.path, e.path),
            i =
              'string' == typeof t
                ? Math.min(this.path.length, e.path.length)
                : t;
          return this.path.slice(0, i);
        }
        getCommonAncestor(e) {
          const t = this.getAncestors(),
            i = e.getAncestors();
          let n = 0;
          for (; t[n] == i[n] && t[n]; ) n++;
          return 0 === n ? null : t[n - 1];
        }
        getShiftedBy(e) {
          const t = this.clone(),
            i = t.offset + e;
          return (t.offset = i < 0 ? 0 : i), t;
        }
        isAfter(e) {
          return 'after' == this.compareWith(e);
        }
        isBefore(e) {
          return 'before' == this.compareWith(e);
        }
        isEqual(e) {
          return 'same' == this.compareWith(e);
        }
        isTouching(e) {
          if (this.root !== e.root) return !1;
          const t = Math.min(this.path.length, e.path.length);
          for (let i = 0; i < t; i++) {
            const t = this.path[i] - e.path[i];
            if (t < -1 || t > 1) return !1;
            if (1 === t) return ba(e, this, i);
            if (-1 === t) return ba(this, e, i);
          }
          return (
            this.path.length === e.path.length ||
            (this.path.length > e.path.length
              ? ka(this.path, t)
              : ka(e.path, t))
          );
        }
        hasSameParentAs(e) {
          return (
            this.root === e.root &&
            'same' == W(this.getParentPath(), e.getParentPath())
          );
        }
        getTransformedByOperation(e) {
          let t;
          switch (e.type) {
            case 'insert':
              t = this._getTransformedByInsertOperation(e);
              break;
            case 'move':
            case 'remove':
            case 'reinsert':
              t = this._getTransformedByMoveOperation(e);
              break;
            case 'split':
              t = this._getTransformedBySplitOperation(e);
              break;
            case 'merge':
              t = this._getTransformedByMergeOperation(e);
              break;
            default:
              t = ma._createAt(this);
          }
          return t;
        }
        _getTransformedByInsertOperation(e) {
          return this._getTransformedByInsertion(e.position, e.howMany);
        }
        _getTransformedByMoveOperation(e) {
          return this._getTransformedByMove(
            e.sourcePosition,
            e.targetPosition,
            e.howMany
          );
        }
        _getTransformedBySplitOperation(e) {
          const t = e.movedRange;
          return t.containsPosition(this) ||
            (t.start.isEqual(this) && 'toNext' == this.stickiness)
            ? this._getCombined(e.splitPosition, e.moveTargetPosition)
            : e.graveyardPosition
            ? this._getTransformedByMove(
                e.graveyardPosition,
                e.insertionPosition,
                1
              )
            : this._getTransformedByInsertion(e.insertionPosition, 1);
        }
        _getTransformedByMergeOperation(e) {
          const t = e.movedRange;
          let i;
          return (
            t.containsPosition(this) || t.start.isEqual(this)
              ? ((i = this._getCombined(e.sourcePosition, e.targetPosition)),
                e.sourcePosition.isBefore(e.targetPosition) &&
                  (i = i._getTransformedByDeletion(e.deletionPosition, 1)))
              : (i = this.isEqual(e.deletionPosition)
                  ? ma._createAt(e.deletionPosition)
                  : this._getTransformedByMove(
                      e.deletionPosition,
                      e.graveyardPosition,
                      1
                    )),
            i
          );
        }
        _getTransformedByDeletion(e, t) {
          const i = ma._createAt(this);
          if (this.root != e.root) return i;
          if ('same' == W(e.getParentPath(), this.getParentPath())) {
            if (e.offset < this.offset) {
              if (e.offset + t > this.offset) return null;
              i.offset -= t;
            }
          } else if ('prefix' == W(e.getParentPath(), this.getParentPath())) {
            const n = e.path.length - 1;
            if (e.offset <= this.path[n]) {
              if (e.offset + t > this.path[n]) return null;
              i.path[n] -= t;
            }
          }
          return i;
        }
        _getTransformedByInsertion(e, t) {
          const i = ma._createAt(this);
          if (this.root != e.root) return i;
          if ('same' == W(e.getParentPath(), this.getParentPath()))
            (e.offset < this.offset ||
              (e.offset == this.offset && 'toPrevious' != this.stickiness)) &&
              (i.offset += t);
          else if ('prefix' == W(e.getParentPath(), this.getParentPath())) {
            const n = e.path.length - 1;
            e.offset <= this.path[n] && (i.path[n] += t);
          }
          return i;
        }
        _getTransformedByMove(e, t, i) {
          if (((t = t._getTransformedByDeletion(e, i)), e.isEqual(t)))
            return ma._createAt(this);
          const n = this._getTransformedByDeletion(e, i);
          return null === n ||
            (e.isEqual(this) && 'toNext' == this.stickiness) ||
            (e.getShiftedBy(i).isEqual(this) && 'toPrevious' == this.stickiness)
            ? this._getCombined(e, t)
            : n._getTransformedByInsertion(t, i);
        }
        _getCombined(e, t) {
          const i = e.path.length - 1,
            n = ma._createAt(t);
          return (
            (n.stickiness = this.stickiness),
            (n.offset = n.offset + this.path[i] - e.offset),
            (n.path = [...n.path, ...this.path.slice(i + 1)]),
            n
          );
        }
        toJSON() {
          return {
            root: this.root.toJSON(),
            path: Array.from(this.path),
            stickiness: this.stickiness,
          };
        }
        clone() {
          return new this.constructor(this.root, this.path, this.stickiness);
        }
        static _createAt(e, t, i = 'toNone') {
          if (e instanceof ma) return new ma(e.root, e.path, e.stickiness);
          {
            const n = e;
            if ('end' == t) t = n.maxOffset;
            else {
              if ('before' == t) return this._createBefore(n, i);
              if ('after' == t) return this._createAfter(n, i);
              if (0 !== t && !t)
                throw new f('model-createpositionat-offset-required', [
                  this,
                  e,
                ]);
            }
            if (!n.is('element') && !n.is('documentFragment'))
              throw new f('model-position-parent-incorrect', [this, e]);
            const o = n.getPath();
            return o.push(t), new this(n.root, o, i);
          }
        }
        static _createAfter(e, t) {
          if (!e.parent)
            throw new f('model-position-after-root', [this, e], {root: e});
          return this._createAt(e.parent, e.endOffset, t);
        }
        static _createBefore(e, t) {
          if (!e.parent)
            throw new f('model-position-before-root', e, {root: e});
          return this._createAt(e.parent, e.startOffset, t);
        }
        static fromJSON(e, t) {
          if ('$graveyard' === e.root) {
            const i = new ma(t.graveyard, e.path);
            return (i.stickiness = e.stickiness), i;
          }
          if (!t.getRoot(e.root))
            throw new f('model-position-fromjson-no-root', t, {
              rootName: e.root,
            });
          return new ma(t.getRoot(e.root), e.path, e.stickiness);
        }
      }
      function ga(e, t) {
        const i = t.getChild(t.offsetToIndex(e.offset));
        return i && i.is('$text') && i.startOffset < e.offset ? i : null;
      }
      function fa(e, t, i) {
        return null !== i ? null : t.getChild(t.offsetToIndex(e.offset));
      }
      function pa(e, t, i) {
        return null !== i ? null : t.getChild(t.offsetToIndex(e.offset) - 1);
      }
      function ba(e, t, i) {
        return (
          i + 1 !== e.path.length &&
          !!ka(t.path, i + 1) &&
          !!(function (e, t) {
            let i = e.parent,
              n = e.path.length - 1,
              o = 0;
            for (; n >= t; ) {
              if (e.path[n] + o !== i.maxOffset) return !1;
              (o = 1), n--, (i = i.parent);
            }
            return !0;
          })(e, i + 1)
        );
      }
      function ka(e, t) {
        for (; t < e.length; ) {
          if (0 !== e[t]) return !1;
          t++;
        }
        return !0;
      }
      ma.prototype.is = function (e) {
        return 'position' === e || 'model:position' === e;
      };
      class wa extends ra {
        constructor(e, t) {
          super(),
            (this.start = ma._createAt(e)),
            (this.end = t ? ma._createAt(t) : ma._createAt(e)),
            (this.start.stickiness = this.isCollapsed ? 'toNone' : 'toNext'),
            (this.end.stickiness = this.isCollapsed ? 'toNone' : 'toPrevious');
        }
        *[Symbol.iterator]() {
          yield* new ua({boundaries: this, ignoreElementEnd: !0});
        }
        get isCollapsed() {
          return this.start.isEqual(this.end);
        }
        get isFlat() {
          return (
            'same' == W(this.start.getParentPath(), this.end.getParentPath())
          );
        }
        get root() {
          return this.start.root;
        }
        containsPosition(e) {
          return e.isAfter(this.start) && e.isBefore(this.end);
        }
        containsRange(e, t = !1) {
          e.isCollapsed && (t = !1);
          const i =
              this.containsPosition(e.start) ||
              (t && this.start.isEqual(e.start)),
            n = this.containsPosition(e.end) || (t && this.end.isEqual(e.end));
          return i && n;
        }
        containsItem(e) {
          const t = ma._createBefore(e);
          return this.containsPosition(t) || this.start.isEqual(t);
        }
        isEqual(e) {
          return this.start.isEqual(e.start) && this.end.isEqual(e.end);
        }
        isIntersecting(e) {
          return this.start.isBefore(e.end) && this.end.isAfter(e.start);
        }
        getDifference(e) {
          const t = [];
          return (
            this.isIntersecting(e)
              ? (this.containsPosition(e.start) &&
                  t.push(new wa(this.start, e.start)),
                this.containsPosition(e.end) && t.push(new wa(e.end, this.end)))
              : t.push(new wa(this.start, this.end)),
            t
          );
        }
        getIntersection(e) {
          if (this.isIntersecting(e)) {
            let t = this.start,
              i = this.end;
            return (
              this.containsPosition(e.start) && (t = e.start),
              this.containsPosition(e.end) && (i = e.end),
              new wa(t, i)
            );
          }
          return null;
        }
        getJoined(e, t = !1) {
          let i = this.isIntersecting(e);
          if (
            (i ||
              (i = this.start.isBefore(e.start)
                ? t
                  ? this.end.isTouching(e.start)
                  : this.end.isEqual(e.start)
                : t
                ? e.end.isTouching(this.start)
                : e.end.isEqual(this.start)),
            !i)
          )
            return null;
          let n = this.start,
            o = this.end;
          return (
            e.start.isBefore(n) && (n = e.start),
            e.end.isAfter(o) && (o = e.end),
            new wa(n, o)
          );
        }
        getMinimalFlatRanges() {
          const e = [],
            t = this.start.getCommonPath(this.end).length,
            i = ma._createAt(this.start);
          let n = i.parent;
          for (; i.path.length > t + 1; ) {
            const t = n.maxOffset - i.offset;
            0 !== t && e.push(new wa(i, i.getShiftedBy(t))),
              (i.path = i.path.slice(0, -1)),
              i.offset++,
              (n = n.parent);
          }
          for (; i.path.length <= this.end.path.length; ) {
            const t = this.end.path[i.path.length - 1],
              n = t - i.offset;
            0 !== n && e.push(new wa(i, i.getShiftedBy(n))),
              (i.offset = t),
              i.path.push(0);
          }
          return e;
        }
        getWalker(e = {}) {
          return (e.boundaries = this), new ua(e);
        }
        *getItems(e = {}) {
          (e.boundaries = this), (e.ignoreElementEnd = !0);
          const t = new ua(e);
          for (const e of t) yield e.item;
        }
        *getPositions(e = {}) {
          e.boundaries = this;
          const t = new ua(e);
          yield t.position;
          for (const e of t) yield e.nextPosition;
        }
        getTransformedByOperation(e) {
          switch (e.type) {
            case 'insert':
              return this._getTransformedByInsertOperation(e);
            case 'move':
            case 'remove':
            case 'reinsert':
              return this._getTransformedByMoveOperation(e);
            case 'split':
              return [this._getTransformedBySplitOperation(e)];
            case 'merge':
              return [this._getTransformedByMergeOperation(e)];
          }
          return [new wa(this.start, this.end)];
        }
        getTransformedByOperations(e) {
          const t = [new wa(this.start, this.end)];
          for (const i of e)
            for (let e = 0; e < t.length; e++) {
              const n = t[e].getTransformedByOperation(i);
              t.splice(e, 1, ...n), (e += n.length - 1);
            }
          for (let e = 0; e < t.length; e++) {
            const i = t[e];
            for (let n = e + 1; n < t.length; n++) {
              const e = t[n];
              (i.containsRange(e) || e.containsRange(i) || i.isEqual(e)) &&
                t.splice(n, 1);
            }
          }
          return t;
        }
        getCommonAncestor() {
          return this.start.getCommonAncestor(this.end);
        }
        getContainedElement() {
          if (this.isCollapsed) return null;
          const e = this.start.nodeAfter,
            t = this.end.nodeBefore;
          return e && e.is('element') && e === t ? e : null;
        }
        toJSON() {
          return {start: this.start.toJSON(), end: this.end.toJSON()};
        }
        clone() {
          return new this.constructor(this.start, this.end);
        }
        _getTransformedByInsertOperation(e, t = !1) {
          return this._getTransformedByInsertion(e.position, e.howMany, t);
        }
        _getTransformedByMoveOperation(e, t = !1) {
          const i = e.sourcePosition,
            n = e.howMany,
            o = e.targetPosition;
          return this._getTransformedByMove(i, o, n, t);
        }
        _getTransformedBySplitOperation(e) {
          const t = this.start._getTransformedBySplitOperation(e);
          let i = this.end._getTransformedBySplitOperation(e);
          return (
            this.end.isEqual(e.insertionPosition) &&
              (i = this.end.getShiftedBy(1)),
            t.root != i.root && (i = this.end.getShiftedBy(-1)),
            new wa(t, i)
          );
        }
        _getTransformedByMergeOperation(e) {
          if (
            this.start.isEqual(e.targetPosition) &&
            this.end.isEqual(e.deletionPosition)
          )
            return new wa(this.start);
          let t = this.start._getTransformedByMergeOperation(e),
            i = this.end._getTransformedByMergeOperation(e);
          return (
            t.root != i.root && (i = this.end.getShiftedBy(-1)),
            t.isAfter(i)
              ? (e.sourcePosition.isBefore(e.targetPosition)
                  ? ((t = ma._createAt(i)), (t.offset = 0))
                  : (e.deletionPosition.isEqual(t) || (i = e.deletionPosition),
                    (t = e.targetPosition)),
                new wa(t, i))
              : new wa(t, i)
          );
        }
        _getTransformedByInsertion(e, t, i = !1) {
          if (i && this.containsPosition(e))
            return [
              new wa(this.start, e),
              new wa(
                e.getShiftedBy(t),
                this.end._getTransformedByInsertion(e, t)
              ),
            ];
          {
            const i = new wa(this.start, this.end);
            return (
              (i.start = i.start._getTransformedByInsertion(e, t)),
              (i.end = i.end._getTransformedByInsertion(e, t)),
              [i]
            );
          }
        }
        _getTransformedByMove(e, t, i, n = !1) {
          if (this.isCollapsed) {
            const n = this.start._getTransformedByMove(e, t, i);
            return [new wa(n)];
          }
          const o = wa._createFromPositionAndShift(e, i),
            r = t._getTransformedByDeletion(e, i);
          if (
            this.containsPosition(t) &&
            !n &&
            (o.containsPosition(this.start) || o.containsPosition(this.end))
          ) {
            const n = this.start._getTransformedByMove(e, t, i),
              o = this.end._getTransformedByMove(e, t, i);
            return [new wa(n, o)];
          }
          let s;
          const a = this.getDifference(o);
          let l = null;
          const c = this.getIntersection(o);
          if (
            (1 == a.length
              ? (l = new wa(
                  a[0].start._getTransformedByDeletion(e, i),
                  a[0].end._getTransformedByDeletion(e, i)
                ))
              : 2 == a.length &&
                (l = new wa(
                  this.start,
                  this.end._getTransformedByDeletion(e, i)
                )),
            (s = l ? l._getTransformedByInsertion(r, i, null !== c || n) : []),
            c)
          ) {
            const e = new wa(
              c.start._getCombined(o.start, r),
              c.end._getCombined(o.start, r)
            );
            2 == s.length ? s.splice(1, 0, e) : s.push(e);
          }
          return s;
        }
        _getTransformedByDeletion(e, t) {
          let i = this.start._getTransformedByDeletion(e, t),
            n = this.end._getTransformedByDeletion(e, t);
          return null == i && null == n
            ? null
            : (null == i && (i = e), null == n && (n = e), new wa(i, n));
        }
        static _createFromPositionAndShift(e, t) {
          const i = e,
            n = e.getShiftedBy(t);
          return t > 0 ? new this(i, n) : new this(n, i);
        }
        static _createIn(e) {
          return new this(ma._createAt(e, 0), ma._createAt(e, e.maxOffset));
        }
        static _createOn(e) {
          return this._createFromPositionAndShift(
            ma._createBefore(e),
            e.offsetSize
          );
        }
        static _createFromRanges(e) {
          if (0 === e.length)
            throw new f('range-create-from-ranges-empty-array', null);
          if (1 == e.length) return e[0].clone();
          const t = e[0];
          e.sort((e, t) => (e.start.isAfter(t.start) ? 1 : -1));
          const i = e.indexOf(t),
            n = new this(t.start, t.end);
          if (i > 0)
            for (let t = i - 1; e[t].end.isEqual(n.start); t++)
              n.start = ma._createAt(e[t].start);
          for (let t = i + 1; t < e.length && e[t].start.isEqual(n.end); t++)
            n.end = ma._createAt(e[t].end);
          return n;
        }
        static fromJSON(e, t) {
          return new this(ma.fromJSON(e.start, t), ma.fromJSON(e.end, t));
        }
      }
      wa.prototype.is = function (e) {
        return 'range' === e || 'model:range' === e;
      };
      class _a extends x() {
        constructor() {
          super(),
            (this._modelToViewMapping = new WeakMap()),
            (this._viewToModelMapping = new WeakMap()),
            (this._viewToModelLengthCallbacks = new Map()),
            (this._markerNameToElements = new Map()),
            (this._elementToMarkerNames = new Map()),
            (this._deferredBindingRemovals = new Map()),
            (this._unboundMarkerNames = new Set()),
            this.on(
              'modelToViewPosition',
              (e, t) => {
                if (t.viewPosition) return;
                const i = this._modelToViewMapping.get(t.modelPosition.parent);
                if (!i)
                  throw new f(
                    'mapping-model-position-view-parent-not-found',
                    this,
                    {modelPosition: t.modelPosition}
                  );
                t.viewPosition = this.findPositionIn(i, t.modelPosition.offset);
              },
              {priority: 'low'}
            ),
            this.on(
              'viewToModelPosition',
              (e, t) => {
                if (t.modelPosition) return;
                const i = this.findMappedViewAncestor(t.viewPosition),
                  n = this._viewToModelMapping.get(i),
                  o = this._toModelOffset(
                    t.viewPosition.parent,
                    t.viewPosition.offset,
                    i
                  );
                t.modelPosition = ma._createAt(n, o);
              },
              {priority: 'low'}
            );
        }
        bindElements(e, t) {
          this._modelToViewMapping.set(e, t),
            this._viewToModelMapping.set(t, e);
        }
        unbindViewElement(e, t = {}) {
          const i = this.toModelElement(e);
          if (this._elementToMarkerNames.has(e))
            for (const t of this._elementToMarkerNames.get(e))
              this._unboundMarkerNames.add(t);
          t.defer
            ? this._deferredBindingRemovals.set(e, e.root)
            : (this._viewToModelMapping.delete(e),
              this._modelToViewMapping.get(i) == e &&
                this._modelToViewMapping.delete(i));
        }
        unbindModelElement(e) {
          const t = this.toViewElement(e);
          this._modelToViewMapping.delete(e),
            this._viewToModelMapping.get(t) == e &&
              this._viewToModelMapping.delete(t);
        }
        bindElementToMarker(e, t) {
          const i = this._markerNameToElements.get(t) || new Set();
          i.add(e);
          const n = this._elementToMarkerNames.get(e) || new Set();
          n.add(t),
            this._markerNameToElements.set(t, i),
            this._elementToMarkerNames.set(e, n);
        }
        unbindElementFromMarkerName(e, t) {
          const i = this._markerNameToElements.get(t);
          i &&
            (i.delete(e), 0 == i.size && this._markerNameToElements.delete(t));
          const n = this._elementToMarkerNames.get(e);
          n &&
            (n.delete(t), 0 == n.size && this._elementToMarkerNames.delete(e));
        }
        flushUnboundMarkerNames() {
          const e = Array.from(this._unboundMarkerNames);
          return this._unboundMarkerNames.clear(), e;
        }
        flushDeferredBindings() {
          for (const [e, t] of this._deferredBindingRemovals)
            e.root == t && this.unbindViewElement(e);
          this._deferredBindingRemovals = new Map();
        }
        clearBindings() {
          (this._modelToViewMapping = new WeakMap()),
            (this._viewToModelMapping = new WeakMap()),
            (this._markerNameToElements = new Map()),
            (this._elementToMarkerNames = new Map()),
            (this._unboundMarkerNames = new Set()),
            (this._deferredBindingRemovals = new Map());
        }
        toModelElement(e) {
          return this._viewToModelMapping.get(e);
        }
        toViewElement(e) {
          return this._modelToViewMapping.get(e);
        }
        toModelRange(e) {
          return new wa(
            this.toModelPosition(e.start),
            this.toModelPosition(e.end)
          );
        }
        toViewRange(e) {
          return new cr(
            this.toViewPosition(e.start),
            this.toViewPosition(e.end)
          );
        }
        toModelPosition(e) {
          const t = {viewPosition: e, mapper: this};
          return this.fire('viewToModelPosition', t), t.modelPosition;
        }
        toViewPosition(e, t = {}) {
          const i = {modelPosition: e, mapper: this, isPhantom: t.isPhantom};
          return this.fire('modelToViewPosition', i), i.viewPosition;
        }
        markerNameToElements(e) {
          const t = this._markerNameToElements.get(e);
          if (!t) return null;
          const i = new Set();
          for (const e of t)
            if (e.is('attributeElement'))
              for (const t of e.getElementsWithSameId()) i.add(t);
            else i.add(e);
          return i;
        }
        registerViewToModelLength(e, t) {
          this._viewToModelLengthCallbacks.set(e, t);
        }
        findMappedViewAncestor(e) {
          let t = e.parent;
          for (; !this._viewToModelMapping.has(t); ) t = t.parent;
          return t;
        }
        _toModelOffset(e, t, i) {
          if (i != e)
            return (
              this._toModelOffset(e.parent, e.index, i) +
              this._toModelOffset(e, t, e)
            );
          if (e.is('$text')) return t;
          let n = 0;
          for (let i = 0; i < t; i++) n += this.getModelLength(e.getChild(i));
          return n;
        }
        getModelLength(e) {
          if (this._viewToModelLengthCallbacks.get(e.name))
            return this._viewToModelLengthCallbacks.get(e.name)(e);
          if (this._viewToModelMapping.has(e)) return 1;
          if (e.is('$text')) return e.data.length;
          if (e.is('uiElement')) return 0;
          {
            let t = 0;
            for (const i of e.getChildren()) t += this.getModelLength(i);
            return t;
          }
        }
        findPositionIn(e, t) {
          let i,
            n = 0,
            o = 0,
            r = 0;
          if (e.is('$text')) return new lr(e, t);
          for (; o < t; )
            (i = e.getChild(r)), (n = this.getModelLength(i)), (o += n), r++;
          return o == t
            ? this._moveViewPositionToTextNode(new lr(e, r))
            : this.findPositionIn(i, t - (o - n));
        }
        _moveViewPositionToTextNode(e) {
          const t = e.nodeBefore,
            i = e.nodeAfter;
          return t instanceof uo
            ? new lr(t, t.data.length)
            : i instanceof uo
            ? new lr(i, 0)
            : e;
        }
      }
      class va {
        constructor() {
          (this._consumable = new Map()), (this._textProxyRegistry = new Map());
        }
        add(e, t) {
          (t = ya(t)),
            e instanceof ca && (e = this._getSymbolForTextProxy(e)),
            this._consumable.has(e) || this._consumable.set(e, new Map()),
            this._consumable.get(e).set(t, !0);
        }
        consume(e, t) {
          return (
            (t = ya(t)),
            e instanceof ca && (e = this._getSymbolForTextProxy(e)),
            !!this.test(e, t) && (this._consumable.get(e).set(t, !1), !0)
          );
        }
        test(e, t) {
          (t = ya(t)), e instanceof ca && (e = this._getSymbolForTextProxy(e));
          const i = this._consumable.get(e);
          if (void 0 === i) return null;
          const n = i.get(t);
          return void 0 === n ? null : n;
        }
        revert(e, t) {
          (t = ya(t)), e instanceof ca && (e = this._getSymbolForTextProxy(e));
          const i = this.test(e, t);
          return !1 === i
            ? (this._consumable.get(e).set(t, !0), !0)
            : !0 !== i && null;
        }
        verifyAllConsumed(e) {
          const t = [];
          for (const [i, n] of this._consumable)
            for (const [o, r] of n) {
              const n = o.split(':')[0];
              r && e == n && t.push({event: o, item: i.name || i.description});
            }
          if (t.length)
            throw new f('conversion-model-consumable-not-consumed', null, {
              items: t,
            });
        }
        _getSymbolForTextProxy(e) {
          let t = null;
          const i = this._textProxyRegistry.get(e.startOffset);
          if (i) {
            const n = i.get(e.endOffset);
            n && (t = n.get(e.parent));
          }
          return t || (t = this._addSymbolForTextProxy(e)), t;
        }
        _addSymbolForTextProxy(e) {
          const t = e.startOffset,
            i = e.endOffset,
            n = e.parent,
            o = Symbol('$textProxy:' + e.data);
          let r, s;
          return (
            (r = this._textProxyRegistry.get(t)),
            r || ((r = new Map()), this._textProxyRegistry.set(t, r)),
            (s = r.get(i)),
            s || ((s = new Map()), r.set(i, s)),
            s.set(n, o),
            o
          );
        }
      }
      function ya(e) {
        const t = e.split(':');
        return 'insert' == t[0]
          ? t[0]
          : 'addMarker' == t[0] || 'removeMarker' == t[0]
          ? e
          : t.length > 1
          ? t[0] + ':' + t[1]
          : t[0];
      }
      class xa extends x() {
        constructor(e) {
          super(),
            (this._conversionApi = {dispatcher: this, ...e}),
            (this._firedEventsMap = new WeakMap());
        }
        convertChanges(e, t, i) {
          const n = this._createConversionApi(i, e.getRefreshedItems());
          for (const t of e.getMarkersToRemove())
            this._convertMarkerRemove(t.name, t.range, n);
          const o = this._reduceChanges(e.getChanges());
          for (const e of o)
            'insert' === e.type
              ? this._convertInsert(
                  wa._createFromPositionAndShift(e.position, e.length),
                  n
                )
              : 'reinsert' === e.type
              ? this._convertReinsert(
                  wa._createFromPositionAndShift(e.position, e.length),
                  n
                )
              : 'remove' === e.type
              ? this._convertRemove(e.position, e.length, e.name, n)
              : this._convertAttribute(
                  e.range,
                  e.attributeKey,
                  e.attributeOldValue,
                  e.attributeNewValue,
                  n
                );
          for (const e of n.mapper.flushUnboundMarkerNames()) {
            const i = t.get(e).getRange();
            this._convertMarkerRemove(e, i, n), this._convertMarkerAdd(e, i, n);
          }
          for (const t of e.getMarkersToAdd())
            this._convertMarkerAdd(t.name, t.range, n);
          n.mapper.flushDeferredBindings(),
            n.consumable.verifyAllConsumed('insert');
        }
        convert(e, t, i, n = {}) {
          const o = this._createConversionApi(i, void 0, n);
          this._convertInsert(e, o);
          for (const [e, i] of t) this._convertMarkerAdd(e, i, o);
          o.consumable.verifyAllConsumed('insert');
        }
        convertSelection(e, t, i) {
          const n = Array.from(t.getMarkersAtPosition(e.getFirstPosition())),
            o = this._createConversionApi(i);
          if (
            (this._addConsumablesForSelection(o.consumable, e, n),
            this.fire('selection', {selection: e}, o),
            e.isCollapsed)
          ) {
            for (const t of n) {
              const i = t.getRange();
              if (!Aa(e.getFirstPosition(), t, o.mapper)) continue;
              const n = {item: e, markerName: t.name, markerRange: i};
              o.consumable.test(e, 'addMarker:' + t.name) &&
                this.fire(`addMarker:${t.name}`, n, o);
            }
            for (const t of e.getAttributeKeys()) {
              const i = {
                item: e,
                range: e.getFirstRange(),
                attributeKey: t,
                attributeOldValue: null,
                attributeNewValue: e.getAttribute(t),
              };
              o.consumable.test(e, 'attribute:' + i.attributeKey) &&
                this.fire(`attribute:${i.attributeKey}:$text`, i, o);
            }
          }
        }
        _convertInsert(e, t, i = {}) {
          i.doNotAddConsumables ||
            this._addConsumablesForInsert(t.consumable, Array.from(e));
          for (const i of Array.from(e.getWalker({shallow: !0})).map(Ca))
            this._testAndFire('insert', i, t);
        }
        _convertRemove(e, t, i, n) {
          this.fire(`remove:${i}`, {position: e, length: t}, n);
        }
        _convertAttribute(e, t, i, n, o) {
          this._addConsumablesForRange(o.consumable, e, `attribute:${t}`);
          for (const r of e) {
            const e = {
              item: r.item,
              range: wa._createFromPositionAndShift(
                r.previousPosition,
                r.length
              ),
              attributeKey: t,
              attributeOldValue: i,
              attributeNewValue: n,
            };
            this._testAndFire(`attribute:${t}`, e, o);
          }
        }
        _convertReinsert(e, t) {
          const i = Array.from(e.getWalker({shallow: !0}));
          this._addConsumablesForInsert(t.consumable, i);
          for (const e of i.map(Ca))
            this._testAndFire('insert', {...e, reconversion: !0}, t);
        }
        _convertMarkerAdd(e, t, i) {
          if ('$graveyard' == t.root.rootName) return;
          const n = `addMarker:${e}`;
          if (
            (i.consumable.add(t, n),
            this.fire(n, {markerName: e, markerRange: t}, i),
            i.consumable.consume(t, n))
          ) {
            this._addConsumablesForRange(i.consumable, t, n);
            for (const o of t.getItems()) {
              if (!i.consumable.test(o, n)) continue;
              const r = {
                item: o,
                range: wa._createOn(o),
                markerName: e,
                markerRange: t,
              };
              this.fire(n, r, i);
            }
          }
        }
        _convertMarkerRemove(e, t, i) {
          '$graveyard' != t.root.rootName &&
            this.fire(`removeMarker:${e}`, {markerName: e, markerRange: t}, i);
        }
        _reduceChanges(e) {
          const t = {changes: e};
          return this.fire('reduceChanges', t), t.changes;
        }
        _addConsumablesForInsert(e, t) {
          for (const i of t) {
            const t = i.item;
            if (null === e.test(t, 'insert')) {
              e.add(t, 'insert');
              for (const i of t.getAttributeKeys()) e.add(t, 'attribute:' + i);
            }
          }
          return e;
        }
        _addConsumablesForRange(e, t, i) {
          for (const n of t.getItems()) e.add(n, i);
          return e;
        }
        _addConsumablesForSelection(e, t, i) {
          e.add(t, 'selection');
          for (const n of i) e.add(t, 'addMarker:' + n.name);
          for (const i of t.getAttributeKeys()) e.add(t, 'attribute:' + i);
          return e;
        }
        _testAndFire(e, t, i) {
          const n = (function (e, t) {
              return `${e}:${t.item.is('element') ? t.item.name : '$text'}`;
            })(e, t),
            o = t.item.is('$textProxy')
              ? i.consumable._getSymbolForTextProxy(t.item)
              : t.item,
            r = this._firedEventsMap.get(i),
            s = r.get(o);
          if (s) {
            if (s.has(n)) return;
            s.add(n);
          } else r.set(o, new Set([n]));
          this.fire(n, t, i);
        }
        _testAndFireAddAttributes(e, t) {
          const i = {item: e, range: wa._createOn(e)};
          for (const e of i.item.getAttributeKeys())
            (i.attributeKey = e),
              (i.attributeOldValue = null),
              (i.attributeNewValue = i.item.getAttribute(e)),
              this._testAndFire(`attribute:${e}`, i, t);
        }
        _createConversionApi(e, t = new Set(), i = {}) {
          const n = {
            ...this._conversionApi,
            consumable: new va(),
            writer: e,
            options: i,
            convertItem: (e) => this._convertInsert(wa._createOn(e), n),
            convertChildren: (e) =>
              this._convertInsert(wa._createIn(e), n, {
                doNotAddConsumables: !0,
              }),
            convertAttributes: (e) => this._testAndFireAddAttributes(e, n),
            canReuseView: (e) => !t.has(n.mapper.toModelElement(e)),
          };
          return this._firedEventsMap.set(n, new Map()), n;
        }
      }
      function Aa(e, t, i) {
        const n = t.getRange(),
          o = Array.from(e.getAncestors());
        return (
          o.shift(),
          o.reverse(),
          !o.some((e) => {
            if (n.containsItem(e))
              return !!i.toViewElement(e).getCustomProperty('addHighlight');
          })
        );
      }
      function Ca(e) {
        return {
          item: e.item,
          range: wa._createFromPositionAndShift(e.previousPosition, e.length),
        };
      }
      class Ea extends x(ra) {
        constructor(...e) {
          super(),
            (this._lastRangeBackward = !1),
            (this._attrs = new Map()),
            (this._ranges = []),
            e.length && this.setTo(...e);
        }
        get anchor() {
          if (this._ranges.length > 0) {
            const e = this._ranges[this._ranges.length - 1];
            return this._lastRangeBackward ? e.end : e.start;
          }
          return null;
        }
        get focus() {
          if (this._ranges.length > 0) {
            const e = this._ranges[this._ranges.length - 1];
            return this._lastRangeBackward ? e.start : e.end;
          }
          return null;
        }
        get isCollapsed() {
          return 1 === this._ranges.length && this._ranges[0].isCollapsed;
        }
        get rangeCount() {
          return this._ranges.length;
        }
        get isBackward() {
          return !this.isCollapsed && this._lastRangeBackward;
        }
        isEqual(e) {
          if (this.rangeCount != e.rangeCount) return !1;
          if (0 === this.rangeCount) return !0;
          if (!this.anchor.isEqual(e.anchor) || !this.focus.isEqual(e.focus))
            return !1;
          for (const t of this._ranges) {
            let i = !1;
            for (const n of e._ranges)
              if (t.isEqual(n)) {
                i = !0;
                break;
              }
            if (!i) return !1;
          }
          return !0;
        }
        *getRanges() {
          for (const e of this._ranges) yield new wa(e.start, e.end);
        }
        getFirstRange() {
          let e = null;
          for (const t of this._ranges)
            (e && !t.start.isBefore(e.start)) || (e = t);
          return e ? new wa(e.start, e.end) : null;
        }
        getLastRange() {
          let e = null;
          for (const t of this._ranges) (e && !t.end.isAfter(e.end)) || (e = t);
          return e ? new wa(e.start, e.end) : null;
        }
        getFirstPosition() {
          const e = this.getFirstRange();
          return e ? e.start.clone() : null;
        }
        getLastPosition() {
          const e = this.getLastRange();
          return e ? e.end.clone() : null;
        }
        setTo(...e) {
          let [t, i, n] = e;
          if (('object' == typeof i && ((n = i), (i = void 0)), null === t))
            this._setRanges([]);
          else if (t instanceof Ea)
            this._setRanges(t.getRanges(), t.isBackward);
          else if (t && 'function' == typeof t.getRanges)
            this._setRanges(t.getRanges(), t.isBackward);
          else if (t instanceof wa) this._setRanges([t], !!n && !!n.backward);
          else if (t instanceof ma) this._setRanges([new wa(t)]);
          else if (t instanceof sa) {
            const e = !!n && !!n.backward;
            let o;
            if ('in' == i) o = wa._createIn(t);
            else if ('on' == i) o = wa._createOn(t);
            else {
              if (void 0 === i)
                throw new f('model-selection-setto-required-second-parameter', [
                  this,
                  t,
                ]);
              o = new wa(ma._createAt(t, i));
            }
            this._setRanges([o], e);
          } else {
            if (!q(t))
              throw new f('model-selection-setto-not-selectable', [this, t]);
            this._setRanges(t, n && !!n.backward);
          }
        }
        _setRanges(e, t = !1) {
          const i = Array.from(e),
            n = i.some((t) => {
              if (!(t instanceof wa))
                throw new f('model-selection-set-ranges-not-range', [this, e]);
              return this._ranges.every((e) => !e.isEqual(t));
            });
          (i.length !== this._ranges.length || n) &&
            (this._replaceAllRanges(i),
            (this._lastRangeBackward = !!t),
            this.fire('change:range', {directChange: !0}));
        }
        setFocus(e, t) {
          if (null === this.anchor)
            throw new f('model-selection-setfocus-no-ranges', [this, e]);
          const i = ma._createAt(e, t);
          if ('same' == i.compareWith(this.focus)) return;
          const n = this.anchor;
          this._ranges.length && this._popRange(),
            'before' == i.compareWith(n)
              ? (this._pushRange(new wa(i, n)), (this._lastRangeBackward = !0))
              : (this._pushRange(new wa(n, i)), (this._lastRangeBackward = !1)),
            this.fire('change:range', {directChange: !0});
        }
        getAttribute(e) {
          return this._attrs.get(e);
        }
        getAttributes() {
          return this._attrs.entries();
        }
        getAttributeKeys() {
          return this._attrs.keys();
        }
        hasAttribute(e) {
          return this._attrs.has(e);
        }
        removeAttribute(e) {
          this.hasAttribute(e) &&
            (this._attrs.delete(e),
            this.fire('change:attribute', {
              attributeKeys: [e],
              directChange: !0,
            }));
        }
        setAttribute(e, t) {
          this.getAttribute(e) !== t &&
            (this._attrs.set(e, t),
            this.fire('change:attribute', {
              attributeKeys: [e],
              directChange: !0,
            }));
        }
        getSelectedElement() {
          return 1 !== this.rangeCount
            ? null
            : this.getFirstRange().getContainedElement();
        }
        *getSelectedBlocks() {
          const e = new WeakSet();
          for (const t of this.getRanges()) {
            const i = Ia(t.start, e);
            i && Pa(i, t) && (yield i);
            for (const i of t.getWalker()) {
              const n = i.item;
              'elementEnd' == i.type && Sa(n, e, t) && (yield n);
            }
            const n = Ia(t.end, e);
            n && !t.end.isTouching(ma._createAt(n, 0)) && Pa(n, t) && (yield n);
          }
        }
        containsEntireContent(e = this.anchor.root) {
          const t = ma._createAt(e, 0),
            i = ma._createAt(e, 'end');
          return (
            t.isTouching(this.getFirstPosition()) &&
            i.isTouching(this.getLastPosition())
          );
        }
        _pushRange(e) {
          this._checkRange(e), this._ranges.push(new wa(e.start, e.end));
        }
        _checkRange(e) {
          for (let t = 0; t < this._ranges.length; t++)
            if (e.isIntersecting(this._ranges[t]))
              throw new f('model-selection-range-intersects', [this, e], {
                addedRange: e,
                intersectingRange: this._ranges[t],
              });
        }
        _replaceAllRanges(e) {
          this._removeAllRanges();
          for (const t of e) this._pushRange(t);
        }
        _removeAllRanges() {
          for (; this._ranges.length > 0; ) this._popRange();
        }
        _popRange() {
          this._ranges.pop();
        }
      }
      function Ta(e, t) {
        return (
          !t.has(e) &&
          (t.add(e), e.root.document.model.schema.isBlock(e) && !!e.parent)
        );
      }
      function Sa(e, t, i) {
        return Ta(e, t) && Pa(e, i);
      }
      function Ia(e, t) {
        const i = e.parent.root.document.model.schema,
          n = e.parent.getAncestors({parentFirst: !0, includeSelf: !0});
        let o = !1;
        const r = n.find((e) => !o && ((o = i.isLimit(e)), !o && Ta(e, t)));
        return n.forEach((e) => t.add(e)), r;
      }
      function Pa(e, t) {
        const i = (function (e) {
          const t = e.root.document.model.schema;
          let i = e.parent;
          for (; i; ) {
            if (t.isBlock(i)) return i;
            i = i.parent;
          }
        })(e);
        return !i || !t.containsRange(wa._createOn(i), !0);
      }
      Ea.prototype.is = function (e) {
        return 'selection' === e || 'model:selection' === e;
      };
      class Ma extends x(wa) {
        constructor(e, t) {
          super(e, t), Ra.call(this);
        }
        detach() {
          this.stopListening();
        }
        toRange() {
          return new wa(this.start, this.end);
        }
        static fromRange(e) {
          return new Ma(e.start, e.end);
        }
      }
      function Ra() {
        this.listenTo(
          this.root.document.model,
          'applyOperation',
          (e, t) => {
            const i = t[0];
            i.isDocumentOperation && Na.call(this, i);
          },
          {priority: 'low'}
        );
      }
      function Na(e) {
        const t = this.getTransformedByOperation(e),
          i = wa._createFromRanges(t),
          n = !i.isEqual(this),
          o = (function (e, t) {
            switch (t.type) {
              case 'insert':
                return e.containsPosition(t.position);
              case 'move':
              case 'remove':
              case 'reinsert':
              case 'merge':
                return (
                  e.containsPosition(t.sourcePosition) ||
                  e.start.isEqual(t.sourcePosition) ||
                  e.containsPosition(t.targetPosition)
                );
              case 'split':
                return (
                  e.containsPosition(t.splitPosition) ||
                  e.containsPosition(t.insertionPosition)
                );
            }
            return !1;
          })(this, e);
        let r = null;
        if (n) {
          '$graveyard' == i.root.rootName &&
            (r = 'remove' == e.type ? e.sourcePosition : e.deletionPosition);
          const t = this.toRange();
          (this.start = i.start),
            (this.end = i.end),
            this.fire('change:range', t, {deletionPosition: r});
        } else
          o &&
            this.fire('change:content', this.toRange(), {deletionPosition: r});
      }
      Ma.prototype.is = function (e) {
        return (
          'liveRange' === e ||
          'model:liveRange' === e ||
          'range' == e ||
          'model:range' === e
        );
      };
      const Oa = 'selection:';
      class Da extends x(ra) {
        constructor(e) {
          super(),
            (this._selection = new Va(e)),
            this._selection.delegate('change:range').to(this),
            this._selection.delegate('change:attribute').to(this),
            this._selection.delegate('change:marker').to(this);
        }
        get isCollapsed() {
          return this._selection.isCollapsed;
        }
        get anchor() {
          return this._selection.anchor;
        }
        get focus() {
          return this._selection.focus;
        }
        get rangeCount() {
          return this._selection.rangeCount;
        }
        get hasOwnRange() {
          return this._selection.hasOwnRange;
        }
        get isBackward() {
          return this._selection.isBackward;
        }
        get isGravityOverridden() {
          return this._selection.isGravityOverridden;
        }
        get markers() {
          return this._selection.markers;
        }
        get _ranges() {
          return this._selection._ranges;
        }
        getRanges() {
          return this._selection.getRanges();
        }
        getFirstPosition() {
          return this._selection.getFirstPosition();
        }
        getLastPosition() {
          return this._selection.getLastPosition();
        }
        getFirstRange() {
          return this._selection.getFirstRange();
        }
        getLastRange() {
          return this._selection.getLastRange();
        }
        getSelectedBlocks() {
          return this._selection.getSelectedBlocks();
        }
        getSelectedElement() {
          return this._selection.getSelectedElement();
        }
        containsEntireContent(e) {
          return this._selection.containsEntireContent(e);
        }
        destroy() {
          this._selection.destroy();
        }
        getAttributeKeys() {
          return this._selection.getAttributeKeys();
        }
        getAttributes() {
          return this._selection.getAttributes();
        }
        getAttribute(e) {
          return this._selection.getAttribute(e);
        }
        hasAttribute(e) {
          return this._selection.hasAttribute(e);
        }
        refresh() {
          this._selection.updateMarkers(),
            this._selection._updateAttributes(!1);
        }
        observeMarkers(e) {
          this._selection.observeMarkers(e);
        }
        _setFocus(e, t) {
          this._selection.setFocus(e, t);
        }
        _setTo(...e) {
          this._selection.setTo(...e);
        }
        _setAttribute(e, t) {
          this._selection.setAttribute(e, t);
        }
        _removeAttribute(e) {
          this._selection.removeAttribute(e);
        }
        _getStoredAttributes() {
          return this._selection.getStoredAttributes();
        }
        _overrideGravity() {
          return this._selection.overrideGravity();
        }
        _restoreGravity(e) {
          this._selection.restoreGravity(e);
        }
        static _getStoreAttributeKey(e) {
          return Oa + e;
        }
        static _isStoreAttributeKey(e) {
          return e.startsWith(Oa);
        }
      }
      Da.prototype.is = function (e) {
        return (
          'selection' === e ||
          'model:selection' == e ||
          'documentSelection' == e ||
          'model:documentSelection' == e
        );
      };
      class Va extends Ea {
        constructor(e) {
          super(),
            (this.markers = new Tn({idProperty: 'name'})),
            (this._attributePriority = new Map()),
            (this._selectionRestorePosition = null),
            (this._hasChangedRange = !1),
            (this._overriddenGravityRegister = new Set()),
            (this._observedMarkers = new Set()),
            (this._model = e.model),
            (this._document = e),
            this.listenTo(
              this._model,
              'applyOperation',
              (e, t) => {
                const i = t[0];
                i.isDocumentOperation &&
                  'marker' != i.type &&
                  'rename' != i.type &&
                  'noop' != i.type &&
                  (0 == this._ranges.length &&
                    this._selectionRestorePosition &&
                    this._fixGraveyardSelection(this._selectionRestorePosition),
                  (this._selectionRestorePosition = null),
                  this._hasChangedRange &&
                    ((this._hasChangedRange = !1),
                    this.fire('change:range', {directChange: !1})));
              },
              {priority: 'lowest'}
            ),
            this.on('change:range', () => {
              this._validateSelectionRanges(this.getRanges());
            }),
            this.listenTo(this._model.markers, 'update', (e, t, i, n) => {
              this._updateMarker(t, n);
            }),
            this.listenTo(this._document, 'change', (e, t) => {
              !(function (e, t) {
                const i = e.document.differ;
                for (const n of i.getChanges()) {
                  if ('insert' != n.type) continue;
                  const i = n.position.parent;
                  n.length === i.maxOffset &&
                    e.enqueueChange(t, (e) => {
                      const t = Array.from(i.getAttributeKeys()).filter((e) =>
                        e.startsWith(Oa)
                      );
                      for (const n of t) e.removeAttribute(n, i);
                    });
                }
              })(this._model, t);
            });
        }
        get isCollapsed() {
          return 0 === this._ranges.length
            ? this._document._getDefaultRange().isCollapsed
            : super.isCollapsed;
        }
        get anchor() {
          return super.anchor || this._document._getDefaultRange().start;
        }
        get focus() {
          return super.focus || this._document._getDefaultRange().end;
        }
        get rangeCount() {
          return this._ranges.length ? this._ranges.length : 1;
        }
        get hasOwnRange() {
          return this._ranges.length > 0;
        }
        get isGravityOverridden() {
          return !!this._overriddenGravityRegister.size;
        }
        destroy() {
          for (let e = 0; e < this._ranges.length; e++)
            this._ranges[e].detach();
          this.stopListening();
        }
        *getRanges() {
          this._ranges.length
            ? yield* super.getRanges()
            : yield this._document._getDefaultRange();
        }
        getFirstRange() {
          return super.getFirstRange() || this._document._getDefaultRange();
        }
        getLastRange() {
          return super.getLastRange() || this._document._getDefaultRange();
        }
        setTo(...e) {
          super.setTo(...e), this._updateAttributes(!0), this.updateMarkers();
        }
        setFocus(e, t) {
          super.setFocus(e, t),
            this._updateAttributes(!0),
            this.updateMarkers();
        }
        setAttribute(e, t) {
          if (this._setAttribute(e, t)) {
            const t = [e];
            this.fire('change:attribute', {attributeKeys: t, directChange: !0});
          }
        }
        removeAttribute(e) {
          if (this._removeAttribute(e)) {
            const t = [e];
            this.fire('change:attribute', {attributeKeys: t, directChange: !0});
          }
        }
        overrideGravity() {
          const e = u();
          return (
            this._overriddenGravityRegister.add(e),
            1 === this._overriddenGravityRegister.size &&
              this._updateAttributes(!0),
            e
          );
        }
        restoreGravity(e) {
          if (!this._overriddenGravityRegister.has(e))
            throw new f('document-selection-gravity-wrong-restore', this, {
              uid: e,
            });
          this._overriddenGravityRegister.delete(e),
            this.isGravityOverridden || this._updateAttributes(!0);
        }
        observeMarkers(e) {
          this._observedMarkers.add(e), this.updateMarkers();
        }
        _replaceAllRanges(e) {
          this._validateSelectionRanges(e), super._replaceAllRanges(e);
        }
        _popRange() {
          this._ranges.pop().detach();
        }
        _pushRange(e) {
          const t = this._prepareRange(e);
          t && this._ranges.push(t);
        }
        _validateSelectionRanges(e) {
          for (const t of e)
            if (!this._document._validateSelectionRange(t))
              throw new f('document-selection-wrong-position', this, {
                range: t,
              });
        }
        _prepareRange(e) {
          if ((this._checkRange(e), e.root == this._document.graveyard)) return;
          const t = Ma.fromRange(e);
          return (
            t.on('change:range', (e, i, n) => {
              if (
                ((this._hasChangedRange = !0),
                t.root == this._document.graveyard)
              ) {
                this._selectionRestorePosition = n.deletionPosition;
                const e = this._ranges.indexOf(t);
                this._ranges.splice(e, 1), t.detach();
              }
            }),
            t
          );
        }
        updateMarkers() {
          if (!this._observedMarkers.size) return;
          const e = [];
          let t = !1;
          for (const t of this._model.markers) {
            const i = t.name.split(':', 1)[0];
            if (!this._observedMarkers.has(i)) continue;
            const n = t.getRange();
            for (const i of this.getRanges())
              n.containsRange(i, !i.isCollapsed) && e.push(t);
          }
          const i = Array.from(this.markers);
          for (const i of e)
            this.markers.has(i) || (this.markers.add(i), (t = !0));
          for (const i of Array.from(this.markers))
            e.includes(i) || (this.markers.remove(i), (t = !0));
          t && this.fire('change:marker', {oldMarkers: i, directChange: !1});
        }
        _updateMarker(e, t) {
          const i = e.name.split(':', 1)[0];
          if (!this._observedMarkers.has(i)) return;
          let n = !1;
          const o = Array.from(this.markers),
            r = this.markers.has(e);
          if (t) {
            let i = !1;
            for (const e of this.getRanges())
              if (t.containsRange(e, !e.isCollapsed)) {
                i = !0;
                break;
              }
            i && !r
              ? (this.markers.add(e), (n = !0))
              : !i && r && (this.markers.remove(e), (n = !0));
          } else r && (this.markers.remove(e), (n = !0));
          n && this.fire('change:marker', {oldMarkers: o, directChange: !1});
        }
        _updateAttributes(e) {
          const t = Mn(this._getSurroundingAttributes()),
            i = Mn(this.getAttributes());
          if (e)
            (this._attributePriority = new Map()), (this._attrs = new Map());
          else
            for (const [e, t] of this._attributePriority)
              'low' == t &&
                (this._attrs.delete(e), this._attributePriority.delete(e));
          this._setAttributesTo(t);
          const n = [];
          for (const [e, t] of this.getAttributes())
            (i.has(e) && i.get(e) === t) || n.push(e);
          for (const [e] of i) this.hasAttribute(e) || n.push(e);
          n.length > 0 &&
            this.fire('change:attribute', {attributeKeys: n, directChange: !1});
        }
        _setAttribute(e, t, i = !0) {
          const n = i ? 'normal' : 'low';
          return (
            ('low' != n || 'normal' != this._attributePriority.get(e)) &&
            super.getAttribute(e) !== t &&
            (this._attrs.set(e, t), this._attributePriority.set(e, n), !0)
          );
        }
        _removeAttribute(e, t = !0) {
          const i = t ? 'normal' : 'low';
          return !(
            ('low' == i && 'normal' == this._attributePriority.get(e)) ||
            (this._attributePriority.set(e, i),
            !super.hasAttribute(e) || (this._attrs.delete(e), 0))
          );
        }
        _setAttributesTo(e) {
          const t = new Set();
          for (const [t, i] of this.getAttributes())
            e.get(t) !== i && this._removeAttribute(t, !1);
          for (const [i, n] of e) this._setAttribute(i, n, !1) && t.add(i);
          return t;
        }
        *getStoredAttributes() {
          const e = this.getFirstPosition().parent;
          if (this.isCollapsed && e.isEmpty)
            for (const t of e.getAttributeKeys())
              if (t.startsWith(Oa)) {
                const i = t.substr(Oa.length);
                yield [i, e.getAttribute(t)];
              }
        }
        _getSurroundingAttributes() {
          const e = this.getFirstPosition(),
            t = this._model.schema;
          let i = null;
          if (this.isCollapsed) {
            const n = e.textNode ? e.textNode : e.nodeBefore,
              o = e.textNode ? e.textNode : e.nodeAfter;
            if (
              (this.isGravityOverridden || (i = La(n)),
              i || (i = La(o)),
              !this.isGravityOverridden && !i)
            ) {
              let e = n;
              for (; e && !t.isInline(e) && !i; )
                (e = e.previousSibling), (i = La(e));
            }
            if (!i) {
              let e = o;
              for (; e && !t.isInline(e) && !i; )
                (e = e.nextSibling), (i = La(e));
            }
            i || (i = this.getStoredAttributes());
          } else {
            const e = this.getFirstRange();
            for (const n of e) {
              if (n.item.is('element') && t.isObject(n.item)) break;
              if ('text' == n.type) {
                i = n.item.getAttributes();
                break;
              }
            }
          }
          return i;
        }
        _fixGraveyardSelection(e) {
          const t = this._model.schema.getNearestSelectionRange(e);
          t && this._pushRange(t);
        }
      }
      function La(e) {
        return e instanceof ca || e instanceof la ? e.getAttributes() : null;
      }
      class za {
        constructor(e) {
          this._dispatchers = e;
        }
        add(e) {
          for (const t of this._dispatchers) e(t);
          return this;
        }
      }
      var Ba = function (e) {
        return Ci(e, 5);
      };
      class Fa extends za {
        elementToElement(e) {
          return this.add(
            (function (e) {
              const t = $a(e.model),
                i = Ua(e.view, 'container');
              return (
                t.attributes.length && (t.children = !0),
                (n) => {
                  n.on(
                    `insert:${t.name}`,
                    (function (e, t = Ja) {
                      return (i, n, o) => {
                        if (!t(n.item, o.consumable, {preflight: !0})) return;
                        const r = e(n.item, o, n);
                        if (!r) return;
                        t(n.item, o.consumable);
                        const s = o.mapper.toViewPosition(n.range.start);
                        o.mapper.bindElements(n.item, r),
                          o.writer.insert(s, r),
                          o.convertAttributes(n.item),
                          Ka(r, n.item.getChildren(), o, {
                            reconversion: n.reconversion,
                          });
                      };
                    })(i, Ya(t)),
                    {priority: e.converterPriority || 'normal'}
                  ),
                    (t.children || t.attributes.length) &&
                      n.on('reduceChanges', Ga(t), {priority: 'low'});
                }
              );
            })(e)
          );
        }
        elementToStructure(e) {
          return this.add(
            (function (e) {
              const t = $a(e.model),
                i = Ua(e.view, 'container');
              return (
                (t.children = !0),
                (n) => {
                  if (n._conversionApi.schema.checkChild(t.name, '$text'))
                    throw new f(
                      'conversion-element-to-structure-disallowed-text',
                      n,
                      {elementName: t.name}
                    );
                  var o, r;
                  n.on(
                    `insert:${t.name}`,
                    ((o = i),
                    (r = Ya(t)),
                    (e, t, i) => {
                      if (!r(t.item, i.consumable, {preflight: !0})) return;
                      const n = new Map();
                      i.writer._registerSlotFactory(
                        (function (e, t, i) {
                          return (n, o) => {
                            const r = n.createContainerElement('$slot');
                            let s = null;
                            if ('children' === o)
                              s = Array.from(e.getChildren());
                            else {
                              if ('function' != typeof o)
                                throw new f(
                                  'conversion-slot-mode-unknown',
                                  i.dispatcher,
                                  {modeOrFilter: o}
                                );
                              s = Array.from(e.getChildren()).filter((e) =>
                                o(e)
                              );
                            }
                            return t.set(r, s), r;
                          };
                        })(t.item, n, i)
                      );
                      const s = o(t.item, i, t);
                      if ((i.writer._clearSlotFactory(), !s)) return;
                      !(function (e, t, i) {
                        const n = Array.from(t.values()).flat(),
                          o = new Set(n);
                        if (o.size != n.length)
                          throw new f(
                            'conversion-slot-filter-overlap',
                            i.dispatcher,
                            {element: e}
                          );
                        if (o.size != e.childCount)
                          throw new f(
                            'conversion-slot-filter-incomplete',
                            i.dispatcher,
                            {element: e}
                          );
                      })(t.item, n, i),
                        r(t.item, i.consumable);
                      const a = i.mapper.toViewPosition(t.range.start);
                      i.mapper.bindElements(t.item, s),
                        i.writer.insert(a, s),
                        i.convertAttributes(t.item),
                        (function (e, t, i, n) {
                          i.mapper.on('modelToViewPosition', s, {
                            priority: 'highest',
                          });
                          let o = null,
                            r = null;
                          for ([o, r] of t)
                            Ka(e, r, i, n),
                              i.writer.move(
                                i.writer.createRangeIn(o),
                                i.writer.createPositionBefore(o)
                              ),
                              i.writer.remove(o);
                          function s(e, t) {
                            const i = t.modelPosition.nodeAfter,
                              n = r.indexOf(i);
                            n < 0 ||
                              (t.viewPosition = t.mapper.findPositionIn(o, n));
                          }
                          i.mapper.off('modelToViewPosition', s);
                        })(s, n, i, {reconversion: t.reconversion});
                    }),
                    {priority: e.converterPriority || 'normal'}
                  ),
                    n.on('reduceChanges', Ga(t), {priority: 'low'});
                }
              );
            })(e)
          );
        }
        attributeToElement(e) {
          return this.add(
            (function (e) {
              let t = (e = Ba(e)).model;
              'string' == typeof t && (t = {key: t});
              let i = `attribute:${t.key}`;
              if ((t.name && (i += ':' + t.name), t.values))
                for (const i of t.values)
                  e.view[i] = Ua(e.view[i], 'attribute');
              else e.view = Ua(e.view, 'attribute');
              const n = Za(e);
              return (t) => {
                t.on(
                  i,
                  (function (e) {
                    return (t, i, n) => {
                      if (!n.consumable.test(i.item, t.name)) return;
                      const o = e(i.attributeOldValue, n, i),
                        r = e(i.attributeNewValue, n, i);
                      if (!o && !r) return;
                      n.consumable.consume(i.item, t.name);
                      const s = n.writer,
                        a = s.document.selection;
                      if (i.item instanceof Ea || i.item instanceof Da)
                        s.wrap(a.getFirstRange(), r);
                      else {
                        let e = n.mapper.toViewRange(i.range);
                        null !== i.attributeOldValue &&
                          o &&
                          (e = s.unwrap(e, o)),
                          null !== i.attributeNewValue && r && s.wrap(e, r);
                      }
                    };
                  })(n),
                  {priority: e.converterPriority || 'normal'}
                );
              };
            })(e)
          );
        }
        attributeToAttribute(e) {
          return this.add(
            (function (e) {
              let t = (e = Ba(e)).model;
              'string' == typeof t && (t = {key: t});
              let i = `attribute:${t.key}`;
              if ((t.name && (i += ':' + t.name), t.values))
                for (const i of t.values) e.view[i] = Wa(e.view[i]);
              else e.view = Wa(e.view);
              const n = Za(e);
              return (t) => {
                var o;
                t.on(
                  i,
                  ((o = n),
                  (e, t, i) => {
                    if (!i.consumable.test(t.item, e.name)) return;
                    const n = o(t.attributeOldValue, i, t),
                      r = o(t.attributeNewValue, i, t);
                    if (!n && !r) return;
                    i.consumable.consume(t.item, e.name);
                    const s = i.mapper.toViewElement(t.item),
                      a = i.writer;
                    if (!s)
                      throw new f(
                        'conversion-attribute-to-attribute-on-text',
                        i.dispatcher,
                        t
                      );
                    if (null !== t.attributeOldValue && n)
                      if ('class' == n.key) {
                        const e = xn(n.value);
                        for (const t of e) a.removeClass(t, s);
                      } else if ('style' == n.key) {
                        const e = Object.keys(n.value);
                        for (const t of e) a.removeStyle(t, s);
                      } else a.removeAttribute(n.key, s);
                    if (null !== t.attributeNewValue && r)
                      if ('class' == r.key) {
                        const e = xn(r.value);
                        for (const t of e) a.addClass(t, s);
                      } else if ('style' == r.key) {
                        const e = Object.keys(r.value);
                        for (const t of e) a.setStyle(t, r.value[t], s);
                      } else a.setAttribute(r.key, r.value, s);
                  }),
                  {priority: e.converterPriority || 'normal'}
                );
              };
            })(e)
          );
        }
        markerToElement(e) {
          return this.add(
            (function (e) {
              const t = Ua(e.view, 'ui');
              return (i) => {
                var n;
                i.on(
                  `addMarker:${e.model}`,
                  ((n = t),
                  (e, t, i) => {
                    t.isOpening = !0;
                    const o = n(t, i);
                    t.isOpening = !1;
                    const r = n(t, i);
                    if (!o || !r) return;
                    const s = t.markerRange;
                    if (s.isCollapsed && !i.consumable.consume(s, e.name))
                      return;
                    for (const t of s)
                      if (!i.consumable.consume(t.item, e.name)) return;
                    const a = i.mapper,
                      l = i.writer;
                    l.insert(a.toViewPosition(s.start), o),
                      i.mapper.bindElementToMarker(o, t.markerName),
                      s.isCollapsed ||
                        (l.insert(a.toViewPosition(s.end), r),
                        i.mapper.bindElementToMarker(r, t.markerName)),
                      e.stop();
                  }),
                  {priority: e.converterPriority || 'normal'}
                ),
                  i.on(
                    `removeMarker:${e.model}`,
                    (e, t, i) => {
                      const n = i.mapper.markerNameToElements(t.markerName);
                      if (n) {
                        for (const e of n)
                          i.mapper.unbindElementFromMarkerName(e, t.markerName),
                            i.writer.clear(i.writer.createRangeOn(e), e);
                        i.writer.clearClonedElementsGroup(t.markerName),
                          e.stop();
                      }
                    },
                    {priority: e.converterPriority || 'normal'}
                  );
              };
            })(e)
          );
        }
        markerToHighlight(e) {
          return this.add(
            (function (e) {
              return (t) => {
                var i;
                t.on(
                  `addMarker:${e.model}`,
                  ((i = e.view),
                  (e, t, n) => {
                    if (!t.item) return;
                    if (
                      !(
                        t.item instanceof Ea ||
                        t.item instanceof Da ||
                        t.item.is('$textProxy')
                      )
                    )
                      return;
                    const o = qa(i, t, n);
                    if (!o) return;
                    if (!n.consumable.consume(t.item, e.name)) return;
                    const r = n.writer,
                      s = ja(r, o),
                      a = r.document.selection;
                    if (t.item instanceof Ea || t.item instanceof Da)
                      r.wrap(a.getFirstRange(), s);
                    else {
                      const e = n.mapper.toViewRange(t.range),
                        i = r.wrap(e, s);
                      for (const e of i.getItems())
                        if (e.is('attributeElement') && e.isSimilar(s)) {
                          n.mapper.bindElementToMarker(e, t.markerName);
                          break;
                        }
                    }
                  }),
                  {priority: e.converterPriority || 'normal'}
                ),
                  t.on(
                    `addMarker:${e.model}`,
                    (function (e) {
                      return (t, i, n) => {
                        if (!i.item) return;
                        if (!(i.item instanceof da)) return;
                        const o = qa(e, i, n);
                        if (!o) return;
                        if (!n.consumable.test(i.item, t.name)) return;
                        const r = n.mapper.toViewElement(i.item);
                        if (r && r.getCustomProperty('addHighlight')) {
                          n.consumable.consume(i.item, t.name);
                          for (const e of wa._createIn(i.item))
                            n.consumable.consume(e.item, t.name);
                          r.getCustomProperty('addHighlight')(r, o, n.writer),
                            n.mapper.bindElementToMarker(r, i.markerName);
                        }
                      };
                    })(e.view),
                    {priority: e.converterPriority || 'normal'}
                  ),
                  t.on(
                    `removeMarker:${e.model}`,
                    (function (e) {
                      return (t, i, n) => {
                        if (i.markerRange.isCollapsed) return;
                        const o = qa(e, i, n);
                        if (!o) return;
                        const r = ja(n.writer, o),
                          s = n.mapper.markerNameToElements(i.markerName);
                        if (s) {
                          for (const e of s)
                            n.mapper.unbindElementFromMarkerName(
                              e,
                              i.markerName
                            ),
                              e.is('attributeElement')
                                ? n.writer.unwrap(n.writer.createRangeOn(e), r)
                                : e.getCustomProperty('removeHighlight')(
                                    e,
                                    o.id,
                                    n.writer
                                  );
                          n.writer.clearClonedElementsGroup(i.markerName),
                            t.stop();
                        }
                      };
                    })(e.view),
                    {priority: e.converterPriority || 'normal'}
                  );
              };
            })(e)
          );
        }
        markerToData(e) {
          return this.add(
            (function (e) {
              const t = (e = Ba(e)).model;
              let i = e.view;
              return (
                i ||
                  (i = (i) => ({group: t, name: i.substr(e.model.length + 1)})),
                (n) => {
                  var o;
                  n.on(
                    `addMarker:${t}`,
                    ((o = i),
                    (e, t, i) => {
                      const n = o(t.markerName, i);
                      if (!n) return;
                      const r = t.markerRange;
                      i.consumable.consume(r, e.name) &&
                        (Ha(r, !1, i, t, n), Ha(r, !0, i, t, n), e.stop());
                    }),
                    {priority: e.converterPriority || 'normal'}
                  ),
                    n.on(
                      `removeMarker:${t}`,
                      (function (e) {
                        return (t, i, n) => {
                          const o = e(i.markerName, n);
                          if (!o) return;
                          const r = n.mapper.markerNameToElements(i.markerName);
                          if (r) {
                            for (const e of r)
                              n.mapper.unbindElementFromMarkerName(
                                e,
                                i.markerName
                              ),
                                e.is('containerElement')
                                  ? (s(`data-${o.group}-start-before`, e),
                                    s(`data-${o.group}-start-after`, e),
                                    s(`data-${o.group}-end-before`, e),
                                    s(`data-${o.group}-end-after`, e))
                                  : n.writer.clear(
                                      n.writer.createRangeOn(e),
                                      e
                                    );
                            n.writer.clearClonedElementsGroup(i.markerName),
                              t.stop();
                          }
                          function s(e, t) {
                            if (t.hasAttribute(e)) {
                              const i = new Set(t.getAttribute(e).split(','));
                              i.delete(o.name),
                                0 == i.size
                                  ? n.writer.removeAttribute(e, t)
                                  : n.writer.setAttribute(
                                      e,
                                      Array.from(i).join(','),
                                      t
                                    );
                            }
                          }
                        };
                      })(i),
                      {priority: e.converterPriority || 'normal'}
                    );
                }
              );
            })(e)
          );
        }
      }
      function ja(e, t) {
        const i = e.createAttributeElement('span', t.attributes);
        return (
          t.classes && i._addClass(t.classes),
          'number' == typeof t.priority && (i._priority = t.priority),
          (i._id = t.id),
          i
        );
      }
      function Ha(e, t, i, n, o) {
        const r = t ? e.start : e.end,
          s = r.nodeAfter && r.nodeAfter.is('element') ? r.nodeAfter : null,
          a = r.nodeBefore && r.nodeBefore.is('element') ? r.nodeBefore : null;
        if (s || a) {
          let e, r;
          (t && s) || (!t && !a) ? ((e = s), (r = !0)) : ((e = a), (r = !1));
          const l = i.mapper.toViewElement(e);
          if (l)
            return void (function (e, t, i, n, o, r) {
              const s = `data-${r.group}-${t ? 'start' : 'end'}-${
                  i ? 'before' : 'after'
                }`,
                a = e.hasAttribute(s) ? e.getAttribute(s).split(',') : [];
              a.unshift(r.name),
                n.writer.setAttribute(s, a.join(','), e),
                n.mapper.bindElementToMarker(e, o.markerName);
            })(l, t, r, i, n, o);
        }
        !(function (e, t, i, n, o) {
          const r = `${o.group}-${t ? 'start' : 'end'}`,
            s = o.name ? {name: o.name} : null,
            a = i.writer.createUIElement(r, s);
          i.writer.insert(e, a), i.mapper.bindElementToMarker(a, n.markerName);
        })(i.mapper.toViewPosition(r), t, i, n, o);
      }
      function $a(e) {
        return (
          'string' == typeof e && (e = {name: e}),
          e.attributes
            ? Array.isArray(e.attributes) || (e.attributes = [e.attributes])
            : (e.attributes = []),
          (e.children = !!e.children),
          e
        );
      }
      function Ua(e, t) {
        return 'function' == typeof e
          ? e
          : (i, n) =>
              (function (e, t, i) {
                let n;
                'string' == typeof e && (e = {name: e});
                const o = t.writer,
                  r = Object.assign({}, e.attributes);
                if ('container' == i) n = o.createContainerElement(e.name, r);
                else if ('attribute' == i) {
                  const t = {priority: e.priority || vr.DEFAULT_PRIORITY};
                  n = o.createAttributeElement(e.name, r, t);
                } else n = o.createUIElement(e.name, r);
                if (e.styles) {
                  const t = Object.keys(e.styles);
                  for (const i of t) o.setStyle(i, e.styles[i], n);
                }
                if (e.classes) {
                  const t = e.classes;
                  if ('string' == typeof t) o.addClass(t, n);
                  else for (const e of t) o.addClass(e, n);
                }
                return n;
              })(e, n, t);
      }
      function Za(e) {
        return e.model.values
          ? (t, i, n) => {
              const o = e.view[t];
              return o ? o(t, i, n) : null;
            }
          : e.view;
      }
      function Wa(e) {
        return 'string' == typeof e
          ? (t) => ({key: e, value: t})
          : 'object' == typeof e
          ? e.value
            ? () => e
            : (t) => ({key: e.key, value: t})
          : e;
      }
      function qa(e, t, i) {
        const n = 'function' == typeof e ? e(t, i) : e;
        return n
          ? (n.priority || (n.priority = 10), n.id || (n.id = t.markerName), n)
          : null;
      }
      function Ga(e) {
        const t = (function (e) {
          return (t, i) => {
            if (!t.is('element', e.name)) return !1;
            if ('attribute' == i.type) {
              if (e.attributes.includes(i.attributeKey)) return !0;
            } else if (e.children) return !0;
            return !1;
          };
        })(e);
        return (e, i) => {
          const n = [];
          i.reconvertedElements || (i.reconvertedElements = new Set());
          for (const e of i.changes) {
            const o =
              'attribute' == e.type
                ? e.range.start.nodeAfter
                : e.position.parent;
            if (o && t(o, e)) {
              if (!i.reconvertedElements.has(o)) {
                i.reconvertedElements.add(o);
                const e = ma._createBefore(o);
                let t = n.length;
                for (let i = n.length - 1; i >= 0; i--) {
                  const o = n[i],
                    r = (
                      'attribute' == o.type ? o.range.start : o.position
                    ).compareWith(e);
                  if ('before' == r || ('remove' == o.type && 'same' == r))
                    break;
                  t = i;
                }
                n.splice(
                  t,
                  0,
                  {type: 'remove', name: o.name, position: e, length: 1},
                  {type: 'reinsert', name: o.name, position: e, length: 1}
                );
              }
            } else n.push(e);
          }
          i.changes = n;
        };
      }
      function Ya(e) {
        return (t, i, n = {}) => {
          const o = ['insert'];
          for (const i of e.attributes)
            t.hasAttribute(i) && o.push(`attribute:${i}`);
          return (
            !!o.every((e) => i.test(t, e)) &&
            (n.preflight || o.forEach((e) => i.consume(t, e)), !0)
          );
        };
      }
      function Ka(e, t, i, n) {
        for (const o of t) Qa(e.root, o, i, n) || i.convertItem(o);
      }
      function Qa(e, t, i, n) {
        const {writer: o, mapper: r} = i;
        if (!n.reconversion) return !1;
        const s = r.toViewElement(t);
        return !(
          !s ||
          s.root == e ||
          !i.canReuseView(s) ||
          (o.move(o.createRangeOn(s), r.toViewPosition(ma._createBefore(t))), 0)
        );
      }
      function Ja(e, t, {preflight: i} = {}) {
        return i ? t.test(e, 'insert') : t.consume(e, 'insert');
      }
      function Xa(e) {
        const {schema: t, document: i} = e.model;
        for (const n of i.getRootNames()) {
          const o = i.getRoot(n);
          if (
            o.isEmpty &&
            !t.checkChild(o, '$text') &&
            t.checkChild(o, 'paragraph')
          )
            return e.insertElement('paragraph', o), !0;
        }
        return !1;
      }
      function el(e, t, i) {
        const n = i.createContext(e);
        return (
          !!i.checkChild(n, 'paragraph') &&
          !!i.checkChild(n.push('paragraph'), t)
        );
      }
      function tl(e, t) {
        const i = t.createElement('paragraph');
        return t.insert(i, e), t.createPositionAt(i, 0);
      }
      class il extends za {
        elementToElement(e) {
          return this.add(nl(e));
        }
        elementToAttribute(e) {
          return this.add(
            (function (e) {
              sl((e = Ba(e)));
              const t = al(e, !1),
                i = ol(e.view),
                n = i ? `element:${i}` : 'element';
              return (i) => {
                i.on(n, t, {priority: e.converterPriority || 'low'});
              };
            })(e)
          );
        }
        attributeToAttribute(e) {
          return this.add(
            (function (e) {
              let t = null;
              ('string' == typeof (e = Ba(e)).view || e.view.key) &&
                (t = (function (e) {
                  'string' == typeof e.view && (e.view = {key: e.view});
                  const t = e.view.key;
                  let i;
                  return (
                    (i =
                      'class' == t || 'style' == t
                        ? {['class' == t ? 'classes' : 'styles']: e.view.value}
                        : {
                            attributes: {
                              [t]:
                                void 0 === e.view.value
                                  ? /[\s\S]*/
                                  : e.view.value,
                            },
                          }),
                    e.view.name && (i.name = e.view.name),
                    (e.view = i),
                    t
                  );
                })(e)),
                sl(e, t);
              const i = al(e, !0);
              return (t) => {
                t.on('element', i, {priority: e.converterPriority || 'low'});
              };
            })(e)
          );
        }
        elementToMarker(e) {
          return this.add(
            (function (e) {
              const t = (function (e) {
                return (t, i) => {
                  const n = 'string' == typeof e ? e : e(t, i);
                  return i.writer.createElement('$marker', {'data-name': n});
                };
              })(e.model);
              return nl({...e, model: t});
            })(e)
          );
        }
        dataToMarker(e) {
          return this.add(
            (function (e) {
              (e = Ba(e)).model ||
                (e.model = (t) => (t ? e.view + ':' + t : e.view));
              const t = {view: e.view, model: e.model},
                i = rl(ll(t, 'start')),
                n = rl(ll(t, 'end'));
              return (o) => {
                o.on(`element:${e.view}-start`, i, {
                  priority: e.converterPriority || 'normal',
                }),
                  o.on(`element:${e.view}-end`, n, {
                    priority: e.converterPriority || 'normal',
                  });
                const r = h.get('low'),
                  s = h.get('highest'),
                  a = h.get(e.converterPriority) / s;
                o.on(
                  'element',
                  (function (e) {
                    return (t, i, n) => {
                      const o = `data-${e.view}`;
                      function r(t, o) {
                        for (const r of o) {
                          const o = e.model(r, n),
                            s = n.writer.createElement('$marker', {
                              'data-name': o,
                            });
                          n.writer.insert(s, t),
                            i.modelCursor.isEqual(t)
                              ? (i.modelCursor = i.modelCursor.getShiftedBy(1))
                              : (i.modelCursor =
                                  i.modelCursor._getTransformedByInsertion(
                                    t,
                                    1
                                  )),
                            (i.modelRange =
                              i.modelRange._getTransformedByInsertion(t, 1)[0]);
                        }
                      }
                      (n.consumable.test(i.viewItem, {
                        attributes: o + '-end-after',
                      }) ||
                        n.consumable.test(i.viewItem, {
                          attributes: o + '-start-after',
                        }) ||
                        n.consumable.test(i.viewItem, {
                          attributes: o + '-end-before',
                        }) ||
                        n.consumable.test(i.viewItem, {
                          attributes: o + '-start-before',
                        })) &&
                        (i.modelRange ||
                          Object.assign(
                            i,
                            n.convertChildren(i.viewItem, i.modelCursor)
                          ),
                        n.consumable.consume(i.viewItem, {
                          attributes: o + '-end-after',
                        }) &&
                          r(
                            i.modelRange.end,
                            i.viewItem.getAttribute(o + '-end-after').split(',')
                          ),
                        n.consumable.consume(i.viewItem, {
                          attributes: o + '-start-after',
                        }) &&
                          r(
                            i.modelRange.end,
                            i.viewItem
                              .getAttribute(o + '-start-after')
                              .split(',')
                          ),
                        n.consumable.consume(i.viewItem, {
                          attributes: o + '-end-before',
                        }) &&
                          r(
                            i.modelRange.start,
                            i.viewItem
                              .getAttribute(o + '-end-before')
                              .split(',')
                          ),
                        n.consumable.consume(i.viewItem, {
                          attributes: o + '-start-before',
                        }) &&
                          r(
                            i.modelRange.start,
                            i.viewItem
                              .getAttribute(o + '-start-before')
                              .split(',')
                          ));
                    };
                  })(t),
                  {priority: r + a}
                );
              };
            })(e)
          );
        }
      }
      function nl(e) {
        const t = rl((e = Ba(e))),
          i = ol(e.view),
          n = i ? `element:${i}` : 'element';
        return (i) => {
          i.on(n, t, {priority: e.converterPriority || 'normal'});
        };
      }
      function ol(e) {
        return 'string' == typeof e
          ? e
          : 'object' == typeof e && 'string' == typeof e.name
          ? e.name
          : null;
      }
      function rl(e) {
        const t = new mo(e.view);
        return (i, n, o) => {
          const r = t.match(n.viewItem);
          if (!r) return;
          const s = r.match;
          if (((s.name = !0), !o.consumable.test(n.viewItem, s))) return;
          const a = (function (e, t, i) {
            return e instanceof Function ? e(t, i) : i.writer.createElement(e);
          })(e.model, n.viewItem, o);
          a &&
            o.safeInsert(a, n.modelCursor) &&
            (o.consumable.consume(n.viewItem, s),
            o.convertChildren(n.viewItem, a),
            o.updateConversionResult(a, n));
        };
      }
      function sl(e, t = null) {
        const i = null === t || ((e) => e.getAttribute(t)),
          n = 'object' != typeof e.model ? e.model : e.model.key,
          o =
            'object' != typeof e.model || void 0 === e.model.value
              ? i
              : e.model.value;
        e.model = {key: n, value: o};
      }
      function al(e, t) {
        const i = new mo(e.view);
        return (n, o, r) => {
          if (!o.modelRange && t) return;
          const s = i.match(o.viewItem);
          if (!s) return;
          if (
            ((function (e, t) {
              const i = 'function' == typeof e ? e(t) : e;
              return (
                !('object' == typeof i && !ol(i)) &&
                !i.classes &&
                !i.attributes &&
                !i.styles
              );
            })(e.view, o.viewItem)
              ? (s.match.name = !0)
              : delete s.match.name,
            !r.consumable.test(o.viewItem, s.match))
          )
            return;
          const a = e.model.key,
            l =
              'function' == typeof e.model.value
                ? e.model.value(o.viewItem, r)
                : e.model.value;
          if (null === l) return;
          o.modelRange ||
            Object.assign(o, r.convertChildren(o.viewItem, o.modelCursor));
          const c = (function (e, t, i, n) {
            let o = !1;
            for (const r of Array.from(e.getItems({shallow: i})))
              n.schema.checkAttribute(r, t.key) &&
                ((o = !0),
                r.hasAttribute(t.key) ||
                  n.writer.setAttribute(t.key, t.value, r));
            return o;
          })(o.modelRange, {key: a, value: l}, t, r);
          c &&
            (r.consumable.test(o.viewItem, {name: !0}) && (s.match.name = !0),
            r.consumable.consume(o.viewItem, s.match));
        };
      }
      function ll(e, t) {
        return {
          view: `${e.view}-${t}`,
          model: (t, i) => {
            const n = t.getAttribute('name'),
              o = e.model(n, i);
            return i.writer.createElement('$marker', {'data-name': o});
          },
        };
      }
      class cl extends z() {
        constructor(e, t) {
          super(),
            (this.model = e),
            (this.view = new oa(t)),
            (this.mapper = new _a()),
            (this.downcastDispatcher = new xa({
              mapper: this.mapper,
              schema: e.schema,
            }));
          const i = this.model.document,
            n = i.selection,
            o = this.model.markers;
          this.listenTo(
            this.model,
            '_beforeChanges',
            () => {
              this.view._disableRendering(!0);
            },
            {priority: 'highest'}
          ),
            this.listenTo(
              this.model,
              '_afterChanges',
              () => {
                this.view._disableRendering(!1);
              },
              {priority: 'lowest'}
            ),
            this.listenTo(
              i,
              'change',
              () => {
                this.view.change((e) => {
                  this.downcastDispatcher.convertChanges(i.differ, o, e),
                    this.downcastDispatcher.convertSelection(n, o, e);
                });
              },
              {priority: 'low'}
            ),
            this.listenTo(
              this.view.document,
              'selectionChange',
              (function (e, t) {
                return (i, n) => {
                  const o = n.newSelection,
                    r = [];
                  for (const e of o.getRanges()) r.push(t.toModelRange(e));
                  const s = e.createSelection(r, {backward: o.isBackward});
                  s.isEqual(e.document.selection) ||
                    e.change((e) => {
                      e.setSelection(s);
                    });
                };
              })(this.model, this.mapper)
            ),
            this.downcastDispatcher.on(
              'insert:$text',
              (e, t, i) => {
                if (!i.consumable.consume(t.item, e.name)) return;
                const n = i.writer,
                  o = i.mapper.toViewPosition(t.range.start),
                  r = n.createText(t.item.data);
                n.insert(o, r);
              },
              {priority: 'lowest'}
            ),
            this.downcastDispatcher.on(
              'insert',
              (e, t, i) => {
                i.convertAttributes(t.item),
                  t.reconversion ||
                    !t.item.is('element') ||
                    t.item.isEmpty ||
                    i.convertChildren(t.item);
              },
              {priority: 'lowest'}
            ),
            this.downcastDispatcher.on(
              'remove',
              (e, t, i) => {
                const n = i.mapper.toViewPosition(t.position),
                  o = t.position.getShiftedBy(t.length),
                  r = i.mapper.toViewPosition(o, {isPhantom: !0}),
                  s = i.writer.createRange(n, r),
                  a = i.writer.remove(s.getTrimmed());
                for (const e of i.writer.createRangeIn(a).getItems())
                  i.mapper.unbindViewElement(e, {defer: !0});
              },
              {priority: 'low'}
            ),
            this.downcastDispatcher.on(
              'selection',
              (e, t, i) => {
                const n = i.writer,
                  o = n.document.selection;
                for (const e of o.getRanges())
                  e.isCollapsed &&
                    e.end.parent.isAttached() &&
                    i.writer.mergeAttributes(e.start);
                n.setSelection(null);
              },
              {priority: 'high'}
            ),
            this.downcastDispatcher.on(
              'selection',
              (e, t, i) => {
                const n = t.selection;
                if (n.isCollapsed) return;
                if (!i.consumable.consume(n, 'selection')) return;
                const o = [];
                for (const e of n.getRanges()) o.push(i.mapper.toViewRange(e));
                i.writer.setSelection(o, {backward: n.isBackward});
              },
              {priority: 'low'}
            ),
            this.downcastDispatcher.on(
              'selection',
              (e, t, i) => {
                const n = t.selection;
                if (!n.isCollapsed) return;
                if (!i.consumable.consume(n, 'selection')) return;
                const o = i.writer,
                  r = n.getFirstPosition(),
                  s = i.mapper.toViewPosition(r),
                  a = o.breakAttributes(s);
                o.setSelection(a);
              },
              {priority: 'low'}
            ),
            this.view.document.roots
              .bindTo(this.model.document.roots)
              .using((e) => {
                if ('$graveyard' == e.rootName) return null;
                const t = new sr(this.view.document, e.name);
                return (
                  (t.rootName = e.rootName), this.mapper.bindElements(e, t), t
                );
              });
        }
        destroy() {
          this.view.destroy(), this.stopListening();
        }
        reconvertMarker(e) {
          const t = 'string' == typeof e ? e : e.name,
            i = this.model.markers.get(t);
          if (!i)
            throw new f(
              'editingcontroller-reconvertmarker-marker-not-exist',
              this,
              {markerName: t}
            );
          this.model.change(() => {
            this.model.markers._refresh(i);
          });
        }
        reconvertItem(e) {
          this.model.change(() => {
            this.model.document.differ._refreshItem(e);
          });
        }
      }
      class dl {
        constructor() {
          this._consumables = new Map();
        }
        add(e, t) {
          let i;
          e.is('$text') || e.is('documentFragment')
            ? this._consumables.set(e, !0)
            : (this._consumables.has(e)
                ? (i = this._consumables.get(e))
                : ((i = new hl(e)), this._consumables.set(e, i)),
              i.add(t));
        }
        test(e, t) {
          const i = this._consumables.get(e);
          return void 0 === i
            ? null
            : e.is('$text') || e.is('documentFragment')
            ? i
            : i.test(t);
        }
        consume(e, t) {
          return (
            !!this.test(e, t) &&
            (e.is('$text') || e.is('documentFragment')
              ? this._consumables.set(e, !1)
              : this._consumables.get(e).consume(t),
            !0)
          );
        }
        revert(e, t) {
          const i = this._consumables.get(e);
          void 0 !== i &&
            (e.is('$text') || e.is('documentFragment')
              ? this._consumables.set(e, !0)
              : i.revert(t));
        }
        static consumablesFromElement(e) {
          const t = {
              element: e,
              name: !0,
              attributes: [],
              classes: [],
              styles: [],
            },
            i = e.getAttributeKeys();
          for (const e of i)
            'style' != e && 'class' != e && t.attributes.push(e);
          const n = e.getClassNames();
          for (const e of n) t.classes.push(e);
          const o = e.getStyleNames();
          for (const e of o) t.styles.push(e);
          return t;
        }
        static createFrom(e, t) {
          if ((t || (t = new dl()), e.is('$text'))) return t.add(e), t;
          e.is('element') && t.add(e, dl.consumablesFromElement(e)),
            e.is('documentFragment') && t.add(e);
          for (const i of e.getChildren()) t = dl.createFrom(i, t);
          return t;
        }
      }
      const ul = ['attributes', 'classes', 'styles'];
      class hl {
        constructor(e) {
          (this.element = e),
            (this._canConsumeName = null),
            (this._consumables = {
              attributes: new Map(),
              styles: new Map(),
              classes: new Map(),
            });
        }
        add(e) {
          e.name && (this._canConsumeName = !0);
          for (const t of ul) t in e && this._add(t, e[t]);
        }
        test(e) {
          if (e.name && !this._canConsumeName) return this._canConsumeName;
          for (const t of ul)
            if (t in e) {
              const i = this._test(t, e[t]);
              if (!0 !== i) return i;
            }
          return !0;
        }
        consume(e) {
          e.name && (this._canConsumeName = !1);
          for (const t of ul) t in e && this._consume(t, e[t]);
        }
        revert(e) {
          e.name && (this._canConsumeName = !0);
          for (const t of ul) t in e && this._revert(t, e[t]);
        }
        _add(e, t) {
          const i = re(t) ? t : [t],
            n = this._consumables[e];
          for (const t of i) {
            if ('attributes' === e && ('class' === t || 'style' === t))
              throw new f('viewconsumable-invalid-attribute', this);
            if ((n.set(t, !0), 'styles' === e))
              for (const e of this.element.document.stylesProcessor.getRelatedStyles(
                t
              ))
                n.set(e, !0);
          }
        }
        _test(e, t) {
          const i = re(t) ? t : [t],
            n = this._consumables[e];
          for (const t of i)
            if ('attributes' !== e || ('class' !== t && 'style' !== t)) {
              const e = n.get(t);
              if (void 0 === e) return null;
              if (!e) return !1;
            } else {
              const e = 'class' == t ? 'classes' : 'styles',
                i = this._test(e, [...this._consumables[e].keys()]);
              if (!0 !== i) return i;
            }
          return !0;
        }
        _consume(e, t) {
          const i = re(t) ? t : [t],
            n = this._consumables[e];
          for (const t of i)
            if ('attributes' !== e || ('class' !== t && 'style' !== t)) {
              if ((n.set(t, !1), 'styles' == e))
                for (const e of this.element.document.stylesProcessor.getRelatedStyles(
                  t
                ))
                  n.set(e, !1);
            } else {
              const e = 'class' == t ? 'classes' : 'styles';
              this._consume(e, [...this._consumables[e].keys()]);
            }
        }
        _revert(e, t) {
          const i = re(t) ? t : [t],
            n = this._consumables[e];
          for (const t of i)
            if ('attributes' !== e || ('class' !== t && 'style' !== t))
              !1 === n.get(t) && n.set(t, !0);
            else {
              const e = 'class' == t ? 'classes' : 'styles';
              this._revert(e, [...this._consumables[e].keys()]);
            }
        }
      }
      class ml extends z() {
        constructor() {
          super(),
            (this._sourceDefinitions = {}),
            (this._attributeProperties = {}),
            this.decorate('checkChild'),
            this.decorate('checkAttribute'),
            this.on(
              'checkAttribute',
              (e, t) => {
                t[0] = new gl(t[0]);
              },
              {priority: 'highest'}
            ),
            this.on(
              'checkChild',
              (e, t) => {
                (t[0] = new gl(t[0])), (t[1] = this.getDefinition(t[1]));
              },
              {priority: 'highest'}
            );
        }
        register(e, t) {
          if (this._sourceDefinitions[e])
            throw new f('schema-cannot-register-item-twice', this, {
              itemName: e,
            });
          (this._sourceDefinitions[e] = [Object.assign({}, t)]),
            this._clearCache();
        }
        extend(e, t) {
          if (!this._sourceDefinitions[e])
            throw new f('schema-cannot-extend-missing-item', this, {
              itemName: e,
            });
          this._sourceDefinitions[e].push(Object.assign({}, t)),
            this._clearCache();
        }
        getDefinitions() {
          return (
            this._compiledDefinitions || this._compile(),
            this._compiledDefinitions
          );
        }
        getDefinition(e) {
          let t;
          return (
            (t =
              'string' == typeof e
                ? e
                : 'is' in e && (e.is('$text') || e.is('$textProxy'))
                ? '$text'
                : e.name),
            this.getDefinitions()[t]
          );
        }
        isRegistered(e) {
          return !!this.getDefinition(e);
        }
        isBlock(e) {
          const t = this.getDefinition(e);
          return !(!t || !t.isBlock);
        }
        isLimit(e) {
          const t = this.getDefinition(e);
          return !(!t || (!t.isLimit && !t.isObject));
        }
        isObject(e) {
          const t = this.getDefinition(e);
          return (
            !!t &&
            !!(t.isObject || (t.isLimit && t.isSelectable && t.isContent))
          );
        }
        isInline(e) {
          const t = this.getDefinition(e);
          return !(!t || !t.isInline);
        }
        isSelectable(e) {
          const t = this.getDefinition(e);
          return !(!t || (!t.isSelectable && !t.isObject));
        }
        isContent(e) {
          const t = this.getDefinition(e);
          return !(!t || (!t.isContent && !t.isObject));
        }
        checkChild(e, t) {
          return !!t && this._checkContextMatch(t, e);
        }
        checkAttribute(e, t) {
          const i = this.getDefinition(e.last);
          return !!i && i.allowAttributes.includes(t);
        }
        checkMerge(e, t) {
          if (e instanceof ma) {
            const t = e.nodeBefore,
              i = e.nodeAfter;
            if (!(t instanceof da))
              throw new f('schema-check-merge-no-element-before', this);
            if (!(i instanceof da))
              throw new f('schema-check-merge-no-element-after', this);
            return this.checkMerge(t, i);
          }
          for (const i of t.getChildren())
            if (!this.checkChild(e, i)) return !1;
          return !0;
        }
        addChildCheck(e) {
          this.on(
            'checkChild',
            (t, [i, n]) => {
              if (!n) return;
              const o = e(i, n);
              'boolean' == typeof o && (t.stop(), (t.return = o));
            },
            {priority: 'high'}
          );
        }
        addAttributeCheck(e) {
          this.on(
            'checkAttribute',
            (t, [i, n]) => {
              const o = e(i, n);
              'boolean' == typeof o && (t.stop(), (t.return = o));
            },
            {priority: 'high'}
          );
        }
        setAttributeProperties(e, t) {
          this._attributeProperties[e] = Object.assign(
            this.getAttributeProperties(e),
            t
          );
        }
        getAttributeProperties(e) {
          return this._attributeProperties[e] || {};
        }
        getLimitElement(e) {
          let t;
          for (
            t =
              e instanceof ma
                ? e.parent
                : (e instanceof wa ? [e] : Array.from(e.getRanges())).reduce(
                    (e, t) => {
                      const i = t.getCommonAncestor();
                      return e ? e.getCommonAncestor(i, {includeSelf: !0}) : i;
                    },
                    null
                  );
            !this.isLimit(t) && t.parent;

          )
            t = t.parent;
          return t;
        }
        checkAttributeInSelection(e, t) {
          if (e.isCollapsed) {
            const i = [
              ...e.getFirstPosition().getAncestors(),
              new la('', e.getAttributes()),
            ];
            return this.checkAttribute(i, t);
          }
          {
            const i = e.getRanges();
            for (const e of i)
              for (const i of e) if (this.checkAttribute(i.item, t)) return !0;
          }
          return !1;
        }
        *getValidRanges(e, t) {
          e = (function* (e) {
            for (const t of e) yield* t.getMinimalFlatRanges();
          })(e);
          for (const i of e) yield* this._getValidRangesForRange(i, t);
        }
        getNearestSelectionRange(e, t = 'both') {
          if (this.checkChild(e, '$text')) return new wa(e);
          let i, n;
          const o =
            e
              .getAncestors()
              .reverse()
              .find((e) => this.isLimit(e)) || e.root;
          ('both' != t && 'backward' != t) ||
            (i = new ua({
              boundaries: wa._createIn(o),
              startPosition: e,
              direction: 'backward',
            })),
            ('both' != t && 'forward' != t) ||
              (n = new ua({boundaries: wa._createIn(o), startPosition: e}));
          for (const e of (function* (e, t) {
            let i = !1;
            for (; !i; ) {
              if (((i = !0), e)) {
                const t = e.next();
                t.done || ((i = !1), yield {walker: e, value: t.value});
              }
              if (t) {
                const e = t.next();
                e.done || ((i = !1), yield {walker: t, value: e.value});
              }
            }
          })(i, n)) {
            const t = e.walker == i ? 'elementEnd' : 'elementStart',
              n = e.value;
            if (n.type == t && this.isObject(n.item))
              return wa._createOn(n.item);
            if (this.checkChild(n.nextPosition, '$text'))
              return new wa(n.nextPosition);
          }
          return null;
        }
        findAllowedParent(e, t) {
          let i = e.parent;
          for (; i; ) {
            if (this.checkChild(i, t)) return i;
            if (this.isLimit(i)) return null;
            i = i.parent;
          }
          return null;
        }
        setAllowedAttributes(e, t, i) {
          const n = i.model;
          for (const [o, r] of Object.entries(t))
            n.schema.checkAttribute(e, o) && i.setAttribute(o, r, e);
        }
        removeDisallowedAttributes(e, t) {
          for (const i of e)
            if (i.is('$text')) Tl(this, i, t);
            else {
              const e = wa._createIn(i).getPositions();
              for (const i of e) Tl(this, i.nodeBefore || i.parent, t);
            }
        }
        getAttributesWithProperty(e, t, i) {
          const n = {};
          for (const [o, r] of e.getAttributes()) {
            const e = this.getAttributeProperties(o);
            void 0 !== e[t] && ((void 0 !== i && i !== e[t]) || (n[o] = r));
          }
          return n;
        }
        createContext(e) {
          return new gl(e);
        }
        _clearCache() {
          this._compiledDefinitions = null;
        }
        _compile() {
          const e = {},
            t = this._sourceDefinitions,
            i = Object.keys(t);
          for (const n of i) e[n] = fl(t[n], n);
          for (const t of i) pl(e, t);
          for (const t of i) bl(e, t);
          for (const t of i) kl(e, t);
          for (const t of i) wl(e, t), _l(e, t);
          for (const t of i) vl(e, t), yl(e, t), xl(e, t);
          this._compiledDefinitions = e;
        }
        _checkContextMatch(e, t, i = t.length - 1) {
          const n = t.getItem(i);
          if (e.allowIn.includes(n.name)) {
            if (0 == i) return !0;
            {
              const e = this.getDefinition(n);
              return this._checkContextMatch(e, t, i - 1);
            }
          }
          return !1;
        }
        *_getValidRangesForRange(e, t) {
          let i = e.start,
            n = e.start;
          for (const o of e.getItems({shallow: !0}))
            o.is('element') &&
              (yield* this._getValidRangesForRange(wa._createIn(o), t)),
              this.checkAttribute(o, t) ||
                (i.isEqual(n) || (yield new wa(i, n)),
                (i = ma._createAfter(o))),
              (n = ma._createAfter(o));
          i.isEqual(n) || (yield new wa(i, n));
        }
      }
      class gl {
        constructor(e) {
          if (e instanceof gl) return e;
          let t;
          (t =
            'string' == typeof e
              ? [e]
              : Array.isArray(e)
              ? e
              : e.getAncestors({includeSelf: !0})),
            (this._items = t.map(El));
        }
        get length() {
          return this._items.length;
        }
        get last() {
          return this._items[this._items.length - 1];
        }
        [Symbol.iterator]() {
          return this._items[Symbol.iterator]();
        }
        push(e) {
          const t = new gl([e]);
          return (t._items = [...this._items, ...t._items]), t;
        }
        getItem(e) {
          return this._items[e];
        }
        *getNames() {
          yield* this._items.map((e) => e.name);
        }
        endsWith(e) {
          return Array.from(this.getNames()).join(' ').endsWith(e);
        }
        startsWith(e) {
          return Array.from(this.getNames()).join(' ').startsWith(e);
        }
      }
      function fl(e, t) {
        const i = {
          name: t,
          allowIn: [],
          allowContentOf: [],
          allowWhere: [],
          allowAttributes: [],
          allowAttributesOf: [],
          allowChildren: [],
          inheritTypesFrom: [],
        };
        return (
          (function (e, t) {
            for (const i of e) {
              const e = Object.keys(i).filter((e) => e.startsWith('is'));
              for (const n of e) t[n] = !!i[n];
            }
          })(e, i),
          Al(e, i, 'allowIn'),
          Al(e, i, 'allowContentOf'),
          Al(e, i, 'allowWhere'),
          Al(e, i, 'allowAttributes'),
          Al(e, i, 'allowAttributesOf'),
          Al(e, i, 'allowChildren'),
          Al(e, i, 'inheritTypesFrom'),
          (function (e, t) {
            for (const i of e) {
              const e = i.inheritAllFrom;
              e &&
                (t.allowContentOf.push(e),
                t.allowWhere.push(e),
                t.allowAttributesOf.push(e),
                t.inheritTypesFrom.push(e));
            }
          })(e, i),
          i
        );
      }
      function pl(e, t) {
        const i = e[t];
        for (const n of i.allowChildren) {
          const i = e[n];
          i && i.allowIn.push(t);
        }
        i.allowChildren.length = 0;
      }
      function bl(e, t) {
        for (const i of e[t].allowContentOf)
          e[i] &&
            Cl(e, i).forEach((e) => {
              e.allowIn.push(t);
            });
        delete e[t].allowContentOf;
      }
      function kl(e, t) {
        for (const i of e[t].allowWhere) {
          const n = e[i];
          if (n) {
            const i = n.allowIn;
            e[t].allowIn.push(...i);
          }
        }
        delete e[t].allowWhere;
      }
      function wl(e, t) {
        for (const i of e[t].allowAttributesOf) {
          const n = e[i];
          if (n) {
            const i = n.allowAttributes;
            e[t].allowAttributes.push(...i);
          }
        }
        delete e[t].allowAttributesOf;
      }
      function _l(e, t) {
        const i = e[t];
        for (const t of i.inheritTypesFrom) {
          const n = e[t];
          if (n) {
            const e = Object.keys(n).filter((e) => e.startsWith('is'));
            for (const t of e) t in i || (i[t] = n[t]);
          }
        }
        delete i.inheritTypesFrom;
      }
      function vl(e, t) {
        const i = e[t],
          n = i.allowIn.filter((t) => e[t]);
        i.allowIn = Array.from(new Set(n));
      }
      function yl(e, t) {
        const i = e[t];
        for (const n of i.allowIn) e[n].allowChildren.push(t);
      }
      function xl(e, t) {
        const i = e[t];
        i.allowAttributes = Array.from(new Set(i.allowAttributes));
      }
      function Al(e, t, i) {
        for (const n of e) {
          const e = n[i];
          'string' == typeof e
            ? t[i].push(e)
            : Array.isArray(e) && t[i].push(...e);
        }
      }
      function Cl(e, t) {
        const i = e[t];
        return ((n = e), Object.keys(n).map((e) => n[e])).filter((e) =>
          e.allowIn.includes(i.name)
        );
        var n;
      }
      function El(e) {
        return 'string' == typeof e || e.is('documentFragment')
          ? {
              name: 'string' == typeof e ? e : '$documentFragment',
              *getAttributeKeys() {},
              getAttribute() {},
            }
          : {
              name: e.is('element') ? e.name : '$text',
              *getAttributeKeys() {
                yield* e.getAttributeKeys();
              },
              getAttribute(t) {
                return e.getAttribute(t);
              },
            };
      }
      function Tl(e, t, i) {
        for (const n of t.getAttributeKeys())
          e.checkAttribute(t, n) || i.removeAttribute(n, t);
      }
      class Sl extends x() {
        constructor(e) {
          super(),
            (this._splitParts = new Map()),
            (this._cursorParents = new Map()),
            (this._modelCursor = null),
            (this._emptyElementsToKeep = new Set()),
            (this.conversionApi = {
              ...e,
              consumable: null,
              writer: null,
              store: null,
              convertItem: (e, t) => this._convertItem(e, t),
              convertChildren: (e, t) => this._convertChildren(e, t),
              safeInsert: (e, t) => this._safeInsert(e, t),
              updateConversionResult: (e, t) =>
                this._updateConversionResult(e, t),
              splitToAllowedParent: (e, t) => this._splitToAllowedParent(e, t),
              getSplitParts: (e) => this._getSplitParts(e),
              keepEmptyElement: (e) => this._keepEmptyElement(e),
            });
        }
        convert(e, t, i = ['$root']) {
          this.fire('viewCleanup', e),
            (this._modelCursor = (function (e, t) {
              let i;
              for (const n of new gl(e)) {
                const e = {};
                for (const t of n.getAttributeKeys()) e[t] = n.getAttribute(t);
                const o = t.createElement(n.name, e);
                i && t.insert(o, i), (i = ma._createAt(o, 0));
              }
              return i;
            })(i, t)),
            (this.conversionApi.writer = t),
            (this.conversionApi.consumable = dl.createFrom(e)),
            (this.conversionApi.store = {});
          const {modelRange: n} = this._convertItem(e, this._modelCursor),
            o = t.createDocumentFragment();
          if (n) {
            this._removeEmptyElements();
            for (const e of Array.from(this._modelCursor.parent.getChildren()))
              t.append(e, o);
            o.markers = (function (e, t) {
              const i = new Set(),
                n = new Map(),
                o = wa._createIn(e).getItems();
              for (const e of o) e.is('element', '$marker') && i.add(e);
              for (const e of i) {
                const i = e.getAttribute('data-name'),
                  o = t.createPositionBefore(e);
                n.has(i)
                  ? (n.get(i).end = o.clone())
                  : n.set(i, new wa(o.clone())),
                  t.remove(e);
              }
              return n;
            })(o, t);
          }
          return (
            (this._modelCursor = null),
            this._splitParts.clear(),
            this._cursorParents.clear(),
            this._emptyElementsToKeep.clear(),
            (this.conversionApi.writer = null),
            (this.conversionApi.store = null),
            o
          );
        }
        _convertItem(e, t) {
          const i = {viewItem: e, modelCursor: t, modelRange: null};
          if (
            (e.is('element')
              ? this.fire(`element:${e.name}`, i, this.conversionApi)
              : e.is('$text')
              ? this.fire('text', i, this.conversionApi)
              : this.fire('documentFragment', i, this.conversionApi),
            i.modelRange && !(i.modelRange instanceof wa))
          )
            throw new f('view-conversion-dispatcher-incorrect-result', this);
          return {modelRange: i.modelRange, modelCursor: i.modelCursor};
        }
        _convertChildren(e, t) {
          let i = t.is('position') ? t : ma._createAt(t, 0);
          const n = new wa(i);
          for (const t of Array.from(e.getChildren())) {
            const e = this._convertItem(t, i);
            e.modelRange instanceof wa &&
              ((n.end = e.modelRange.end), (i = e.modelCursor));
          }
          return {modelRange: n, modelCursor: i};
        }
        _safeInsert(e, t) {
          const i = this._splitToAllowedParent(e, t);
          return !!i && (this.conversionApi.writer.insert(e, i.position), !0);
        }
        _updateConversionResult(e, t) {
          const i = this._getSplitParts(e),
            n = this.conversionApi.writer;
          t.modelRange ||
            (t.modelRange = n.createRange(
              n.createPositionBefore(e),
              n.createPositionAfter(i[i.length - 1])
            ));
          const o = this._cursorParents.get(e);
          t.modelCursor = o ? n.createPositionAt(o, 0) : t.modelRange.end;
        }
        _splitToAllowedParent(e, t) {
          const {schema: i, writer: n} = this.conversionApi;
          let o = i.findAllowedParent(t, e);
          if (o) {
            if (o === t.parent) return {position: t};
            this._modelCursor.parent.getAncestors().includes(o) && (o = null);
          }
          if (!o) return el(t, e, i) ? {position: tl(t, n)} : null;
          const r = this.conversionApi.writer.split(t, o),
            s = [];
          for (const e of r.range.getWalker())
            if ('elementEnd' == e.type) s.push(e.item);
            else {
              const t = s.pop(),
                i = e.item;
              this._registerSplitPair(t, i);
            }
          const a = r.range.end.parent;
          return (
            this._cursorParents.set(e, a),
            {position: r.position, cursorParent: a}
          );
        }
        _registerSplitPair(e, t) {
          this._splitParts.has(e) || this._splitParts.set(e, [e]);
          const i = this._splitParts.get(e);
          this._splitParts.set(t, i), i.push(t);
        }
        _getSplitParts(e) {
          let t;
          return (
            (t = this._splitParts.has(e) ? this._splitParts.get(e) : [e]), t
          );
        }
        _keepEmptyElement(e) {
          this._emptyElementsToKeep.add(e);
        }
        _removeEmptyElements() {
          let e = !1;
          for (const t of this._splitParts.keys())
            t.isEmpty &&
              !this._emptyElementsToKeep.has(t) &&
              (this.conversionApi.writer.remove(t),
              this._splitParts.delete(t),
              (e = !0));
          e && this._removeEmptyElements();
        }
      }
      class Il {
        getHtml(e) {
          const t = document.implementation
            .createHTMLDocument('')
            .createElement('div');
          return t.appendChild(e), t.innerHTML;
        }
      }
      class Pl {
        constructor(e) {
          (this.skipComments = !0),
            (this.domParser = new DOMParser()),
            (this.domConverter = new cs(e, {renderingMode: 'data'})),
            (this.htmlWriter = new Il());
        }
        toData(e) {
          const t = this.domConverter.viewToDom(e);
          return this.htmlWriter.getHtml(t);
        }
        toView(e) {
          const t = this._toDom(e);
          return this.domConverter.domToView(t, {
            skipComments: this.skipComments,
          });
        }
        registerRawContentMatcher(e) {
          this.domConverter.registerRawContentMatcher(e);
        }
        useFillerType(e) {
          this.domConverter.blockFillerMode =
            'marked' == e ? 'markedNbsp' : 'nbsp';
        }
        _toDom(e) {
          e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i) ||
            (e = `<body>${e}</body>`);
          const t = this.domParser.parseFromString(e, 'text/html'),
            i = t.createDocumentFragment(),
            n = t.body.childNodes;
          for (; n.length > 0; ) i.appendChild(n[0]);
          return i;
        }
      }
      class Ml extends x() {
        constructor(e, t) {
          super(),
            (this.model = e),
            (this.mapper = new _a()),
            (this.downcastDispatcher = new xa({
              mapper: this.mapper,
              schema: e.schema,
            })),
            this.downcastDispatcher.on(
              'insert:$text',
              (e, t, i) => {
                if (!i.consumable.consume(t.item, e.name)) return;
                const n = i.writer,
                  o = i.mapper.toViewPosition(t.range.start),
                  r = n.createText(t.item.data);
                n.insert(o, r);
              },
              {priority: 'lowest'}
            ),
            this.downcastDispatcher.on(
              'insert',
              (e, t, i) => {
                i.convertAttributes(t.item),
                  t.reconversion ||
                    !t.item.is('element') ||
                    t.item.isEmpty ||
                    i.convertChildren(t.item);
              },
              {priority: 'lowest'}
            ),
            (this.upcastDispatcher = new Sl({schema: e.schema})),
            (this.viewDocument = new _r(t)),
            (this.stylesProcessor = t),
            (this.htmlProcessor = new Pl(this.viewDocument)),
            (this.processor = this.htmlProcessor),
            (this._viewWriter = new Mr(this.viewDocument)),
            this.upcastDispatcher.on(
              'text',
              (e, t, {schema: i, consumable: n, writer: o}) => {
                let r = t.modelCursor;
                if (!n.test(t.viewItem)) return;
                if (!i.checkChild(r, '$text')) {
                  if (!el(r, '$text', i)) return;
                  if (0 == t.viewItem.data.trim().length) return;
                  const e = r.nodeBefore;
                  (r = tl(r, o)),
                    e &&
                      e.is('element', '$marker') &&
                      (o.move(o.createRangeOn(e), r),
                      (r = o.createPositionAfter(e)));
                }
                n.consume(t.viewItem);
                const s = o.createText(t.viewItem.data);
                o.insert(s, r),
                  (t.modelRange = o.createRange(
                    r,
                    r.getShiftedBy(s.offsetSize)
                  )),
                  (t.modelCursor = t.modelRange.end);
              },
              {priority: 'lowest'}
            ),
            this.upcastDispatcher.on(
              'element',
              (e, t, i) => {
                if (
                  !t.modelRange &&
                  i.consumable.consume(t.viewItem, {name: !0})
                ) {
                  const {modelRange: e, modelCursor: n} = i.convertChildren(
                    t.viewItem,
                    t.modelCursor
                  );
                  (t.modelRange = e), (t.modelCursor = n);
                }
              },
              {priority: 'lowest'}
            ),
            this.upcastDispatcher.on(
              'documentFragment',
              (e, t, i) => {
                if (
                  !t.modelRange &&
                  i.consumable.consume(t.viewItem, {name: !0})
                ) {
                  const {modelRange: e, modelCursor: n} = i.convertChildren(
                    t.viewItem,
                    t.modelCursor
                  );
                  (t.modelRange = e), (t.modelCursor = n);
                }
              },
              {priority: 'lowest'}
            ),
            z().prototype.decorate.call(this, 'init'),
            z().prototype.decorate.call(this, 'set'),
            z().prototype.decorate.call(this, 'get'),
            z().prototype.decorate.call(this, 'toView'),
            z().prototype.decorate.call(this, 'toModel'),
            this.on(
              'init',
              () => {
                this.fire('ready');
              },
              {priority: 'lowest'}
            ),
            this.on(
              'ready',
              () => {
                this.model.enqueueChange({isUndoable: !1}, Xa);
              },
              {priority: 'lowest'}
            );
        }
        get(e = {}) {
          const {rootName: t = 'main', trim: i = 'empty'} = e;
          if (!this._checkIfRootsExists([t]))
            throw new f('datacontroller-get-non-existent-root', this);
          const n = this.model.document.getRoot(t);
          return (
            n.isAttached() || p('datacontroller-get-detached-root', this),
            'empty' !== i || this.model.hasContent(n, {ignoreWhitespaces: !0})
              ? this.stringify(n, e)
              : ''
          );
        }
        stringify(e, t = {}) {
          const i = this.toView(e, t);
          return this.processor.toData(i);
        }
        toView(e, t = {}) {
          const i = this.viewDocument,
            n = this._viewWriter;
          this.mapper.clearBindings();
          const o = wa._createIn(e),
            r = new Pr(i);
          this.mapper.bindElements(e, r);
          const s = e.is('documentFragment')
            ? e.markers
            : (function (e) {
                const t = [],
                  i = e.root.document;
                if (!i) return new Map();
                const n = wa._createIn(e);
                for (const e of i.model.markers) {
                  const i = e.getRange(),
                    o = i.isCollapsed,
                    r = i.start.isEqual(n.start) || i.end.isEqual(n.end);
                  if (o && r) t.push([e.name, i]);
                  else {
                    const o = n.getIntersection(i);
                    o && t.push([e.name, o]);
                  }
                }
                return (
                  t.sort(([e, t], [i, n]) => {
                    if ('after' !== t.end.compareWith(n.start)) return 1;
                    if ('before' !== t.start.compareWith(n.end)) return -1;
                    switch (t.start.compareWith(n.start)) {
                      case 'before':
                        return 1;
                      case 'after':
                        return -1;
                      default:
                        switch (t.end.compareWith(n.end)) {
                          case 'before':
                            return 1;
                          case 'after':
                            return -1;
                          default:
                            return i.localeCompare(e);
                        }
                    }
                  }),
                  new Map(t)
                );
              })(e);
          return this.downcastDispatcher.convert(o, s, n, t), r;
        }
        init(e) {
          if (this.model.document.version)
            throw new f('datacontroller-init-document-not-empty', this);
          let t = {};
          if (
            ('string' == typeof e ? (t.main = e) : (t = e),
            !this._checkIfRootsExists(Object.keys(t)))
          )
            throw new f('datacontroller-init-non-existent-root', this);
          return (
            this.model.enqueueChange({isUndoable: !1}, (e) => {
              for (const i of Object.keys(t)) {
                const n = this.model.document.getRoot(i);
                e.insert(this.parse(t[i], n), n, 0);
              }
            }),
            Promise.resolve()
          );
        }
        set(e, t = {}) {
          let i = {};
          if (
            ('string' == typeof e ? (i.main = e) : (i = e),
            !this._checkIfRootsExists(Object.keys(i)))
          )
            throw new f('datacontroller-set-non-existent-root', this);
          this.model.enqueueChange(t.batchType || {}, (e) => {
            e.setSelection(null),
              e.removeSelectionAttribute(
                this.model.document.selection.getAttributeKeys()
              );
            for (const t of Object.keys(i)) {
              const n = this.model.document.getRoot(t);
              e.remove(e.createRangeIn(n)), e.insert(this.parse(i[t], n), n, 0);
            }
          });
        }
        parse(e, t = '$root') {
          const i = this.processor.toView(e);
          return this.toModel(i, t);
        }
        toModel(e, t = '$root') {
          return this.model.change((i) =>
            this.upcastDispatcher.convert(e, i, t)
          );
        }
        addStyleProcessorRules(e) {
          e(this.stylesProcessor);
        }
        registerRawContentMatcher(e) {
          this.processor &&
            this.processor !== this.htmlProcessor &&
            this.processor.registerRawContentMatcher(e),
            this.htmlProcessor.registerRawContentMatcher(e);
        }
        destroy() {
          this.stopListening();
        }
        _checkIfRootsExists(e) {
          for (const t of e) if (!this.model.document.getRoot(t)) return !1;
          return !0;
        }
      }
      class Rl {
        constructor(e, t) {
          (this._helpers = new Map()),
            (this._downcast = xn(e)),
            this._createConversionHelpers({
              name: 'downcast',
              dispatchers: this._downcast,
              isDowncast: !0,
            }),
            (this._upcast = xn(t)),
            this._createConversionHelpers({
              name: 'upcast',
              dispatchers: this._upcast,
              isDowncast: !1,
            });
        }
        addAlias(e, t) {
          const i = this._downcast.includes(t);
          if (!this._upcast.includes(t) && !i)
            throw new f('conversion-add-alias-dispatcher-not-registered', this);
          this._createConversionHelpers({
            name: e,
            dispatchers: [t],
            isDowncast: i,
          });
        }
        for(e) {
          if (!this._helpers.has(e))
            throw new f('conversion-for-unknown-group', this);
          return this._helpers.get(e);
        }
        elementToElement(e) {
          this.for('downcast').elementToElement(e);
          for (const {model: t, view: i} of Nl(e))
            this.for('upcast').elementToElement({
              model: t,
              view: i,
              converterPriority: e.converterPriority,
            });
        }
        attributeToElement(e) {
          this.for('downcast').attributeToElement(e);
          for (const {model: t, view: i} of Nl(e))
            this.for('upcast').elementToAttribute({
              view: i,
              model: t,
              converterPriority: e.converterPriority,
            });
        }
        attributeToAttribute(e) {
          this.for('downcast').attributeToAttribute(e);
          for (const {model: t, view: i} of Nl(e))
            this.for('upcast').attributeToAttribute({view: i, model: t});
        }
        _createConversionHelpers({name: e, dispatchers: t, isDowncast: i}) {
          if (this._helpers.has(e))
            throw new f('conversion-group-exists', this);
          const n = i ? new Fa(t) : new il(t);
          this._helpers.set(e, n);
        }
      }
      function* Nl(e) {
        if (e.model.values)
          for (const t of e.model.values) {
            const i = {key: e.model.key, value: t},
              n = e.view[t],
              o = e.upcastAlso ? e.upcastAlso[t] : void 0;
            yield* Ol(i, n, o);
          }
        else yield* Ol(e.model, e.view, e.upcastAlso);
      }
      function* Ol(e, t, i) {
        if ((yield {model: e, view: t}, i))
          for (const t of xn(i)) yield {model: e, view: t};
      }
      class Dl {
        constructor(e) {
          (this.baseVersion = e),
            (this.isDocumentOperation = null !== this.baseVersion),
            (this.batch = null);
        }
        _validate() {}
        toJSON() {
          const e = Object.assign({}, this);
          return (
            (e.__className = this.constructor.className),
            delete e.batch,
            delete e.isDocumentOperation,
            e
          );
        }
        static get className() {
          return 'Operation';
        }
        static fromJSON(e, t) {
          return new this(e.baseVersion);
        }
      }
      function Vl(e, t) {
        const i = Bl(t),
          n = i.reduce((e, t) => e + t.offsetSize, 0),
          o = e.parent;
        jl(e);
        const r = e.index;
        return (
          o._insertChild(r, i),
          Fl(o, r + i.length),
          Fl(o, r),
          new wa(e, e.getShiftedBy(n))
        );
      }
      function Ll(e) {
        if (!e.isFlat)
          throw new f('operation-utils-remove-range-not-flat', this);
        const t = e.start.parent;
        jl(e.start), jl(e.end);
        const i = t._removeChildren(e.start.index, e.end.index - e.start.index);
        return Fl(t, e.start.index), i;
      }
      function zl(e, t) {
        if (!e.isFlat) throw new f('operation-utils-move-range-not-flat', this);
        const i = Ll(e);
        return Vl(
          (t = t._getTransformedByDeletion(
            e.start,
            e.end.offset - e.start.offset
          )),
          i
        );
      }
      function Bl(e) {
        const t = [];
        !(function e(i) {
          if ('string' == typeof i) t.push(new la(i));
          else if (i instanceof ca) t.push(new la(i.data, i.getAttributes()));
          else if (i instanceof sa) t.push(i);
          else if (q(i)) for (const t of i) e(t);
        })(e);
        for (let e = 1; e < t.length; e++) {
          const i = t[e],
            n = t[e - 1];
          i instanceof la &&
            n instanceof la &&
            Hl(i, n) &&
            (t.splice(e - 1, 2, new la(n.data + i.data, n.getAttributes())),
            e--);
        }
        return t;
      }
      function Fl(e, t) {
        const i = e.getChild(t - 1),
          n = e.getChild(t);
        if (i && n && i.is('$text') && n.is('$text') && Hl(i, n)) {
          const o = new la(i.data + n.data, i.getAttributes());
          e._removeChildren(t - 1, 2), e._insertChild(t - 1, o);
        }
      }
      function jl(e) {
        const t = e.textNode,
          i = e.parent;
        if (t) {
          const n = e.offset - t.startOffset,
            o = t.index;
          i._removeChildren(o, 1);
          const r = new la(t.data.substr(0, n), t.getAttributes()),
            s = new la(t.data.substr(n), t.getAttributes());
          i._insertChild(o, [r, s]);
        }
      }
      function Hl(e, t) {
        const i = e.getAttributes(),
          n = t.getAttributes();
        for (const e of i) {
          if (e[1] !== t.getAttribute(e[0])) return !1;
          n.next();
        }
        return n.next().done;
      }
      class $l extends Dl {
        constructor(e, t, i, n) {
          super(n),
            (this.sourcePosition = e.clone()),
            (this.sourcePosition.stickiness = 'toNext'),
            (this.howMany = t),
            (this.targetPosition = i.clone()),
            (this.targetPosition.stickiness = 'toNone');
        }
        get type() {
          return '$graveyard' == this.targetPosition.root.rootName
            ? 'remove'
            : '$graveyard' == this.sourcePosition.root.rootName
            ? 'reinsert'
            : 'move';
        }
        clone() {
          return new $l(
            this.sourcePosition,
            this.howMany,
            this.targetPosition,
            this.baseVersion
          );
        }
        getMovedRangeStart() {
          return this.targetPosition._getTransformedByDeletion(
            this.sourcePosition,
            this.howMany
          );
        }
        getReversed() {
          const e = this.sourcePosition._getTransformedByInsertion(
            this.targetPosition,
            this.howMany
          );
          return new $l(
            this.getMovedRangeStart(),
            this.howMany,
            e,
            this.baseVersion + 1
          );
        }
        _validate() {
          const e = this.sourcePosition.parent,
            t = this.targetPosition.parent,
            i = this.sourcePosition.offset,
            n = this.targetPosition.offset;
          if (i + this.howMany > e.maxOffset)
            throw new f('move-operation-nodes-do-not-exist', this);
          if (e === t && i < n && n < i + this.howMany)
            throw new f('move-operation-range-into-itself', this);
          if (
            this.sourcePosition.root == this.targetPosition.root &&
            'prefix' ==
              W(
                this.sourcePosition.getParentPath(),
                this.targetPosition.getParentPath()
              )
          ) {
            const e = this.sourcePosition.path.length - 1;
            if (
              this.targetPosition.path[e] >= i &&
              this.targetPosition.path[e] < i + this.howMany
            )
              throw new f('move-operation-node-into-itself', this);
          }
        }
        _execute() {
          zl(
            wa._createFromPositionAndShift(this.sourcePosition, this.howMany),
            this.targetPosition
          );
        }
        toJSON() {
          const e = super.toJSON();
          return (
            (e.sourcePosition = this.sourcePosition.toJSON()),
            (e.targetPosition = this.targetPosition.toJSON()),
            e
          );
        }
        static get className() {
          return 'MoveOperation';
        }
        static fromJSON(e, t) {
          const i = ma.fromJSON(e.sourcePosition, t),
            n = ma.fromJSON(e.targetPosition, t);
          return new this(i, e.howMany, n, e.baseVersion);
        }
      }
      class Ul extends Dl {
        constructor(e, t, i) {
          super(i),
            (this.position = e.clone()),
            (this.position.stickiness = 'toNone'),
            (this.nodes = new aa(Bl(t))),
            (this.shouldReceiveAttributes = !1);
        }
        get type() {
          return 'insert';
        }
        get howMany() {
          return this.nodes.maxOffset;
        }
        clone() {
          const e = new aa([...this.nodes].map((e) => e._clone(!0))),
            t = new Ul(this.position, e, this.baseVersion);
          return (t.shouldReceiveAttributes = this.shouldReceiveAttributes), t;
        }
        getReversed() {
          const e = this.position.root.document.graveyard,
            t = new ma(e, [0]);
          return new $l(
            this.position,
            this.nodes.maxOffset,
            t,
            this.baseVersion + 1
          );
        }
        _validate() {
          const e = this.position.parent;
          if (!e || e.maxOffset < this.position.offset)
            throw new f('insert-operation-position-invalid', this);
        }
        _execute() {
          const e = this.nodes;
          (this.nodes = new aa([...e].map((e) => e._clone(!0)))),
            Vl(this.position, e);
        }
        toJSON() {
          const e = super.toJSON();
          return (
            (e.position = this.position.toJSON()),
            (e.nodes = this.nodes.toJSON()),
            e
          );
        }
        static get className() {
          return 'InsertOperation';
        }
        static fromJSON(e, t) {
          const i = [];
          for (const t of e.nodes)
            t.name ? i.push(da.fromJSON(t)) : i.push(la.fromJSON(t));
          const n = new Ul(ma.fromJSON(e.position, t), i, e.baseVersion);
          return (n.shouldReceiveAttributes = e.shouldReceiveAttributes), n;
        }
      }
      class Zl extends Dl {
        constructor(e, t, i, n, o) {
          super(o),
            (this.splitPosition = e.clone()),
            (this.splitPosition.stickiness = 'toNext'),
            (this.howMany = t),
            (this.insertionPosition = i),
            (this.graveyardPosition = n ? n.clone() : null),
            this.graveyardPosition &&
              (this.graveyardPosition.stickiness = 'toNext');
        }
        get type() {
          return 'split';
        }
        get moveTargetPosition() {
          const e = this.insertionPosition.path.slice();
          return e.push(0), new ma(this.insertionPosition.root, e);
        }
        get movedRange() {
          const e = this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);
          return new wa(this.splitPosition, e);
        }
        clone() {
          return new Zl(
            this.splitPosition,
            this.howMany,
            this.insertionPosition,
            this.graveyardPosition,
            this.baseVersion
          );
        }
        getReversed() {
          const e = this.splitPosition.root.document.graveyard,
            t = new ma(e, [0]);
          return new Wl(
            this.moveTargetPosition,
            this.howMany,
            this.splitPosition,
            t,
            this.baseVersion + 1
          );
        }
        _validate() {
          const e = this.splitPosition.parent,
            t = this.splitPosition.offset;
          if (!e || e.maxOffset < t)
            throw new f('split-operation-position-invalid', this);
          if (!e.parent) throw new f('split-operation-split-in-root', this);
          if (this.howMany != e.maxOffset - this.splitPosition.offset)
            throw new f('split-operation-how-many-invalid', this);
          if (this.graveyardPosition && !this.graveyardPosition.nodeAfter)
            throw new f('split-operation-graveyard-position-invalid', this);
        }
        _execute() {
          const e = this.splitPosition.parent;
          if (this.graveyardPosition)
            zl(
              wa._createFromPositionAndShift(this.graveyardPosition, 1),
              this.insertionPosition
            );
          else {
            const t = e._clone();
            Vl(this.insertionPosition, t);
          }
          zl(
            new wa(
              ma._createAt(e, this.splitPosition.offset),
              ma._createAt(e, e.maxOffset)
            ),
            this.moveTargetPosition
          );
        }
        toJSON() {
          const e = super.toJSON();
          return (
            (e.splitPosition = this.splitPosition.toJSON()),
            (e.insertionPosition = this.insertionPosition.toJSON()),
            this.graveyardPosition &&
              (e.graveyardPosition = this.graveyardPosition.toJSON()),
            e
          );
        }
        static get className() {
          return 'SplitOperation';
        }
        static getInsertionPosition(e) {
          const t = e.path.slice(0, -1);
          return t[t.length - 1]++, new ma(e.root, t, 'toPrevious');
        }
        static fromJSON(e, t) {
          const i = ma.fromJSON(e.splitPosition, t),
            n = ma.fromJSON(e.insertionPosition, t),
            o = e.graveyardPosition
              ? ma.fromJSON(e.graveyardPosition, t)
              : null;
          return new this(i, e.howMany, n, o, e.baseVersion);
        }
      }
      class Wl extends Dl {
        constructor(e, t, i, n, o) {
          super(o),
            (this.sourcePosition = e.clone()),
            (this.sourcePosition.stickiness = 'toPrevious'),
            (this.howMany = t),
            (this.targetPosition = i.clone()),
            (this.targetPosition.stickiness = 'toNext'),
            (this.graveyardPosition = n.clone());
        }
        get type() {
          return 'merge';
        }
        get deletionPosition() {
          return new ma(
            this.sourcePosition.root,
            this.sourcePosition.path.slice(0, -1)
          );
        }
        get movedRange() {
          const e = this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);
          return new wa(this.sourcePosition, e);
        }
        clone() {
          return new Wl(
            this.sourcePosition,
            this.howMany,
            this.targetPosition,
            this.graveyardPosition,
            this.baseVersion
          );
        }
        getReversed() {
          const e = this.targetPosition._getTransformedByMergeOperation(this),
            t = this.sourcePosition.path.slice(0, -1),
            i = new ma(
              this.sourcePosition.root,
              t
            )._getTransformedByMergeOperation(this);
          return new Zl(
            e,
            this.howMany,
            i,
            this.graveyardPosition,
            this.baseVersion + 1
          );
        }
        _validate() {
          const e = this.sourcePosition.parent,
            t = this.targetPosition.parent;
          if (!e.parent)
            throw new f('merge-operation-source-position-invalid', this);
          if (!t.parent)
            throw new f('merge-operation-target-position-invalid', this);
          if (this.howMany != e.maxOffset)
            throw new f('merge-operation-how-many-invalid', this);
        }
        _execute() {
          const e = this.sourcePosition.parent;
          zl(wa._createIn(e), this.targetPosition),
            zl(wa._createOn(e), this.graveyardPosition);
        }
        toJSON() {
          const e = super.toJSON();
          return (
            (e.sourcePosition = e.sourcePosition.toJSON()),
            (e.targetPosition = e.targetPosition.toJSON()),
            (e.graveyardPosition = e.graveyardPosition.toJSON()),
            e
          );
        }
        static get className() {
          return 'MergeOperation';
        }
        static fromJSON(e, t) {
          const i = ma.fromJSON(e.sourcePosition, t),
            n = ma.fromJSON(e.targetPosition, t),
            o = ma.fromJSON(e.graveyardPosition, t);
          return new this(i, e.howMany, n, o, e.baseVersion);
        }
      }
      class ql extends Dl {
        constructor(e, t, i, n, o, r) {
          super(r),
            (this.name = e),
            (this.oldRange = t ? t.clone() : null),
            (this.newRange = i ? i.clone() : null),
            (this.affectsData = o),
            (this._markers = n);
        }
        get type() {
          return 'marker';
        }
        clone() {
          return new ql(
            this.name,
            this.oldRange,
            this.newRange,
            this._markers,
            this.affectsData,
            this.baseVersion
          );
        }
        getReversed() {
          return new ql(
            this.name,
            this.newRange,
            this.oldRange,
            this._markers,
            this.affectsData,
            this.baseVersion + 1
          );
        }
        _execute() {
          this.newRange
            ? this._markers._set(this.name, this.newRange, !0, this.affectsData)
            : this._markers._remove(this.name);
        }
        toJSON() {
          const e = super.toJSON();
          return (
            this.oldRange && (e.oldRange = this.oldRange.toJSON()),
            this.newRange && (e.newRange = this.newRange.toJSON()),
            delete e._markers,
            e
          );
        }
        static get className() {
          return 'MarkerOperation';
        }
        static fromJSON(e, t) {
          return new ql(
            e.name,
            e.oldRange ? wa.fromJSON(e.oldRange, t) : null,
            e.newRange ? wa.fromJSON(e.newRange, t) : null,
            t.model.markers,
            e.affectsData,
            e.baseVersion
          );
        }
      }
      var Gl = function (e, t) {
        return Ws(e, t);
      };
      class Yl extends Dl {
        constructor(e, t, i, n, o) {
          super(o),
            (this.range = e.clone()),
            (this.key = t),
            (this.oldValue = void 0 === i ? null : i),
            (this.newValue = void 0 === n ? null : n);
        }
        get type() {
          return null === this.oldValue
            ? 'addAttribute'
            : null === this.newValue
            ? 'removeAttribute'
            : 'changeAttribute';
        }
        clone() {
          return new Yl(
            this.range,
            this.key,
            this.oldValue,
            this.newValue,
            this.baseVersion
          );
        }
        getReversed() {
          return new Yl(
            this.range,
            this.key,
            this.newValue,
            this.oldValue,
            this.baseVersion + 1
          );
        }
        toJSON() {
          const e = super.toJSON();
          return (e.range = this.range.toJSON()), e;
        }
        _validate() {
          if (!this.range.isFlat)
            throw new f('attribute-operation-range-not-flat', this);
          for (const e of this.range.getItems({shallow: !0})) {
            if (
              null !== this.oldValue &&
              !Gl(e.getAttribute(this.key), this.oldValue)
            )
              throw new f('attribute-operation-wrong-old-value', this, {
                item: e,
                key: this.key,
                value: this.oldValue,
              });
            if (
              null === this.oldValue &&
              null !== this.newValue &&
              e.hasAttribute(this.key)
            )
              throw new f('attribute-operation-attribute-exists', this, {
                node: e,
                key: this.key,
              });
          }
        }
        _execute() {
          Gl(this.oldValue, this.newValue) ||
            (function (e, t, i) {
              jl(e.start), jl(e.end);
              for (const n of e.getItems({shallow: !0})) {
                const e = n.is('$textProxy') ? n.textNode : n;
                null !== i ? e._setAttribute(t, i) : e._removeAttribute(t),
                  Fl(e.parent, e.index);
              }
              Fl(e.end.parent, e.end.index);
            })(this.range, this.key, this.newValue);
        }
        static get className() {
          return 'AttributeOperation';
        }
        static fromJSON(e, t) {
          return new Yl(
            wa.fromJSON(e.range, t),
            e.key,
            e.oldValue,
            e.newValue,
            e.baseVersion
          );
        }
      }
      class Kl extends Dl {
        get type() {
          return 'noop';
        }
        clone() {
          return new Kl(this.baseVersion);
        }
        getReversed() {
          return new Kl(this.baseVersion + 1);
        }
        _execute() {}
        static get className() {
          return 'NoOperation';
        }
      }
      class Ql extends Dl {
        constructor(e, t, i, n) {
          super(n),
            (this.position = e),
            (this.position.stickiness = 'toNext'),
            (this.oldName = t),
            (this.newName = i);
        }
        get type() {
          return 'rename';
        }
        clone() {
          return new Ql(
            this.position.clone(),
            this.oldName,
            this.newName,
            this.baseVersion
          );
        }
        getReversed() {
          return new Ql(
            this.position.clone(),
            this.newName,
            this.oldName,
            this.baseVersion + 1
          );
        }
        _validate() {
          const e = this.position.nodeAfter;
          if (!(e instanceof da))
            throw new f('rename-operation-wrong-position', this);
          if (e.name !== this.oldName)
            throw new f('rename-operation-wrong-name', this);
        }
        _execute() {
          this.position.nodeAfter.name = this.newName;
        }
        toJSON() {
          const e = super.toJSON();
          return (e.position = this.position.toJSON()), e;
        }
        static get className() {
          return 'RenameOperation';
        }
        static fromJSON(e, t) {
          return new Ql(
            ma.fromJSON(e.position, t),
            e.oldName,
            e.newName,
            e.baseVersion
          );
        }
      }
      class Jl extends Dl {
        constructor(e, t, i, n, o) {
          super(o),
            (this.root = e),
            (this.key = t),
            (this.oldValue = void 0 === i ? null : i),
            (this.newValue = void 0 === n ? null : n);
        }
        get type() {
          return null === this.oldValue
            ? 'addRootAttribute'
            : null === this.newValue
            ? 'removeRootAttribute'
            : 'changeRootAttribute';
        }
        clone() {
          return new Jl(
            this.root,
            this.key,
            this.oldValue,
            this.newValue,
            this.baseVersion
          );
        }
        getReversed() {
          return new Jl(
            this.root,
            this.key,
            this.newValue,
            this.oldValue,
            this.baseVersion + 1
          );
        }
        _validate() {
          if (this.root != this.root.root || this.root.is('documentFragment'))
            throw new f('rootattribute-operation-not-a-root', this, {
              root: this.root,
              key: this.key,
            });
          if (
            null !== this.oldValue &&
            this.root.getAttribute(this.key) !== this.oldValue
          )
            throw new f('rootattribute-operation-wrong-old-value', this, {
              root: this.root,
              key: this.key,
            });
          if (
            null === this.oldValue &&
            null !== this.newValue &&
            this.root.hasAttribute(this.key)
          )
            throw new f('rootattribute-operation-attribute-exists', this, {
              root: this.root,
              key: this.key,
            });
        }
        _execute() {
          null !== this.newValue
            ? this.root._setAttribute(this.key, this.newValue)
            : this.root._removeAttribute(this.key);
        }
        toJSON() {
          const e = super.toJSON();
          return (e.root = this.root.toJSON()), e;
        }
        static get className() {
          return 'RootAttributeOperation';
        }
        static fromJSON(e, t) {
          if (!t.getRoot(e.root))
            throw new f('rootattribute-operation-fromjson-no-root', this, {
              rootName: e.root,
            });
          return new Jl(
            t.getRoot(e.root),
            e.key,
            e.oldValue,
            e.newValue,
            e.baseVersion
          );
        }
      }
      class Xl extends Dl {
        constructor(e, t, i, n, o) {
          super(o),
            (this.rootName = e),
            (this.elementName = t),
            (this.isAdd = i),
            (this._document = n),
            this._document.getRoot(this.rootName) ||
              (this._document.createRoot(
                this.elementName,
                this.rootName
              )._isAttached = !1);
        }
        get type() {
          return this.isAdd ? 'addRoot' : 'detachRoot';
        }
        clone() {
          return new Xl(
            this.rootName,
            this.elementName,
            this.isAdd,
            this._document,
            this.baseVersion
          );
        }
        getReversed() {
          return new Xl(
            this.rootName,
            this.elementName,
            !this.isAdd,
            this._document,
            this.baseVersion + 1
          );
        }
        _validate() {
          const e = this._document.getRoot(this.rootName);
          if (e.isAttached() && this.isAdd)
            throw new f('root-operation-root-attached', this);
          if (!e.isAttached() && !this.isAdd)
            throw new f('root-operation-root-detached', this);
        }
        _execute() {
          this._document.getRoot(this.rootName)._isAttached = this.isAdd;
        }
        toJSON() {
          const e = super.toJSON();
          return delete e._document, e;
        }
        static get className() {
          return 'RootOperation';
        }
        static fromJSON(e, t) {
          return new Xl(e.rootName, e.elementName, e.isAdd, t, e.baseVersion);
        }
      }
      const ec = {};
      (ec[Yl.className] = Yl),
        (ec[Ul.className] = Ul),
        (ec[ql.className] = ql),
        (ec[$l.className] = $l),
        (ec[Kl.className] = Kl),
        (ec[Dl.className] = Dl),
        (ec[Ql.className] = Ql),
        (ec[Jl.className] = Jl),
        (ec[Xl.className] = Xl),
        (ec[Zl.className] = Zl),
        (ec[Wl.className] = Wl);
      class tc {
        static fromJSON(e, t) {
          return ec[e.__className].fromJSON(e, t);
        }
      }
      const ic = new Map();
      function nc(e, t, i) {
        let n = ic.get(e);
        n || ((n = new Map()), ic.set(e, n)), n.set(t, i);
      }
      function oc(e) {
        return [e];
      }
      function rc(e, t, i = {}) {
        const n = (function (e, t) {
          const i = ic.get(e);
          return i && i.has(t) ? i.get(t) : oc;
        })(e.constructor, t.constructor);
        try {
          return n((e = e.clone()), t, i);
        } catch (e) {
          throw e;
        }
      }
      function sc(e, t, i) {
        (e = e.slice()), (t = t.slice());
        const n = new ac(i.document, i.useRelations, i.forceWeakRemove);
        n.setOriginalOperations(e), n.setOriginalOperations(t);
        const o = n.originalOperations;
        if (0 == e.length || 0 == t.length)
          return {operationsA: e, operationsB: t, originalOperations: o};
        const r = new WeakMap();
        for (const t of e) r.set(t, 0);
        const s = {
          nextBaseVersionA: e[e.length - 1].baseVersion + 1,
          nextBaseVersionB: t[t.length - 1].baseVersion + 1,
          originalOperationsACount: e.length,
          originalOperationsBCount: t.length,
        };
        let a = 0;
        for (; a < e.length; ) {
          const i = e[a],
            o = r.get(i);
          if (o == t.length) {
            a++;
            continue;
          }
          const s = t[o],
            l = rc(i, s, n.getContext(i, s, !0)),
            c = rc(s, i, n.getContext(s, i, !1));
          n.updateRelation(i, s),
            n.setOriginalOperations(l, i),
            n.setOriginalOperations(c, s);
          for (const e of l) r.set(e, o + c.length);
          e.splice(a, 1, ...l), t.splice(o, 1, ...c);
        }
        if (i.padWithNoOps) {
          const i = e.length - s.originalOperationsACount,
            n = t.length - s.originalOperationsBCount;
          cc(e, n - i), cc(t, i - n);
        }
        return (
          lc(e, s.nextBaseVersionB),
          lc(t, s.nextBaseVersionA),
          {operationsA: e, operationsB: t, originalOperations: o}
        );
      }
      class ac {
        constructor(e, t, i = !1) {
          (this.originalOperations = new Map()),
            (this._history = e.history),
            (this._useRelations = t),
            (this._forceWeakRemove = !!i),
            (this._relations = new Map());
        }
        setOriginalOperations(e, t = null) {
          const i = t ? this.originalOperations.get(t) : null;
          for (const t of e) this.originalOperations.set(t, i || t);
        }
        updateRelation(e, t) {
          if (e instanceof $l)
            t instanceof Wl
              ? e.targetPosition.isEqual(t.sourcePosition) ||
                t.movedRange.containsPosition(e.targetPosition)
                ? this._setRelation(e, t, 'insertAtSource')
                : e.targetPosition.isEqual(t.deletionPosition)
                ? this._setRelation(e, t, 'insertBetween')
                : e.targetPosition.isAfter(t.sourcePosition) &&
                  this._setRelation(e, t, 'moveTargetAfter')
              : t instanceof $l &&
                (e.targetPosition.isEqual(t.sourcePosition) ||
                e.targetPosition.isBefore(t.sourcePosition)
                  ? this._setRelation(e, t, 'insertBefore')
                  : this._setRelation(e, t, 'insertAfter'));
          else if (e instanceof Zl) {
            if (t instanceof Wl)
              e.splitPosition.isBefore(t.sourcePosition) &&
                this._setRelation(e, t, 'splitBefore');
            else if (t instanceof $l)
              if (
                e.splitPosition.isEqual(t.sourcePosition) ||
                e.splitPosition.isBefore(t.sourcePosition)
              )
                this._setRelation(e, t, 'splitBefore');
              else {
                const i = wa._createFromPositionAndShift(
                  t.sourcePosition,
                  t.howMany
                );
                if (
                  e.splitPosition.hasSameParentAs(t.sourcePosition) &&
                  i.containsPosition(e.splitPosition)
                ) {
                  const n = i.end.offset - e.splitPosition.offset,
                    o = e.splitPosition.offset - i.start.offset;
                  this._setRelation(e, t, {howMany: n, offset: o});
                }
              }
          } else if (e instanceof Wl)
            t instanceof Wl
              ? (e.targetPosition.isEqual(t.sourcePosition) ||
                  this._setRelation(e, t, 'mergeTargetNotMoved'),
                e.sourcePosition.isEqual(t.targetPosition) &&
                  this._setRelation(e, t, 'mergeSourceNotMoved'),
                e.sourcePosition.isEqual(t.sourcePosition) &&
                  this._setRelation(e, t, 'mergeSameElement'))
              : t instanceof Zl &&
                e.sourcePosition.isEqual(t.splitPosition) &&
                this._setRelation(e, t, 'splitAtSource');
          else if (e instanceof ql) {
            const i = e.newRange;
            if (!i) return;
            if (t instanceof $l) {
              const n = wa._createFromPositionAndShift(
                  t.sourcePosition,
                  t.howMany
                ),
                o = n.containsPosition(i.start) || n.start.isEqual(i.start),
                r = n.containsPosition(i.end) || n.end.isEqual(i.end);
              (!o && !r) ||
                n.containsRange(i) ||
                this._setRelation(e, t, {
                  side: o ? 'left' : 'right',
                  path: o ? i.start.path.slice() : i.end.path.slice(),
                });
            } else if (t instanceof Wl) {
              const n = i.start.isEqual(t.targetPosition),
                o = i.start.isEqual(t.deletionPosition),
                r = i.end.isEqual(t.deletionPosition),
                s = i.end.isEqual(t.sourcePosition);
              (n || o || r || s) &&
                this._setRelation(e, t, {
                  wasInLeftElement: n,
                  wasStartBeforeMergedElement: o,
                  wasEndBeforeMergedElement: r,
                  wasInRightElement: s,
                });
            }
          }
        }
        getContext(e, t, i) {
          return {
            aIsStrong: i,
            aWasUndone: this._wasUndone(e),
            bWasUndone: this._wasUndone(t),
            abRelation: this._useRelations ? this._getRelation(e, t) : null,
            baRelation: this._useRelations ? this._getRelation(t, e) : null,
            forceWeakRemove: this._forceWeakRemove,
          };
        }
        _wasUndone(e) {
          const t = this.originalOperations.get(e);
          return t.wasUndone || this._history.isUndoneOperation(t);
        }
        _getRelation(e, t) {
          const i = this.originalOperations.get(t),
            n = this._history.getUndoneOperation(i);
          if (!n) return null;
          const o = this.originalOperations.get(e),
            r = this._relations.get(o);
          return (r && r.get(n)) || null;
        }
        _setRelation(e, t, i) {
          const n = this.originalOperations.get(e),
            o = this.originalOperations.get(t);
          let r = this._relations.get(n);
          r || ((r = new Map()), this._relations.set(n, r)), r.set(o, i);
        }
      }
      function lc(e, t) {
        for (const i of e) i.baseVersion = t++;
      }
      function cc(e, t) {
        for (let i = 0; i < t; i++) e.push(new Kl(0));
      }
      function dc(e, t, i) {
        const n = e.nodes.getNode(0).getAttribute(t);
        if (n == i) return null;
        const o = new wa(e.position, e.position.getShiftedBy(e.howMany));
        return new Yl(o, t, n, i, 0);
      }
      function uc(e, t) {
        return (
          null ===
          e.targetPosition._getTransformedByDeletion(
            t.sourcePosition,
            t.howMany
          )
        );
      }
      function hc(e, t) {
        const i = [];
        for (let n = 0; n < e.length; n++) {
          const o = e[n],
            r = new $l(o.start, o.end.offset - o.start.offset, t, 0);
          i.push(r);
          for (let t = n + 1; t < e.length; t++)
            e[t] = e[t]._getTransformedByMove(
              r.sourcePosition,
              r.targetPosition,
              r.howMany
            )[0];
          t = t._getTransformedByMove(
            r.sourcePosition,
            r.targetPosition,
            r.howMany
          );
        }
        return i;
      }
      nc(Yl, Yl, (e, t, i) => {
        if (e.key === t.key && e.range.start.hasSameParentAs(t.range.start)) {
          const n = e.range
              .getDifference(t.range)
              .map((t) => new Yl(t, e.key, e.oldValue, e.newValue, 0)),
            o = e.range.getIntersection(t.range);
          return (
            o &&
              i.aIsStrong &&
              n.push(new Yl(o, t.key, t.newValue, e.newValue, 0)),
            0 == n.length ? [new Kl(0)] : n
          );
        }
        return [e];
      }),
        nc(Yl, Ul, (e, t) => {
          if (
            e.range.start.hasSameParentAs(t.position) &&
            e.range.containsPosition(t.position)
          ) {
            const i = e.range
              ._getTransformedByInsertion(
                t.position,
                t.howMany,
                !t.shouldReceiveAttributes
              )
              .map(
                (t) => new Yl(t, e.key, e.oldValue, e.newValue, e.baseVersion)
              );
            if (t.shouldReceiveAttributes) {
              const n = dc(t, e.key, e.oldValue);
              n && i.unshift(n);
            }
            return i;
          }
          return (
            (e.range = e.range._getTransformedByInsertion(
              t.position,
              t.howMany,
              !1
            )[0]),
            [e]
          );
        }),
        nc(Yl, Wl, (e, t) => {
          const i = [];
          e.range.start.hasSameParentAs(t.deletionPosition) &&
            (e.range.containsPosition(t.deletionPosition) ||
              e.range.start.isEqual(t.deletionPosition)) &&
            i.push(wa._createFromPositionAndShift(t.graveyardPosition, 1));
          const n = e.range._getTransformedByMergeOperation(t);
          return (
            n.isCollapsed || i.push(n),
            i.map(
              (t) => new Yl(t, e.key, e.oldValue, e.newValue, e.baseVersion)
            )
          );
        }),
        nc(Yl, $l, (e, t) => {
          const i = (function (e, t) {
            const i = wa._createFromPositionAndShift(
              t.sourcePosition,
              t.howMany
            );
            let n = null,
              o = [];
            i.containsRange(e, !0)
              ? (n = e)
              : e.start.hasSameParentAs(i.start)
              ? ((o = e.getDifference(i)), (n = e.getIntersection(i)))
              : (o = [e]);
            const r = [];
            for (let e of o) {
              e = e._getTransformedByDeletion(t.sourcePosition, t.howMany);
              const i = t.getMovedRangeStart(),
                n = e.start.hasSameParentAs(i),
                o = e._getTransformedByInsertion(i, t.howMany, n);
              r.push(...o);
            }
            return (
              n &&
                r.push(
                  n._getTransformedByMove(
                    t.sourcePosition,
                    t.targetPosition,
                    t.howMany,
                    !1
                  )[0]
                ),
              r
            );
          })(e.range, t);
          return i.map(
            (t) => new Yl(t, e.key, e.oldValue, e.newValue, e.baseVersion)
          );
        }),
        nc(Yl, Zl, (e, t) => {
          if (e.range.end.isEqual(t.insertionPosition))
            return t.graveyardPosition || e.range.end.offset++, [e];
          if (
            e.range.start.hasSameParentAs(t.splitPosition) &&
            e.range.containsPosition(t.splitPosition)
          ) {
            const i = e.clone();
            return (
              (i.range = new wa(
                t.moveTargetPosition.clone(),
                e.range.end._getCombined(t.splitPosition, t.moveTargetPosition)
              )),
              (e.range.end = t.splitPosition.clone()),
              (e.range.end.stickiness = 'toPrevious'),
              [e, i]
            );
          }
          return (e.range = e.range._getTransformedBySplitOperation(t)), [e];
        }),
        nc(Ul, Yl, (e, t) => {
          const i = [e];
          if (
            e.shouldReceiveAttributes &&
            e.position.hasSameParentAs(t.range.start) &&
            t.range.containsPosition(e.position)
          ) {
            const n = dc(e, t.key, t.newValue);
            n && i.push(n);
          }
          return i;
        }),
        nc(
          Ul,
          Ul,
          (e, t, i) => (
            (e.position.isEqual(t.position) && i.aIsStrong) ||
              (e.position = e.position._getTransformedByInsertOperation(t)),
            [e]
          )
        ),
        nc(
          Ul,
          $l,
          (e, t) => (
            (e.position = e.position._getTransformedByMoveOperation(t)), [e]
          )
        ),
        nc(
          Ul,
          Zl,
          (e, t) => (
            (e.position = e.position._getTransformedBySplitOperation(t)), [e]
          )
        ),
        nc(
          Ul,
          Wl,
          (e, t) => (
            (e.position = e.position._getTransformedByMergeOperation(t)), [e]
          )
        ),
        nc(
          ql,
          Ul,
          (e, t) => (
            e.oldRange &&
              (e.oldRange = e.oldRange._getTransformedByInsertOperation(t)[0]),
            e.newRange &&
              (e.newRange = e.newRange._getTransformedByInsertOperation(t)[0]),
            [e]
          )
        ),
        nc(ql, ql, (e, t, i) => {
          if (e.name == t.name) {
            if (!i.aIsStrong) return [new Kl(0)];
            e.oldRange = t.newRange ? t.newRange.clone() : null;
          }
          return [e];
        }),
        nc(
          ql,
          Wl,
          (e, t) => (
            e.oldRange &&
              (e.oldRange = e.oldRange._getTransformedByMergeOperation(t)),
            e.newRange &&
              (e.newRange = e.newRange._getTransformedByMergeOperation(t)),
            [e]
          )
        ),
        nc(ql, $l, (e, t, i) => {
          if (
            (e.oldRange &&
              (e.oldRange = wa._createFromRanges(
                e.oldRange._getTransformedByMoveOperation(t)
              )),
            e.newRange)
          ) {
            if (i.abRelation) {
              const n = wa._createFromRanges(
                e.newRange._getTransformedByMoveOperation(t)
              );
              if (
                'left' == i.abRelation.side &&
                t.targetPosition.isEqual(e.newRange.start)
              )
                return (
                  (e.newRange.end = n.end),
                  (e.newRange.start.path = i.abRelation.path),
                  [e]
                );
              if (
                'right' == i.abRelation.side &&
                t.targetPosition.isEqual(e.newRange.end)
              )
                return (
                  (e.newRange.start = n.start),
                  (e.newRange.end.path = i.abRelation.path),
                  [e]
                );
            }
            e.newRange = wa._createFromRanges(
              e.newRange._getTransformedByMoveOperation(t)
            );
          }
          return [e];
        }),
        nc(ql, Zl, (e, t, i) => {
          if (
            (e.oldRange &&
              (e.oldRange = e.oldRange._getTransformedBySplitOperation(t)),
            e.newRange)
          ) {
            if (i.abRelation) {
              const n = e.newRange._getTransformedBySplitOperation(t);
              return (
                e.newRange.start.isEqual(t.splitPosition) &&
                i.abRelation.wasStartBeforeMergedElement
                  ? (e.newRange.start = ma._createAt(t.insertionPosition))
                  : e.newRange.start.isEqual(t.splitPosition) &&
                    !i.abRelation.wasInLeftElement &&
                    (e.newRange.start = ma._createAt(t.moveTargetPosition)),
                e.newRange.end.isEqual(t.splitPosition) &&
                i.abRelation.wasInRightElement
                  ? (e.newRange.end = ma._createAt(t.moveTargetPosition))
                  : e.newRange.end.isEqual(t.splitPosition) &&
                    i.abRelation.wasEndBeforeMergedElement
                  ? (e.newRange.end = ma._createAt(t.insertionPosition))
                  : (e.newRange.end = n.end),
                [e]
              );
            }
            e.newRange = e.newRange._getTransformedBySplitOperation(t);
          }
          return [e];
        }),
        nc(
          Wl,
          Ul,
          (e, t) => (
            e.sourcePosition.hasSameParentAs(t.position) &&
              (e.howMany += t.howMany),
            (e.sourcePosition =
              e.sourcePosition._getTransformedByInsertOperation(t)),
            (e.targetPosition =
              e.targetPosition._getTransformedByInsertOperation(t)),
            [e]
          )
        ),
        nc(Wl, Wl, (e, t, i) => {
          if (
            e.sourcePosition.isEqual(t.sourcePosition) &&
            e.targetPosition.isEqual(t.targetPosition)
          ) {
            if (i.bWasUndone) {
              const i = t.graveyardPosition.path.slice();
              return (
                i.push(0),
                (e.sourcePosition = new ma(t.graveyardPosition.root, i)),
                (e.howMany = 0),
                [e]
              );
            }
            return [new Kl(0)];
          }
          if (
            e.sourcePosition.isEqual(t.sourcePosition) &&
            !e.targetPosition.isEqual(t.targetPosition) &&
            !i.bWasUndone &&
            'splitAtSource' != i.abRelation
          ) {
            const n = '$graveyard' == e.targetPosition.root.rootName,
              o = '$graveyard' == t.targetPosition.root.rootName;
            if ((o && !n) || ((!n || o) && i.aIsStrong)) {
              const i = t.targetPosition._getTransformedByMergeOperation(t),
                n = e.targetPosition._getTransformedByMergeOperation(t);
              return [new $l(i, e.howMany, n, 0)];
            }
            return [new Kl(0)];
          }
          return (
            e.sourcePosition.hasSameParentAs(t.targetPosition) &&
              (e.howMany += t.howMany),
            (e.sourcePosition =
              e.sourcePosition._getTransformedByMergeOperation(t)),
            (e.targetPosition =
              e.targetPosition._getTransformedByMergeOperation(t)),
            (e.graveyardPosition.isEqual(t.graveyardPosition) && i.aIsStrong) ||
              (e.graveyardPosition =
                e.graveyardPosition._getTransformedByMergeOperation(t)),
            [e]
          );
        }),
        nc(Wl, $l, (e, t, i) => {
          const n = wa._createFromPositionAndShift(t.sourcePosition, t.howMany);
          return 'remove' == t.type &&
            !i.bWasUndone &&
            !i.forceWeakRemove &&
            e.deletionPosition.hasSameParentAs(t.sourcePosition) &&
            n.containsPosition(e.sourcePosition)
            ? [new Kl(0)]
            : (e.sourcePosition.hasSameParentAs(t.targetPosition) &&
                (e.howMany += t.howMany),
              e.sourcePosition.hasSameParentAs(t.sourcePosition) &&
                (e.howMany -= t.howMany),
              (e.sourcePosition =
                e.sourcePosition._getTransformedByMoveOperation(t)),
              (e.targetPosition =
                e.targetPosition._getTransformedByMoveOperation(t)),
              e.graveyardPosition.isEqual(t.targetPosition) ||
                (e.graveyardPosition =
                  e.graveyardPosition._getTransformedByMoveOperation(t)),
              [e]);
        }),
        nc(Wl, Zl, (e, t, i) => {
          if (
            (t.graveyardPosition &&
              ((e.graveyardPosition =
                e.graveyardPosition._getTransformedByDeletion(
                  t.graveyardPosition,
                  1
                )),
              e.deletionPosition.isEqual(t.graveyardPosition) &&
                (e.howMany = t.howMany)),
            e.targetPosition.isEqual(t.splitPosition))
          ) {
            const n = 0 != t.howMany,
              o =
                t.graveyardPosition &&
                e.deletionPosition.isEqual(t.graveyardPosition);
            if (n || o || 'mergeTargetNotMoved' == i.abRelation)
              return (
                (e.sourcePosition =
                  e.sourcePosition._getTransformedBySplitOperation(t)),
                [e]
              );
          }
          if (e.sourcePosition.isEqual(t.splitPosition)) {
            if ('mergeSourceNotMoved' == i.abRelation)
              return (
                (e.howMany = 0),
                (e.targetPosition =
                  e.targetPosition._getTransformedBySplitOperation(t)),
                [e]
              );
            if (
              'mergeSameElement' == i.abRelation ||
              e.sourcePosition.offset > 0
            )
              return (
                (e.sourcePosition = t.moveTargetPosition.clone()),
                (e.targetPosition =
                  e.targetPosition._getTransformedBySplitOperation(t)),
                [e]
              );
          }
          return (
            e.sourcePosition.hasSameParentAs(t.splitPosition) &&
              (e.howMany = t.splitPosition.offset),
            (e.sourcePosition =
              e.sourcePosition._getTransformedBySplitOperation(t)),
            (e.targetPosition =
              e.targetPosition._getTransformedBySplitOperation(t)),
            [e]
          );
        }),
        nc($l, Ul, (e, t) => {
          const i = wa
            ._createFromPositionAndShift(e.sourcePosition, e.howMany)
            ._getTransformedByInsertOperation(t, !1)[0];
          return (
            (e.sourcePosition = i.start),
            (e.howMany = i.end.offset - i.start.offset),
            e.targetPosition.isEqual(t.position) ||
              (e.targetPosition =
                e.targetPosition._getTransformedByInsertOperation(t)),
            [e]
          );
        }),
        nc($l, $l, (e, t, i) => {
          const n = wa._createFromPositionAndShift(e.sourcePosition, e.howMany),
            o = wa._createFromPositionAndShift(t.sourcePosition, t.howMany);
          let r,
            s = i.aIsStrong,
            a = !i.aIsStrong;
          if (
            ('insertBefore' == i.abRelation || 'insertAfter' == i.baRelation
              ? (a = !0)
              : ('insertAfter' != i.abRelation &&
                  'insertBefore' != i.baRelation) ||
                (a = !1),
            (r =
              e.targetPosition.isEqual(t.targetPosition) && a
                ? e.targetPosition._getTransformedByDeletion(
                    t.sourcePosition,
                    t.howMany
                  )
                : e.targetPosition._getTransformedByMove(
                    t.sourcePosition,
                    t.targetPosition,
                    t.howMany
                  )),
            uc(e, t) && uc(t, e))
          )
            return [t.getReversed()];
          if (n.containsPosition(t.targetPosition) && n.containsRange(o, !0))
            return (
              (n.start = n.start._getTransformedByMove(
                t.sourcePosition,
                t.targetPosition,
                t.howMany
              )),
              (n.end = n.end._getTransformedByMove(
                t.sourcePosition,
                t.targetPosition,
                t.howMany
              )),
              hc([n], r)
            );
          if (o.containsPosition(e.targetPosition) && o.containsRange(n, !0))
            return (
              (n.start = n.start._getCombined(
                t.sourcePosition,
                t.getMovedRangeStart()
              )),
              (n.end = n.end._getCombined(
                t.sourcePosition,
                t.getMovedRangeStart()
              )),
              hc([n], r)
            );
          const l = W(
            e.sourcePosition.getParentPath(),
            t.sourcePosition.getParentPath()
          );
          if ('prefix' == l || 'extension' == l)
            return (
              (n.start = n.start._getTransformedByMove(
                t.sourcePosition,
                t.targetPosition,
                t.howMany
              )),
              (n.end = n.end._getTransformedByMove(
                t.sourcePosition,
                t.targetPosition,
                t.howMany
              )),
              hc([n], r)
            );
          'remove' != e.type ||
          'remove' == t.type ||
          i.aWasUndone ||
          i.forceWeakRemove
            ? 'remove' == e.type ||
              'remove' != t.type ||
              i.bWasUndone ||
              i.forceWeakRemove ||
              (s = !1)
            : (s = !0);
          const c = [],
            d = n.getDifference(o);
          for (const e of d) {
            (e.start = e.start._getTransformedByDeletion(
              t.sourcePosition,
              t.howMany
            )),
              (e.end = e.end._getTransformedByDeletion(
                t.sourcePosition,
                t.howMany
              ));
            const i =
                'same' ==
                W(
                  e.start.getParentPath(),
                  t.getMovedRangeStart().getParentPath()
                ),
              n = e._getTransformedByInsertion(
                t.getMovedRangeStart(),
                t.howMany,
                i
              );
            c.push(...n);
          }
          const u = n.getIntersection(o);
          return (
            null !== u &&
              s &&
              ((u.start = u.start._getCombined(
                t.sourcePosition,
                t.getMovedRangeStart()
              )),
              (u.end = u.end._getCombined(
                t.sourcePosition,
                t.getMovedRangeStart()
              )),
              0 === c.length
                ? c.push(u)
                : 1 == c.length
                ? o.start.isBefore(n.start) || o.start.isEqual(n.start)
                  ? c.unshift(u)
                  : c.push(u)
                : c.splice(1, 0, u)),
            0 === c.length ? [new Kl(e.baseVersion)] : hc(c, r)
          );
        }),
        nc($l, Zl, (e, t, i) => {
          let n = e.targetPosition.clone();
          (e.targetPosition.isEqual(t.insertionPosition) &&
            t.graveyardPosition &&
            'moveTargetAfter' != i.abRelation) ||
            (n = e.targetPosition._getTransformedBySplitOperation(t));
          const o = wa._createFromPositionAndShift(e.sourcePosition, e.howMany);
          if (o.end.isEqual(t.insertionPosition))
            return (
              t.graveyardPosition || e.howMany++, (e.targetPosition = n), [e]
            );
          if (
            o.start.hasSameParentAs(t.splitPosition) &&
            o.containsPosition(t.splitPosition)
          ) {
            let e = new wa(t.splitPosition, o.end);
            return (
              (e = e._getTransformedBySplitOperation(t)),
              hc([new wa(o.start, t.splitPosition), e], n)
            );
          }
          e.targetPosition.isEqual(t.splitPosition) &&
            'insertAtSource' == i.abRelation &&
            (n = t.moveTargetPosition),
            e.targetPosition.isEqual(t.insertionPosition) &&
              'insertBetween' == i.abRelation &&
              (n = e.targetPosition);
          const r = [o._getTransformedBySplitOperation(t)];
          if (t.graveyardPosition) {
            const n =
              o.start.isEqual(t.graveyardPosition) ||
              o.containsPosition(t.graveyardPosition);
            e.howMany > 1 &&
              n &&
              !i.aWasUndone &&
              r.push(wa._createFromPositionAndShift(t.insertionPosition, 1));
          }
          return hc(r, n);
        }),
        nc($l, Wl, (e, t, i) => {
          const n = wa._createFromPositionAndShift(e.sourcePosition, e.howMany);
          if (
            t.deletionPosition.hasSameParentAs(e.sourcePosition) &&
            n.containsPosition(t.sourcePosition)
          )
            if ('remove' != e.type || i.forceWeakRemove) {
              if (1 == e.howMany)
                return i.bWasUndone
                  ? ((e.sourcePosition = t.graveyardPosition.clone()),
                    (e.targetPosition =
                      e.targetPosition._getTransformedByMergeOperation(t)),
                    [e])
                  : [new Kl(0)];
            } else if (!i.aWasUndone) {
              const i = [];
              let n = t.graveyardPosition.clone(),
                o = t.targetPosition._getTransformedByMergeOperation(t);
              e.howMany > 1 &&
                (i.push(
                  new $l(e.sourcePosition, e.howMany - 1, e.targetPosition, 0)
                ),
                (n = n._getTransformedByMove(
                  e.sourcePosition,
                  e.targetPosition,
                  e.howMany - 1
                )),
                (o = o._getTransformedByMove(
                  e.sourcePosition,
                  e.targetPosition,
                  e.howMany - 1
                )));
              const r = t.deletionPosition._getCombined(
                  e.sourcePosition,
                  e.targetPosition
                ),
                s = new $l(n, 1, r, 0),
                a = s.getMovedRangeStart().path.slice();
              a.push(0);
              const l = new ma(s.targetPosition.root, a);
              o = o._getTransformedByMove(n, r, 1);
              const c = new $l(o, t.howMany, l, 0);
              return i.push(s), i.push(c), i;
            }
          const o = wa
            ._createFromPositionAndShift(e.sourcePosition, e.howMany)
            ._getTransformedByMergeOperation(t);
          return (
            (e.sourcePosition = o.start),
            (e.howMany = o.end.offset - o.start.offset),
            (e.targetPosition =
              e.targetPosition._getTransformedByMergeOperation(t)),
            [e]
          );
        }),
        nc(
          Ql,
          Ul,
          (e, t) => (
            (e.position = e.position._getTransformedByInsertOperation(t)), [e]
          )
        ),
        nc(Ql, Wl, (e, t) =>
          e.position.isEqual(t.deletionPosition)
            ? ((e.position = t.graveyardPosition.clone()),
              (e.position.stickiness = 'toNext'),
              [e])
            : ((e.position = e.position._getTransformedByMergeOperation(t)),
              [e])
        ),
        nc(
          Ql,
          $l,
          (e, t) => (
            (e.position = e.position._getTransformedByMoveOperation(t)), [e]
          )
        ),
        nc(Ql, Ql, (e, t, i) => {
          if (e.position.isEqual(t.position)) {
            if (!i.aIsStrong) return [new Kl(0)];
            e.oldName = t.newName;
          }
          return [e];
        }),
        nc(Ql, Zl, (e, t) => {
          if (
            'same' == W(e.position.path, t.splitPosition.getParentPath()) &&
            !t.graveyardPosition
          ) {
            const t = new Ql(
              e.position.getShiftedBy(1),
              e.oldName,
              e.newName,
              0
            );
            return [e, t];
          }
          return (
            (e.position = e.position._getTransformedBySplitOperation(t)), [e]
          );
        }),
        nc(Jl, Jl, (e, t, i) => {
          if (e.root === t.root && e.key === t.key) {
            if (!i.aIsStrong || e.newValue === t.newValue) return [new Kl(0)];
            e.oldValue = t.newValue;
          }
          return [e];
        }),
        nc(Xl, Xl, (e, t, i) =>
          e.rootName !== t.rootName || e.isAdd !== t.isAdd || i.bWasUndone
            ? [e]
            : [new Kl(0)]
        ),
        nc(
          Zl,
          Ul,
          (e, t) => (
            e.splitPosition.hasSameParentAs(t.position) &&
              e.splitPosition.offset < t.position.offset &&
              (e.howMany += t.howMany),
            (e.splitPosition =
              e.splitPosition._getTransformedByInsertOperation(t)),
            (e.insertionPosition =
              e.insertionPosition._getTransformedByInsertOperation(t)),
            [e]
          )
        ),
        nc(Zl, Wl, (e, t, i) => {
          if (
            !e.graveyardPosition &&
            !i.bWasUndone &&
            e.splitPosition.hasSameParentAs(t.sourcePosition)
          ) {
            const i = t.graveyardPosition.path.slice();
            i.push(0);
            const n = new ma(t.graveyardPosition.root, i),
              o = Zl.getInsertionPosition(new ma(t.graveyardPosition.root, i)),
              r = new Zl(n, 0, o, null, 0);
            return (
              (e.splitPosition =
                e.splitPosition._getTransformedByMergeOperation(t)),
              (e.insertionPosition = Zl.getInsertionPosition(e.splitPosition)),
              (e.graveyardPosition = r.insertionPosition.clone()),
              (e.graveyardPosition.stickiness = 'toNext'),
              [r, e]
            );
          }
          return (
            e.splitPosition.hasSameParentAs(t.deletionPosition) &&
              !e.splitPosition.isAfter(t.deletionPosition) &&
              e.howMany--,
            e.splitPosition.hasSameParentAs(t.targetPosition) &&
              (e.howMany += t.howMany),
            (e.splitPosition =
              e.splitPosition._getTransformedByMergeOperation(t)),
            (e.insertionPosition = Zl.getInsertionPosition(e.splitPosition)),
            e.graveyardPosition &&
              (e.graveyardPosition =
                e.graveyardPosition._getTransformedByMergeOperation(t)),
            [e]
          );
        }),
        nc(Zl, $l, (e, t, i) => {
          const n = wa._createFromPositionAndShift(t.sourcePosition, t.howMany);
          if (e.graveyardPosition) {
            const o =
              n.start.isEqual(e.graveyardPosition) ||
              n.containsPosition(e.graveyardPosition);
            if (!i.bWasUndone && o) {
              const i = e.splitPosition._getTransformedByMoveOperation(t),
                n = e.graveyardPosition._getTransformedByMoveOperation(t),
                o = n.path.slice();
              o.push(0);
              const r = new ma(n.root, o);
              return [new $l(i, e.howMany, r, 0)];
            }
            e.graveyardPosition =
              e.graveyardPosition._getTransformedByMoveOperation(t);
          }
          const o = e.splitPosition.isEqual(t.targetPosition);
          if (
            o &&
            ('insertAtSource' == i.baRelation || 'splitBefore' == i.abRelation)
          )
            return (
              (e.howMany += t.howMany),
              (e.splitPosition = e.splitPosition._getTransformedByDeletion(
                t.sourcePosition,
                t.howMany
              )),
              (e.insertionPosition = Zl.getInsertionPosition(e.splitPosition)),
              [e]
            );
          if (o && i.abRelation && i.abRelation.howMany) {
            const {howMany: t, offset: n} = i.abRelation;
            return (
              (e.howMany += t),
              (e.splitPosition = e.splitPosition.getShiftedBy(n)),
              [e]
            );
          }
          if (
            e.splitPosition.hasSameParentAs(t.sourcePosition) &&
            n.containsPosition(e.splitPosition)
          ) {
            const i =
              t.howMany - (e.splitPosition.offset - t.sourcePosition.offset);
            return (
              (e.howMany -= i),
              e.splitPosition.hasSameParentAs(t.targetPosition) &&
                e.splitPosition.offset < t.targetPosition.offset &&
                (e.howMany += t.howMany),
              (e.splitPosition = t.sourcePosition.clone()),
              (e.insertionPosition = Zl.getInsertionPosition(e.splitPosition)),
              [e]
            );
          }
          return (
            t.sourcePosition.isEqual(t.targetPosition) ||
              (e.splitPosition.hasSameParentAs(t.sourcePosition) &&
                e.splitPosition.offset <= t.sourcePosition.offset &&
                (e.howMany -= t.howMany),
              e.splitPosition.hasSameParentAs(t.targetPosition) &&
                e.splitPosition.offset < t.targetPosition.offset &&
                (e.howMany += t.howMany)),
            (e.splitPosition.stickiness = 'toNone'),
            (e.splitPosition =
              e.splitPosition._getTransformedByMoveOperation(t)),
            (e.splitPosition.stickiness = 'toNext'),
            e.graveyardPosition
              ? (e.insertionPosition =
                  e.insertionPosition._getTransformedByMoveOperation(t))
              : (e.insertionPosition = Zl.getInsertionPosition(
                  e.splitPosition
                )),
            [e]
          );
        }),
        nc(Zl, Zl, (e, t, i) => {
          if (e.splitPosition.isEqual(t.splitPosition)) {
            if (!e.graveyardPosition && !t.graveyardPosition)
              return [new Kl(0)];
            if (
              e.graveyardPosition &&
              t.graveyardPosition &&
              e.graveyardPosition.isEqual(t.graveyardPosition)
            )
              return [new Kl(0)];
            if ('splitBefore' == i.abRelation)
              return (
                (e.howMany = 0),
                (e.graveyardPosition =
                  e.graveyardPosition._getTransformedBySplitOperation(t)),
                [e]
              );
          }
          if (
            e.graveyardPosition &&
            t.graveyardPosition &&
            e.graveyardPosition.isEqual(t.graveyardPosition)
          ) {
            const n = '$graveyard' == e.splitPosition.root.rootName,
              o = '$graveyard' == t.splitPosition.root.rootName;
            if ((o && !n) || ((!n || o) && i.aIsStrong)) {
              const i = [];
              return (
                t.howMany &&
                  i.push(
                    new $l(t.moveTargetPosition, t.howMany, t.splitPosition, 0)
                  ),
                e.howMany &&
                  i.push(
                    new $l(e.splitPosition, e.howMany, e.moveTargetPosition, 0)
                  ),
                i
              );
            }
            return [new Kl(0)];
          }
          if (
            (e.graveyardPosition &&
              (e.graveyardPosition =
                e.graveyardPosition._getTransformedBySplitOperation(t)),
            e.splitPosition.isEqual(t.insertionPosition) &&
              'splitBefore' == i.abRelation)
          )
            return e.howMany++, [e];
          if (
            t.splitPosition.isEqual(e.insertionPosition) &&
            'splitBefore' == i.baRelation
          ) {
            const i = t.insertionPosition.path.slice();
            i.push(0);
            const n = new ma(t.insertionPosition.root, i);
            return [e, new $l(e.insertionPosition, 1, n, 0)];
          }
          return (
            e.splitPosition.hasSameParentAs(t.splitPosition) &&
              e.splitPosition.offset < t.splitPosition.offset &&
              (e.howMany -= t.howMany),
            (e.splitPosition =
              e.splitPosition._getTransformedBySplitOperation(t)),
            (e.insertionPosition = Zl.getInsertionPosition(e.splitPosition)),
            [e]
          );
        });
      class mc extends x(ma) {
        constructor(e, t, i = 'toNone') {
          if ((super(e, t, i), !this.root.is('rootElement')))
            throw new f('model-liveposition-root-not-rootelement', e);
          gc.call(this);
        }
        detach() {
          this.stopListening();
        }
        toPosition() {
          return new ma(this.root, this.path.slice(), this.stickiness);
        }
        static fromPosition(e, t) {
          return new this(e.root, e.path.slice(), t || e.stickiness);
        }
      }
      function gc() {
        this.listenTo(
          this.root.document.model,
          'applyOperation',
          (e, t) => {
            const i = t[0];
            i.isDocumentOperation && fc.call(this, i);
          },
          {priority: 'low'}
        );
      }
      function fc(e) {
        const t = this.getTransformedByOperation(e);
        if (!this.isEqual(t)) {
          const e = this.toPosition();
          (this.path = t.path), (this.root = t.root), this.fire('change', e);
        }
      }
      mc.prototype.is = function (e) {
        return (
          'livePosition' === e ||
          'model:livePosition' === e ||
          'position' == e ||
          'model:position' === e
        );
      };
      class pc {
        constructor(e = {}) {
          'string' == typeof e &&
            ((e = 'transparent' === e ? {isUndoable: !1} : {}),
            p('batch-constructor-deprecated-string-type'));
          const {
            isUndoable: t = !0,
            isLocal: i = !0,
            isUndo: n = !1,
            isTyping: o = !1,
          } = e;
          (this.operations = []),
            (this.isUndoable = t),
            (this.isLocal = i),
            (this.isUndo = n),
            (this.isTyping = o);
        }
        get type() {
          return p('batch-type-deprecated'), 'default';
        }
        get baseVersion() {
          for (const e of this.operations)
            if (null !== e.baseVersion) return e.baseVersion;
          return null;
        }
        addOperation(e) {
          return (e.batch = this), this.operations.push(e), e;
        }
      }
      class bc {
        constructor(e) {
          (this._changesInElement = new Map()),
            (this._elementSnapshots = new Map()),
            (this._changedMarkers = new Map()),
            (this._changedRoots = new Map()),
            (this._changeCount = 0),
            (this._cachedChanges = null),
            (this._cachedChangesWithGraveyard = null),
            (this._refreshedItems = new Set()),
            (this._markerCollection = e);
        }
        get isEmpty() {
          return (
            0 == this._changesInElement.size &&
            0 == this._changedMarkers.size &&
            0 == this._changedRoots.size
          );
        }
        bufferOperation(e) {
          const t = e;
          switch (t.type) {
            case 'insert':
              if (this._isInInsertedElement(t.position.parent)) return;
              this._markInsert(
                t.position.parent,
                t.position.offset,
                t.nodes.maxOffset
              );
              break;
            case 'addAttribute':
            case 'removeAttribute':
            case 'changeAttribute':
              for (const e of t.range.getItems({shallow: !0}))
                this._isInInsertedElement(e.parent) || this._markAttribute(e);
              break;
            case 'remove':
            case 'move':
            case 'reinsert': {
              if (
                t.sourcePosition.isEqual(t.targetPosition) ||
                t.sourcePosition
                  .getShiftedBy(t.howMany)
                  .isEqual(t.targetPosition)
              )
                return;
              const e = this._isInInsertedElement(t.sourcePosition.parent),
                i = this._isInInsertedElement(t.targetPosition.parent);
              e ||
                this._markRemove(
                  t.sourcePosition.parent,
                  t.sourcePosition.offset,
                  t.howMany
                ),
                i ||
                  this._markInsert(
                    t.targetPosition.parent,
                    t.getMovedRangeStart().offset,
                    t.howMany
                  );
              break;
            }
            case 'rename': {
              if (this._isInInsertedElement(t.position.parent)) return;
              this._markRemove(t.position.parent, t.position.offset, 1),
                this._markInsert(t.position.parent, t.position.offset, 1);
              const e = wa._createFromPositionAndShift(t.position, 1);
              for (const t of this._markerCollection.getMarkersIntersectingRange(
                e
              )) {
                const e = t.getData();
                this.bufferMarkerChange(t.name, e, e);
              }
              break;
            }
            case 'split': {
              const e = t.splitPosition.parent;
              this._isInInsertedElement(e) ||
                this._markRemove(e, t.splitPosition.offset, t.howMany),
                this._isInInsertedElement(t.insertionPosition.parent) ||
                  this._markInsert(
                    t.insertionPosition.parent,
                    t.insertionPosition.offset,
                    1
                  ),
                t.graveyardPosition &&
                  this._markRemove(
                    t.graveyardPosition.parent,
                    t.graveyardPosition.offset,
                    1
                  );
              break;
            }
            case 'merge': {
              const e = t.sourcePosition.parent;
              this._isInInsertedElement(e.parent) ||
                this._markRemove(e.parent, e.startOffset, 1);
              const i = t.graveyardPosition.parent;
              this._markInsert(i, t.graveyardPosition.offset, 1);
              const n = t.targetPosition.parent;
              this._isInInsertedElement(n) ||
                this._markInsert(n, t.targetPosition.offset, e.maxOffset);
              break;
            }
            case 'detachRoot':
            case 'addRoot':
              this._bufferRootStateChange(t.rootName, t.isAdd);
              break;
            case 'addRootAttribute':
            case 'removeRootAttribute':
            case 'changeRootAttribute': {
              const e = t.root.rootName;
              this._bufferRootAttributeChange(e, t.key, t.oldValue, t.newValue);
              break;
            }
          }
          this._cachedChanges = null;
        }
        bufferMarkerChange(e, t, i) {
          const n = this._changedMarkers.get(e);
          n
            ? ((n.newMarkerData = i),
              null == n.oldMarkerData.range &&
                null == i.range &&
                this._changedMarkers.delete(e))
            : this._changedMarkers.set(e, {newMarkerData: i, oldMarkerData: t});
        }
        getMarkersToRemove() {
          const e = [];
          for (const [t, i] of this._changedMarkers)
            null != i.oldMarkerData.range &&
              e.push({name: t, range: i.oldMarkerData.range});
          return e;
        }
        getMarkersToAdd() {
          const e = [];
          for (const [t, i] of this._changedMarkers)
            null != i.newMarkerData.range &&
              e.push({name: t, range: i.newMarkerData.range});
          return e;
        }
        getChangedMarkers() {
          return Array.from(this._changedMarkers).map(([e, t]) => ({
            name: e,
            data: {
              oldRange: t.oldMarkerData.range,
              newRange: t.newMarkerData.range,
            },
          }));
        }
        hasDataChanges() {
          if (this._changesInElement.size > 0) return !0;
          if (this._changedRoots.size > 0) return !0;
          for (const {
            newMarkerData: e,
            oldMarkerData: t,
          } of this._changedMarkers.values()) {
            if (e.affectsData !== t.affectsData) return !0;
            if (e.affectsData) {
              const i = e.range && !t.range,
                n = !e.range && t.range,
                o = e.range && t.range && !e.range.isEqual(t.range);
              if (i || n || o) return !0;
            }
          }
          return !1;
        }
        getChanges(e = {}) {
          if (this._cachedChanges)
            return e.includeChangesInGraveyard
              ? this._cachedChangesWithGraveyard.slice()
              : this._cachedChanges.slice();
          let t = [];
          for (const e of this._changesInElement.keys()) {
            const i = this._changesInElement
                .get(e)
                .sort((e, t) =>
                  e.offset === t.offset
                    ? e.type != t.type
                      ? 'remove' == e.type
                        ? -1
                        : 1
                      : 0
                    : e.offset < t.offset
                    ? -1
                    : 1
                ),
              n = this._elementSnapshots.get(e),
              o = kc(e.getChildren()),
              r = wc(n.length, i);
            let s = 0,
              a = 0;
            for (const i of r)
              if ('i' === i) t.push(this._getInsertDiff(e, s, o[s])), s++;
              else if ('r' === i) t.push(this._getRemoveDiff(e, s, n[a])), a++;
              else if ('a' === i) {
                const i = o[s].attributes,
                  r = n[a].attributes;
                let l;
                if ('$text' == o[s].name)
                  l = new wa(ma._createAt(e, s), ma._createAt(e, s + 1));
                else {
                  const t = e.offsetToIndex(s);
                  l = new wa(
                    ma._createAt(e, s),
                    ma._createAt(e.getChild(t), 0)
                  );
                }
                t.push(...this._getAttributesDiff(l, r, i)), s++, a++;
              } else s++, a++;
          }
          t.sort((e, t) =>
            e.position.root != t.position.root
              ? e.position.root.rootName < t.position.root.rootName
                ? -1
                : 1
              : e.position.isEqual(t.position)
              ? e.changeCount - t.changeCount
              : e.position.isBefore(t.position)
              ? -1
              : 1
          );
          for (let e = 1, i = 0; e < t.length; e++) {
            const n = t[i],
              o = t[e],
              r =
                'remove' == n.type &&
                'remove' == o.type &&
                '$text' == n.name &&
                '$text' == o.name &&
                n.position.isEqual(o.position),
              s =
                'insert' == n.type &&
                'insert' == o.type &&
                '$text' == n.name &&
                '$text' == o.name &&
                n.position.parent == o.position.parent &&
                n.position.offset + n.length == o.position.offset,
              a =
                'attribute' == n.type &&
                'attribute' == o.type &&
                n.position.parent == o.position.parent &&
                n.range.isFlat &&
                o.range.isFlat &&
                n.position.offset + n.length == o.position.offset &&
                n.attributeKey == o.attributeKey &&
                n.attributeOldValue == o.attributeOldValue &&
                n.attributeNewValue == o.attributeNewValue;
            r || s || a
              ? (n.length++,
                a && (n.range.end = n.range.end.getShiftedBy(1)),
                (t[e] = null))
              : (i = e);
          }
          t = t.filter((e) => e);
          for (const e of t)
            delete e.changeCount,
              'attribute' == e.type && (delete e.position, delete e.length);
          return (
            (this._changeCount = 0),
            (this._cachedChangesWithGraveyard = t),
            (this._cachedChanges = t.filter(_c)),
            e.includeChangesInGraveyard
              ? this._cachedChangesWithGraveyard.slice()
              : this._cachedChanges.slice()
          );
        }
        getChangedRoots() {
          return Array.from(this._changedRoots.values()).map((e) => {
            const t = {...e};
            return void 0 !== t.state && delete t.attributes, t;
          });
        }
        getRefreshedItems() {
          return new Set(this._refreshedItems);
        }
        reset() {
          this._changesInElement.clear(),
            this._elementSnapshots.clear(),
            this._changedMarkers.clear(),
            this._changedRoots.clear(),
            (this._refreshedItems = new Set()),
            (this._cachedChanges = null);
        }
        _bufferRootStateChange(e, t) {
          if (!this._changedRoots.has(e))
            return void this._changedRoots.set(e, {
              name: e,
              state: t ? 'attached' : 'detached',
            });
          const i = this._changedRoots.get(e);
          void 0 !== i.state
            ? (delete i.state,
              void 0 === i.attributes && this._changedRoots.delete(e))
            : (i.state = t ? 'attached' : 'detached');
        }
        _bufferRootAttributeChange(e, t, i, n) {
          const o = this._changedRoots.get(e) || {name: e},
            r = o.attributes || {};
          if (r[t]) {
            const e = r[t];
            n === e.oldValue ? delete r[t] : (e.newValue = n);
          } else r[t] = {oldValue: i, newValue: n};
          0 === Object.entries(r).length
            ? (delete o.attributes,
              void 0 === o.state && this._changedRoots.delete(e))
            : ((o.attributes = r), this._changedRoots.set(e, o));
        }
        _refreshItem(e) {
          if (this._isInInsertedElement(e.parent)) return;
          this._markRemove(e.parent, e.startOffset, e.offsetSize),
            this._markInsert(e.parent, e.startOffset, e.offsetSize),
            this._refreshedItems.add(e);
          const t = wa._createOn(e);
          for (const e of this._markerCollection.getMarkersIntersectingRange(
            t
          )) {
            const t = e.getData();
            this.bufferMarkerChange(e.name, t, t);
          }
          this._cachedChanges = null;
        }
        _markInsert(e, t, i) {
          const n = {
            type: 'insert',
            offset: t,
            howMany: i,
            count: this._changeCount++,
          };
          this._markChange(e, n);
        }
        _markRemove(e, t, i) {
          const n = {
            type: 'remove',
            offset: t,
            howMany: i,
            count: this._changeCount++,
          };
          this._markChange(e, n), this._removeAllNestedChanges(e, t, i);
        }
        _markAttribute(e) {
          const t = {
            type: 'attribute',
            offset: e.startOffset,
            howMany: e.offsetSize,
            count: this._changeCount++,
          };
          this._markChange(e.parent, t);
        }
        _markChange(e, t) {
          this._makeSnapshot(e);
          const i = this._getChangesForElement(e);
          this._handleChange(t, i), i.push(t);
          for (let e = 0; e < i.length; e++)
            i[e].howMany < 1 && (i.splice(e, 1), e--);
        }
        _getChangesForElement(e) {
          let t;
          return (
            this._changesInElement.has(e)
              ? (t = this._changesInElement.get(e))
              : ((t = []), this._changesInElement.set(e, t)),
            t
          );
        }
        _makeSnapshot(e) {
          this._elementSnapshots.has(e) ||
            this._elementSnapshots.set(e, kc(e.getChildren()));
        }
        _handleChange(e, t) {
          e.nodesToHandle = e.howMany;
          for (const i of t) {
            const n = e.offset + e.howMany,
              o = i.offset + i.howMany;
            if (
              'insert' == e.type &&
              ('insert' == i.type &&
                (e.offset <= i.offset
                  ? (i.offset += e.howMany)
                  : e.offset < o &&
                    ((i.howMany += e.nodesToHandle), (e.nodesToHandle = 0))),
              'remove' == i.type &&
                e.offset < i.offset &&
                (i.offset += e.howMany),
              'attribute' == i.type)
            )
              if (e.offset <= i.offset) i.offset += e.howMany;
              else if (e.offset < o) {
                const o = i.howMany;
                (i.howMany = e.offset - i.offset),
                  t.unshift({
                    type: 'attribute',
                    offset: n,
                    howMany: o - i.howMany,
                    count: this._changeCount++,
                  });
              }
            if ('remove' == e.type) {
              if ('insert' == i.type)
                if (n <= i.offset) i.offset -= e.howMany;
                else if (n <= o)
                  if (e.offset < i.offset) {
                    const t = n - i.offset;
                    (i.offset = e.offset),
                      (i.howMany -= t),
                      (e.nodesToHandle -= t);
                  } else (i.howMany -= e.nodesToHandle), (e.nodesToHandle = 0);
                else if (e.offset <= i.offset)
                  (e.nodesToHandle -= i.howMany), (i.howMany = 0);
                else if (e.offset < o) {
                  const t = o - e.offset;
                  (i.howMany -= t), (e.nodesToHandle -= t);
                }
              if (
                ('remove' == i.type &&
                  (n <= i.offset
                    ? (i.offset -= e.howMany)
                    : e.offset < i.offset &&
                      ((e.nodesToHandle += i.howMany), (i.howMany = 0))),
                'attribute' == i.type)
              )
                if (n <= i.offset) i.offset -= e.howMany;
                else if (e.offset < i.offset) {
                  const t = n - i.offset;
                  (i.offset = e.offset), (i.howMany -= t);
                } else if (e.offset < o)
                  if (n <= o) {
                    const n = i.howMany;
                    i.howMany = e.offset - i.offset;
                    const o = n - i.howMany - e.nodesToHandle;
                    t.unshift({
                      type: 'attribute',
                      offset: e.offset,
                      howMany: o,
                      count: this._changeCount++,
                    });
                  } else i.howMany -= o - e.offset;
            }
            if ('attribute' == e.type) {
              if ('insert' == i.type)
                if (e.offset < i.offset && n > i.offset) {
                  if (n > o) {
                    const e = {
                      type: 'attribute',
                      offset: o,
                      howMany: n - o,
                      count: this._changeCount++,
                    };
                    this._handleChange(e, t), t.push(e);
                  }
                  (e.nodesToHandle = i.offset - e.offset),
                    (e.howMany = e.nodesToHandle);
                } else
                  e.offset >= i.offset &&
                    e.offset < o &&
                    (n > o
                      ? ((e.nodesToHandle = n - o), (e.offset = o))
                      : (e.nodesToHandle = 0));
              if ('remove' == i.type && e.offset < i.offset && n > i.offset) {
                const o = {
                  type: 'attribute',
                  offset: i.offset,
                  howMany: n - i.offset,
                  count: this._changeCount++,
                };
                this._handleChange(o, t),
                  t.push(o),
                  (e.nodesToHandle = i.offset - e.offset),
                  (e.howMany = e.nodesToHandle);
              }
              'attribute' == i.type &&
                (e.offset >= i.offset && n <= o
                  ? ((e.nodesToHandle = 0), (e.howMany = 0), (e.offset = 0))
                  : e.offset <= i.offset && n >= o && (i.howMany = 0));
            }
          }
          (e.howMany = e.nodesToHandle), delete e.nodesToHandle;
        }
        _getInsertDiff(e, t, i) {
          return {
            type: 'insert',
            position: ma._createAt(e, t),
            name: i.name,
            attributes: new Map(i.attributes),
            length: 1,
            changeCount: this._changeCount++,
          };
        }
        _getRemoveDiff(e, t, i) {
          return {
            type: 'remove',
            position: ma._createAt(e, t),
            name: i.name,
            attributes: new Map(i.attributes),
            length: 1,
            changeCount: this._changeCount++,
          };
        }
        _getAttributesDiff(e, t, i) {
          const n = [];
          i = new Map(i);
          for (const [o, r] of t) {
            const t = i.has(o) ? i.get(o) : null;
            t !== r &&
              n.push({
                type: 'attribute',
                position: e.start,
                range: e.clone(),
                length: 1,
                attributeKey: o,
                attributeOldValue: r,
                attributeNewValue: t,
                changeCount: this._changeCount++,
              }),
              i.delete(o);
          }
          for (const [t, o] of i)
            n.push({
              type: 'attribute',
              position: e.start,
              range: e.clone(),
              length: 1,
              attributeKey: t,
              attributeOldValue: null,
              attributeNewValue: o,
              changeCount: this._changeCount++,
            });
          return n;
        }
        _isInInsertedElement(e) {
          const t = e.parent;
          if (!t) return !1;
          const i = this._changesInElement.get(t),
            n = e.startOffset;
          if (i)
            for (const e of i)
              if (
                'insert' == e.type &&
                n >= e.offset &&
                n < e.offset + e.howMany
              )
                return !0;
          return this._isInInsertedElement(t);
        }
        _removeAllNestedChanges(e, t, i) {
          const n = new wa(ma._createAt(e, t), ma._createAt(e, t + i));
          for (const e of n.getItems({shallow: !0}))
            e.is('element') &&
              (this._elementSnapshots.delete(e),
              this._changesInElement.delete(e),
              this._removeAllNestedChanges(e, 0, e.maxOffset));
        }
      }
      function kc(e) {
        const t = [];
        for (const i of e)
          if (i.is('$text'))
            for (let e = 0; e < i.data.length; e++)
              t.push({name: '$text', attributes: new Map(i.getAttributes())});
          else t.push({name: i.name, attributes: new Map(i.getAttributes())});
        return t;
      }
      function wc(e, t) {
        const i = [];
        let n = 0,
          o = 0;
        for (const e of t) {
          if (e.offset > n) {
            for (let t = 0; t < e.offset - n; t++) i.push('e');
            o += e.offset - n;
          }
          if ('insert' == e.type) {
            for (let t = 0; t < e.howMany; t++) i.push('i');
            n = e.offset + e.howMany;
          } else if ('remove' == e.type) {
            for (let t = 0; t < e.howMany; t++) i.push('r');
            (n = e.offset), (o += e.howMany);
          } else
            i.push(...'a'.repeat(e.howMany).split('')),
              (n = e.offset + e.howMany),
              (o += e.howMany);
        }
        if (o < e) for (let t = 0; t < e - o - n; t++) i.push('e');
        return i;
      }
      function _c(e) {
        const t = 'position' in e && '$graveyard' == e.position.root.rootName,
          i = 'range' in e && '$graveyard' == e.range.root.rootName;
        return !t && !i;
      }
      class vc {
        constructor() {
          (this._operations = []),
            (this._undoPairs = new Map()),
            (this._undoneOperations = new Set()),
            (this._baseVersionToOperationIndex = new Map()),
            (this._version = 0),
            (this._gaps = new Map());
        }
        get version() {
          return this._version;
        }
        set version(e) {
          this._operations.length &&
            e > this._version + 1 &&
            this._gaps.set(this._version, e),
            (this._version = e);
        }
        get lastOperation() {
          return this._operations[this._operations.length - 1];
        }
        addOperation(e) {
          if (e.baseVersion !== this.version)
            throw new f(
              'model-document-history-addoperation-incorrect-version',
              this,
              {operation: e, historyVersion: this.version}
            );
          this._operations.push(e),
            this._version++,
            this._baseVersionToOperationIndex.set(
              e.baseVersion,
              this._operations.length - 1
            );
        }
        getOperations(e, t = this.version) {
          if (!this._operations.length) return [];
          const i = this._operations[0];
          void 0 === e && (e = i.baseVersion);
          let n = t - 1;
          for (const [t, i] of this._gaps)
            e > t && e < i && (e = i), n > t && n < i && (n = t - 1);
          if (n < i.baseVersion || e > this.lastOperation.baseVersion)
            return [];
          let o = this._baseVersionToOperationIndex.get(e);
          void 0 === o && (o = 0);
          let r = this._baseVersionToOperationIndex.get(n);
          return (
            void 0 === r && (r = this._operations.length - 1),
            this._operations.slice(o, r + 1)
          );
        }
        getOperation(e) {
          const t = this._baseVersionToOperationIndex.get(e);
          if (void 0 !== t) return this._operations[t];
        }
        setOperationAsUndone(e, t) {
          this._undoPairs.set(t, e), this._undoneOperations.add(e);
        }
        isUndoingOperation(e) {
          return this._undoPairs.has(e);
        }
        isUndoneOperation(e) {
          return this._undoneOperations.has(e);
        }
        getUndoneOperation(e) {
          return this._undoPairs.get(e);
        }
        reset() {
          (this._version = 0),
            (this._undoPairs = new Map()),
            (this._operations = []),
            (this._undoneOperations = new Set()),
            (this._gaps = new Map()),
            (this._baseVersionToOperationIndex = new Map());
        }
      }
      class yc extends da {
        constructor(e, t, i = 'main') {
          super(t),
            (this._isAttached = !0),
            (this._document = e),
            (this.rootName = i);
        }
        get document() {
          return this._document;
        }
        isAttached() {
          return this._isAttached;
        }
        toJSON() {
          return this.rootName;
        }
      }
      yc.prototype.is = function (e, t) {
        return t
          ? t === this.name &&
              ('rootElement' === e ||
                'model:rootElement' === e ||
                'element' === e ||
                'model:element' === e)
          : 'rootElement' === e ||
              'model:rootElement' === e ||
              'element' === e ||
              'model:element' === e ||
              'node' === e ||
              'model:node' === e;
      };
      const xc = '$graveyard';
      class Ac extends x() {
        constructor(e) {
          super(),
            (this.model = e),
            (this.history = new vc()),
            (this.selection = new Da(this)),
            (this.roots = new Tn({idProperty: 'rootName'})),
            (this.differ = new bc(e.markers)),
            (this._postFixers = new Set()),
            (this._hasSelectionChangedFromTheLastChangeBlock = !1),
            this.createRoot('$root', xc),
            this.listenTo(
              e,
              'applyOperation',
              (e, t) => {
                const i = t[0];
                i.isDocumentOperation && this.differ.bufferOperation(i);
              },
              {priority: 'high'}
            ),
            this.listenTo(
              e,
              'applyOperation',
              (e, t) => {
                const i = t[0];
                i.isDocumentOperation && this.history.addOperation(i);
              },
              {priority: 'low'}
            ),
            this.listenTo(this.selection, 'change', () => {
              this._hasSelectionChangedFromTheLastChangeBlock = !0;
            }),
            this.listenTo(e.markers, 'update', (e, t, i, n, o) => {
              const r = {...t.getData(), range: n};
              this.differ.bufferMarkerChange(t.name, o, r),
                null === i &&
                  t.on('change', (e, i) => {
                    const n = t.getData();
                    this.differ.bufferMarkerChange(t.name, {...n, range: i}, n);
                  });
            }),
            this.registerPostFixer((e) => {
              let t = !1;
              for (const i of this.roots)
                i.isAttached() ||
                  i.isEmpty ||
                  (e.remove(e.createRangeIn(i)), (t = !0));
              for (const i of this.model.markers)
                i.getRange().root.isAttached() || (e.removeMarker(i), (t = !0));
              return t;
            });
        }
        get version() {
          return this.history.version;
        }
        set version(e) {
          this.history.version = e;
        }
        get graveyard() {
          return this.getRoot(xc);
        }
        createRoot(e = '$root', t = 'main') {
          if (this.roots.get(t))
            throw new f('model-document-createroot-name-exists', this, {
              name: t,
            });
          const i = new yc(this, e, t);
          return this.roots.add(i), i;
        }
        destroy() {
          this.selection.destroy(), this.stopListening();
        }
        getRoot(e = 'main') {
          return this.roots.get(e);
        }
        getRootNames(e = !1) {
          return Array.from(this.roots)
            .filter((t) => t.rootName != xc && (e || t.isAttached()))
            .map((e) => e.rootName);
        }
        registerPostFixer(e) {
          this._postFixers.add(e);
        }
        toJSON() {
          const e = lo(this);
          return (
            (e.selection = '[engine.model.DocumentSelection]'),
            (e.model = '[engine.model.Model]'),
            e
          );
        }
        _handleChangeBlock(e) {
          this._hasDocumentChangedFromTheLastChangeBlock() &&
            (this._callPostFixers(e),
            this.selection.refresh(),
            this.differ.hasDataChanges()
              ? this.fire('change:data', e.batch)
              : this.fire('change', e.batch),
            this.selection.refresh(),
            this.differ.reset()),
            (this._hasSelectionChangedFromTheLastChangeBlock = !1);
        }
        _hasDocumentChangedFromTheLastChangeBlock() {
          return (
            !this.differ.isEmpty ||
            this._hasSelectionChangedFromTheLastChangeBlock
          );
        }
        _getDefaultRoot() {
          for (const e of this.roots) if (e !== this.graveyard) return e;
          return this.graveyard;
        }
        _getDefaultRange() {
          const e = this._getDefaultRoot(),
            t = this.model,
            i = t.schema,
            n = t.createPositionFromPath(e, [0]);
          return i.getNearestSelectionRange(n) || t.createRange(n);
        }
        _validateSelectionRange(e) {
          return Cc(e.start) && Cc(e.end);
        }
        _callPostFixers(e) {
          let t = !1;
          do {
            for (const i of this._postFixers)
              if ((this.selection.refresh(), (t = i(e)), t)) break;
          } while (t);
        }
      }
      function Cc(e) {
        const t = e.textNode;
        if (t) {
          const i = t.data,
            n = e.offset - t.startOffset;
          return !Rn(i, n) && !Nn(i, n);
        }
        return !0;
      }
      class Ec extends x() {
        constructor() {
          super(...arguments), (this._markers = new Map());
        }
        [Symbol.iterator]() {
          return this._markers.values();
        }
        has(e) {
          const t = e instanceof Tc ? e.name : e;
          return this._markers.has(t);
        }
        get(e) {
          return this._markers.get(e) || null;
        }
        _set(e, t, i = !1, n = !1) {
          const o = e instanceof Tc ? e.name : e;
          if (o.includes(','))
            throw new f('markercollection-incorrect-marker-name', this);
          const r = this._markers.get(o);
          if (r) {
            const e = r.getData(),
              s = r.getRange();
            let a = !1;
            return (
              s.isEqual(t) || (r._attachLiveRange(Ma.fromRange(t)), (a = !0)),
              i != r.managedUsingOperations &&
                ((r._managedUsingOperations = i), (a = !0)),
              'boolean' == typeof n &&
                n != r.affectsData &&
                ((r._affectsData = n), (a = !0)),
              a && this.fire(`update:${o}`, r, s, t, e),
              r
            );
          }
          const s = Ma.fromRange(t),
            a = new Tc(o, s, i, n);
          return (
            this._markers.set(o, a),
            this.fire(`update:${o}`, a, null, t, {...a.getData(), range: null}),
            a
          );
        }
        _remove(e) {
          const t = e instanceof Tc ? e.name : e,
            i = this._markers.get(t);
          return (
            !!i &&
            (this._markers.delete(t),
            this.fire(`update:${t}`, i, i.getRange(), null, i.getData()),
            this._destroyMarker(i),
            !0)
          );
        }
        _refresh(e) {
          const t = e instanceof Tc ? e.name : e,
            i = this._markers.get(t);
          if (!i)
            throw new f('markercollection-refresh-marker-not-exists', this);
          const n = i.getRange();
          this.fire(`update:${t}`, i, n, n, i.getData());
        }
        *getMarkersAtPosition(e) {
          for (const t of this) t.getRange().containsPosition(e) && (yield t);
        }
        *getMarkersIntersectingRange(e) {
          for (const t of this)
            null !== t.getRange().getIntersection(e) && (yield t);
        }
        destroy() {
          for (const e of this._markers.values()) this._destroyMarker(e);
          (this._markers = null), this.stopListening();
        }
        *getMarkersGroup(e) {
          for (const t of this._markers.values())
            t.name.startsWith(e + ':') && (yield t);
        }
        _destroyMarker(e) {
          e.stopListening(), e._detachLiveRange();
        }
      }
      class Tc extends x(ra) {
        constructor(e, t, i, n) {
          super(),
            (this.name = e),
            (this._liveRange = this._attachLiveRange(t)),
            (this._managedUsingOperations = i),
            (this._affectsData = n);
        }
        get managedUsingOperations() {
          if (!this._liveRange) throw new f('marker-destroyed', this);
          return this._managedUsingOperations;
        }
        get affectsData() {
          if (!this._liveRange) throw new f('marker-destroyed', this);
          return this._affectsData;
        }
        getData() {
          return {
            range: this.getRange(),
            affectsData: this.affectsData,
            managedUsingOperations: this.managedUsingOperations,
          };
        }
        getStart() {
          if (!this._liveRange) throw new f('marker-destroyed', this);
          return this._liveRange.start.clone();
        }
        getEnd() {
          if (!this._liveRange) throw new f('marker-destroyed', this);
          return this._liveRange.end.clone();
        }
        getRange() {
          if (!this._liveRange) throw new f('marker-destroyed', this);
          return this._liveRange.toRange();
        }
        _attachLiveRange(e) {
          return (
            this._liveRange && this._detachLiveRange(),
            e.delegate('change:range').to(this),
            e.delegate('change:content').to(this),
            (this._liveRange = e),
            e
          );
        }
        _detachLiveRange() {
          this._liveRange.stopDelegating('change:range', this),
            this._liveRange.stopDelegating('change:content', this),
            this._liveRange.detach(),
            (this._liveRange = null);
        }
      }
      Tc.prototype.is = function (e) {
        return 'marker' === e || 'model:marker' === e;
      };
      class Sc extends Dl {
        constructor(e, t) {
          super(null), (this.sourcePosition = e.clone()), (this.howMany = t);
        }
        get type() {
          return 'detach';
        }
        toJSON() {
          const e = super.toJSON();
          return (e.sourcePosition = this.sourcePosition.toJSON()), e;
        }
        _validate() {
          if (this.sourcePosition.root.document)
            throw new f('detach-operation-on-document-node', this);
        }
        _execute() {
          Ll(wa._createFromPositionAndShift(this.sourcePosition, this.howMany));
        }
        static get className() {
          return 'DetachOperation';
        }
      }
      class Ic extends ra {
        constructor(e) {
          super(),
            (this.markers = new Map()),
            (this._children = new aa()),
            e && this._insertChild(0, e);
        }
        [Symbol.iterator]() {
          return this.getChildren();
        }
        get childCount() {
          return this._children.length;
        }
        get maxOffset() {
          return this._children.maxOffset;
        }
        get isEmpty() {
          return 0 === this.childCount;
        }
        get nextSibling() {
          return null;
        }
        get previousSibling() {
          return null;
        }
        get root() {
          return this;
        }
        get parent() {
          return null;
        }
        get document() {
          return null;
        }
        isAttached() {
          return !1;
        }
        getAncestors() {
          return [];
        }
        getChild(e) {
          return this._children.getNode(e);
        }
        getChildren() {
          return this._children[Symbol.iterator]();
        }
        getChildIndex(e) {
          return this._children.getNodeIndex(e);
        }
        getChildStartOffset(e) {
          return this._children.getNodeStartOffset(e);
        }
        getPath() {
          return [];
        }
        getNodeByPath(e) {
          let t = this;
          for (const i of e) t = t.getChild(t.offsetToIndex(i));
          return t;
        }
        offsetToIndex(e) {
          return this._children.offsetToIndex(e);
        }
        toJSON() {
          const e = [];
          for (const t of this._children) e.push(t.toJSON());
          return e;
        }
        static fromJSON(e) {
          const t = [];
          for (const i of e)
            i.name ? t.push(da.fromJSON(i)) : t.push(la.fromJSON(i));
          return new Ic(t);
        }
        _appendChild(e) {
          this._insertChild(this.childCount, e);
        }
        _insertChild(e, t) {
          const i = (function (e) {
            return 'string' == typeof e
              ? [new la(e)]
              : (q(e) || (e = [e]),
                Array.from(e).map((e) =>
                  'string' == typeof e
                    ? new la(e)
                    : e instanceof ca
                    ? new la(e.data, e.getAttributes())
                    : e
                ));
          })(t);
          for (const e of i)
            null !== e.parent && e._remove(), (e.parent = this);
          this._children._insertNodes(e, i);
        }
        _removeChildren(e, t = 1) {
          const i = this._children._removeNodes(e, t);
          for (const e of i) e.parent = null;
          return i;
        }
      }
      Ic.prototype.is = function (e) {
        return 'documentFragment' === e || 'model:documentFragment' === e;
      };
      class Pc {
        constructor(e, t) {
          (this.model = e), (this.batch = t);
        }
        createText(e, t) {
          return new la(e, t);
        }
        createElement(e, t) {
          return new da(e, t);
        }
        createDocumentFragment() {
          return new Ic();
        }
        cloneElement(e, t = !0) {
          return e._clone(t);
        }
        insert(e, t, i = 0) {
          if (
            (this._assertWriterUsedCorrectly(), e instanceof la && '' == e.data)
          )
            return;
          const n = ma._createAt(t, i);
          if (e.parent) {
            if (Dc(e.root, n.root)) return void this.move(wa._createOn(e), n);
            if (e.root.document)
              throw new f('model-writer-insert-forbidden-move', this);
            this.remove(e);
          }
          const o = n.root.document ? n.root.document.version : null,
            r = new Ul(n, e, o);
          if (
            (e instanceof la && (r.shouldReceiveAttributes = !0),
            this.batch.addOperation(r),
            this.model.applyOperation(r),
            e instanceof Ic)
          )
            for (const [t, i] of e.markers) {
              const e = ma._createAt(i.root, 0),
                o = {
                  range: new wa(
                    i.start._getCombined(e, n),
                    i.end._getCombined(e, n)
                  ),
                  usingOperation: !0,
                  affectsData: !0,
                };
              this.model.markers.has(t)
                ? this.updateMarker(t, o)
                : this.addMarker(t, o);
            }
        }
        insertText(e, t, i, n) {
          t instanceof Ic || t instanceof da || t instanceof ma
            ? this.insert(this.createText(e), t, i)
            : this.insert(this.createText(e, t), i, n);
        }
        insertElement(e, t, i, n) {
          t instanceof Ic || t instanceof da || t instanceof ma
            ? this.insert(this.createElement(e), t, i)
            : this.insert(this.createElement(e, t), i, n);
        }
        append(e, t) {
          this.insert(e, t, 'end');
        }
        appendText(e, t, i) {
          t instanceof Ic || t instanceof da
            ? this.insert(this.createText(e), t, 'end')
            : this.insert(this.createText(e, t), i, 'end');
        }
        appendElement(e, t, i) {
          t instanceof Ic || t instanceof da
            ? this.insert(this.createElement(e), t, 'end')
            : this.insert(this.createElement(e, t), i, 'end');
        }
        setAttribute(e, t, i) {
          if ((this._assertWriterUsedCorrectly(), i instanceof wa)) {
            const n = i.getMinimalFlatRanges();
            for (const i of n) Mc(this, e, t, i);
          } else Rc(this, e, t, i);
        }
        setAttributes(e, t) {
          for (const [i, n] of Mn(e)) this.setAttribute(i, n, t);
        }
        removeAttribute(e, t) {
          if ((this._assertWriterUsedCorrectly(), t instanceof wa)) {
            const i = t.getMinimalFlatRanges();
            for (const t of i) Mc(this, e, null, t);
          } else Rc(this, e, null, t);
        }
        clearAttributes(e) {
          this._assertWriterUsedCorrectly();
          const t = (e) => {
            for (const t of e.getAttributeKeys()) this.removeAttribute(t, e);
          };
          if (e instanceof wa) for (const i of e.getItems()) t(i);
          else t(e);
        }
        move(e, t, i) {
          if ((this._assertWriterUsedCorrectly(), !(e instanceof wa)))
            throw new f('writer-move-invalid-range', this);
          if (!e.isFlat) throw new f('writer-move-range-not-flat', this);
          const n = ma._createAt(t, i);
          if (n.isEqual(e.start)) return;
          if (
            (this._addOperationForAffectedMarkers('move', e),
            !Dc(e.root, n.root))
          )
            throw new f('writer-move-different-document', this);
          const o = e.root.document ? e.root.document.version : null,
            r = new $l(e.start, e.end.offset - e.start.offset, n, o);
          this.batch.addOperation(r), this.model.applyOperation(r);
        }
        remove(e) {
          this._assertWriterUsedCorrectly();
          const t = (e instanceof wa ? e : wa._createOn(e))
            .getMinimalFlatRanges()
            .reverse();
          for (const e of t)
            this._addOperationForAffectedMarkers('move', e),
              Oc(
                e.start,
                e.end.offset - e.start.offset,
                this.batch,
                this.model
              );
        }
        merge(e) {
          this._assertWriterUsedCorrectly();
          const t = e.nodeBefore,
            i = e.nodeAfter;
          if (
            (this._addOperationForAffectedMarkers('merge', e),
            !(t instanceof da))
          )
            throw new f('writer-merge-no-element-before', this);
          if (!(i instanceof da))
            throw new f('writer-merge-no-element-after', this);
          e.root.document ? this._merge(e) : this._mergeDetached(e);
        }
        createPositionFromPath(e, t, i) {
          return this.model.createPositionFromPath(e, t, i);
        }
        createPositionAt(e, t) {
          return this.model.createPositionAt(e, t);
        }
        createPositionAfter(e) {
          return this.model.createPositionAfter(e);
        }
        createPositionBefore(e) {
          return this.model.createPositionBefore(e);
        }
        createRange(e, t) {
          return this.model.createRange(e, t);
        }
        createRangeIn(e) {
          return this.model.createRangeIn(e);
        }
        createRangeOn(e) {
          return this.model.createRangeOn(e);
        }
        createSelection(...e) {
          return this.model.createSelection(...e);
        }
        _mergeDetached(e) {
          const t = e.nodeBefore,
            i = e.nodeAfter;
          this.move(wa._createIn(i), ma._createAt(t, 'end')), this.remove(i);
        }
        _merge(e) {
          const t = ma._createAt(e.nodeBefore, 'end'),
            i = ma._createAt(e.nodeAfter, 0),
            n = e.root.document.graveyard,
            o = new ma(n, [0]),
            r = e.root.document.version,
            s = new Wl(i, e.nodeAfter.maxOffset, t, o, r);
          this.batch.addOperation(s), this.model.applyOperation(s);
        }
        rename(e, t) {
          if ((this._assertWriterUsedCorrectly(), !(e instanceof da)))
            throw new f('writer-rename-not-element-instance', this);
          const i = e.root.document ? e.root.document.version : null,
            n = new Ql(ma._createBefore(e), e.name, t, i);
          this.batch.addOperation(n), this.model.applyOperation(n);
        }
        split(e, t) {
          this._assertWriterUsedCorrectly();
          let i,
            n,
            o = e.parent;
          if (!o.parent) throw new f('writer-split-element-no-parent', this);
          if (
            (t || (t = o.parent),
            !e.parent.getAncestors({includeSelf: !0}).includes(t))
          )
            throw new f('writer-split-invalid-limit-element', this);
          do {
            const t = o.root.document ? o.root.document.version : null,
              r = o.maxOffset - e.offset,
              s = Zl.getInsertionPosition(e),
              a = new Zl(e, r, s, null, t);
            this.batch.addOperation(a),
              this.model.applyOperation(a),
              i || n || ((i = o), (n = e.parent.nextSibling)),
              (o = (e = this.createPositionAfter(e.parent)).parent);
          } while (o !== t);
          return {
            position: e,
            range: new wa(ma._createAt(i, 'end'), ma._createAt(n, 0)),
          };
        }
        wrap(e, t) {
          if ((this._assertWriterUsedCorrectly(), !e.isFlat))
            throw new f('writer-wrap-range-not-flat', this);
          const i = t instanceof da ? t : new da(t);
          if (i.childCount > 0)
            throw new f('writer-wrap-element-not-empty', this);
          if (null !== i.parent)
            throw new f('writer-wrap-element-attached', this);
          this.insert(i, e.start);
          const n = new wa(e.start.getShiftedBy(1), e.end.getShiftedBy(1));
          this.move(n, ma._createAt(i, 0));
        }
        unwrap(e) {
          if ((this._assertWriterUsedCorrectly(), null === e.parent))
            throw new f('writer-unwrap-element-no-parent', this);
          this.move(wa._createIn(e), this.createPositionAfter(e)),
            this.remove(e);
        }
        addMarker(e, t) {
          if (
            (this._assertWriterUsedCorrectly(),
            !t || 'boolean' != typeof t.usingOperation)
          )
            throw new f('writer-addmarker-no-usingoperation', this);
          const i = t.usingOperation,
            n = t.range,
            o = void 0 !== t.affectsData && t.affectsData;
          if (this.model.markers.has(e))
            throw new f('writer-addmarker-marker-exists', this);
          if (!n) throw new f('writer-addmarker-no-range', this);
          return i
            ? (Nc(this, e, null, n, o), this.model.markers.get(e))
            : this.model.markers._set(e, n, i, o);
        }
        updateMarker(e, t) {
          this._assertWriterUsedCorrectly();
          const i = 'string' == typeof e ? e : e.name,
            n = this.model.markers.get(i);
          if (!n) throw new f('writer-updatemarker-marker-not-exists', this);
          if (!t)
            return (
              p('writer-updatemarker-reconvert-using-editingcontroller', {
                markerName: i,
              }),
              void this.model.markers._refresh(n)
            );
          const o = 'boolean' == typeof t.usingOperation,
            r = 'boolean' == typeof t.affectsData,
            s = r ? t.affectsData : n.affectsData;
          if (!o && !t.range && !r)
            throw new f('writer-updatemarker-wrong-options', this);
          const a = n.getRange(),
            l = t.range ? t.range : a;
          o && t.usingOperation !== n.managedUsingOperations
            ? t.usingOperation
              ? Nc(this, i, null, l, s)
              : (Nc(this, i, a, null, s),
                this.model.markers._set(i, l, void 0, s))
            : n.managedUsingOperations
            ? Nc(this, i, a, l, s)
            : this.model.markers._set(i, l, void 0, s);
        }
        removeMarker(e) {
          this._assertWriterUsedCorrectly();
          const t = 'string' == typeof e ? e : e.name;
          if (!this.model.markers.has(t))
            throw new f('writer-removemarker-no-marker', this);
          const i = this.model.markers.get(t);
          i.managedUsingOperations
            ? Nc(this, t, i.getRange(), null, i.affectsData)
            : this.model.markers._remove(t);
        }
        addRoot(e, t = '$root') {
          this._assertWriterUsedCorrectly();
          const i = this.model.document.getRoot(e);
          if (i && i.isAttached())
            throw new f('writer-addroot-root-exists', this);
          const n = this.model.document,
            o = new Xl(e, t, !0, n, n.version);
          return (
            this.batch.addOperation(o),
            this.model.applyOperation(o),
            this.model.document.getRoot(e)
          );
        }
        detachRoot(e) {
          this._assertWriterUsedCorrectly();
          const t = 'string' == typeof e ? this.model.document.getRoot(e) : e;
          if (!t || !t.isAttached())
            throw new f('writer-detachroot-no-root', this);
          for (const e of this.model.markers)
            e.getRange().root === t && this.removeMarker(e);
          for (const e of t.getAttributeKeys()) this.removeAttribute(e, t);
          this.remove(this.createRangeIn(t));
          const i = this.model.document,
            n = new Xl(t.rootName, t.name, !1, i, i.version);
          this.batch.addOperation(n), this.model.applyOperation(n);
        }
        setSelection(...e) {
          this._assertWriterUsedCorrectly(),
            this.model.document.selection._setTo(...e);
        }
        setSelectionFocus(e, t) {
          this._assertWriterUsedCorrectly(),
            this.model.document.selection._setFocus(e, t);
        }
        setSelectionAttribute(e, t) {
          if ((this._assertWriterUsedCorrectly(), 'string' == typeof e))
            this._setSelectionAttribute(e, t);
          else for (const [t, i] of Mn(e)) this._setSelectionAttribute(t, i);
        }
        removeSelectionAttribute(e) {
          if ((this._assertWriterUsedCorrectly(), 'string' == typeof e))
            this._removeSelectionAttribute(e);
          else for (const t of e) this._removeSelectionAttribute(t);
        }
        overrideSelectionGravity() {
          return this.model.document.selection._overrideGravity();
        }
        restoreSelectionGravity(e) {
          this.model.document.selection._restoreGravity(e);
        }
        _setSelectionAttribute(e, t) {
          const i = this.model.document.selection;
          if (i.isCollapsed && i.anchor.parent.isEmpty) {
            const n = Da._getStoreAttributeKey(e);
            this.setAttribute(n, t, i.anchor.parent);
          }
          i._setAttribute(e, t);
        }
        _removeSelectionAttribute(e) {
          const t = this.model.document.selection;
          if (t.isCollapsed && t.anchor.parent.isEmpty) {
            const i = Da._getStoreAttributeKey(e);
            this.removeAttribute(i, t.anchor.parent);
          }
          t._removeAttribute(e);
        }
        _assertWriterUsedCorrectly() {
          if (this.model._currentWriter !== this)
            throw new f('writer-incorrect-use', this);
        }
        _addOperationForAffectedMarkers(e, t) {
          for (const i of this.model.markers) {
            if (!i.managedUsingOperations) continue;
            const n = i.getRange();
            let o = !1;
            if ('move' === e) {
              const e = t;
              o =
                e.containsPosition(n.start) ||
                e.start.isEqual(n.start) ||
                e.containsPosition(n.end) ||
                e.end.isEqual(n.end);
            } else {
              const e = t,
                i = e.nodeBefore,
                r = e.nodeAfter,
                s = n.start.parent == i && n.start.isAtEnd,
                a = n.end.parent == r && 0 == n.end.offset,
                l = n.end.nodeAfter == r,
                c = n.start.nodeAfter == r;
              o = s || a || l || c;
            }
            o && this.updateMarker(i.name, {range: n});
          }
        }
      }
      function Mc(e, t, i, n) {
        const o = e.model,
          r = o.document;
        let s,
          a,
          l,
          c = n.start;
        for (const e of n.getWalker({shallow: !0}))
          (l = e.item.getAttribute(t)),
            s && a != l && (a != i && d(), (c = s)),
            (s = e.nextPosition),
            (a = l);
        function d() {
          const n = new wa(c, s),
            l = n.root.document ? r.version : null,
            d = new Yl(n, t, a, i, l);
          e.batch.addOperation(d), o.applyOperation(d);
        }
        s instanceof ma && s != c && a != i && d();
      }
      function Rc(e, t, i, n) {
        const o = e.model,
          r = o.document,
          s = n.getAttribute(t);
        let a, l;
        if (s != i) {
          if (n.root === n) {
            const e = n.document ? r.version : null;
            l = new Jl(n, t, s, i, e);
          } else {
            a = new wa(ma._createBefore(n), e.createPositionAfter(n));
            const o = a.root.document ? r.version : null;
            l = new Yl(a, t, s, i, o);
          }
          e.batch.addOperation(l), o.applyOperation(l);
        }
      }
      function Nc(e, t, i, n, o) {
        const r = e.model,
          s = r.document,
          a = new ql(t, i, n, r.markers, !!o, s.version);
        e.batch.addOperation(a), r.applyOperation(a);
      }
      function Oc(e, t, i, n) {
        let o;
        if (e.root.document) {
          const i = n.document,
            r = new ma(i.graveyard, [0]);
          o = new $l(e, t, r, i.version);
        } else o = new Sc(e, t);
        i.addOperation(o), n.applyOperation(o);
      }
      function Dc(e, t) {
        return e === t || (e instanceof yc && t instanceof yc);
      }
      function Vc(e, t) {
        return e.isCollapsed
          ? (function (e, t) {
              const i = e.start,
                n = t.getNearestSelectionRange(i);
              if (!n) {
                const e = i
                  .getAncestors()
                  .reverse()
                  .find((e) => t.isObject(e));
                return e ? wa._createOn(e) : null;
              }
              if (!n.isCollapsed) return n;
              const o = n.start;
              return i.isEqual(o) ? null : new wa(o);
            })(e, t)
          : (function (e, t) {
              const {start: i, end: n} = e,
                o = t.checkChild(i, '$text'),
                r = t.checkChild(n, '$text'),
                s = t.getLimitElement(i),
                a = t.getLimitElement(n);
              if (s === a) {
                if (o && r) return null;
                if (
                  (function (e, t, i) {
                    const n =
                        (e.nodeAfter && !i.isLimit(e.nodeAfter)) ||
                        i.checkChild(e, '$text'),
                      o =
                        (t.nodeBefore && !i.isLimit(t.nodeBefore)) ||
                        i.checkChild(t, '$text');
                    return n || o;
                  })(i, n, t)
                ) {
                  const e =
                      i.nodeAfter && t.isSelectable(i.nodeAfter)
                        ? null
                        : t.getNearestSelectionRange(i, 'forward'),
                    o =
                      n.nodeBefore && t.isSelectable(n.nodeBefore)
                        ? null
                        : t.getNearestSelectionRange(n, 'backward'),
                    r = e ? e.start : i,
                    s = o ? o.end : n;
                  return new wa(r, s);
                }
              }
              const l = s && !s.is('rootElement'),
                c = a && !a.is('rootElement');
              if (l || c) {
                const e =
                    i.nodeAfter &&
                    n.nodeBefore &&
                    i.nodeAfter.parent === n.nodeBefore.parent,
                  o = l && (!e || !zc(i.nodeAfter, t)),
                  r = c && (!e || !zc(n.nodeBefore, t));
                let d = i,
                  u = n;
                return (
                  o && (d = ma._createBefore(Lc(s, t))),
                  r && (u = ma._createAfter(Lc(a, t))),
                  new wa(d, u)
                );
              }
              return null;
            })(e, t);
      }
      function Lc(e, t) {
        let i = e,
          n = i;
        for (; t.isLimit(n) && n.parent; ) (i = n), (n = n.parent);
        return i;
      }
      function zc(e, t) {
        return e && t.isSelectable(e);
      }
      function Bc(e, t, i = {}) {
        if (t.isCollapsed) return;
        const n = t.getFirstRange();
        if ('$graveyard' == n.root.rootName) return;
        const o = e.schema;
        e.change((e) => {
          if (
            !i.doNotResetEntireContent &&
            (function (e, t) {
              const i = e.getLimitElement(t);
              if (!t.containsEntireContent(i)) return !1;
              const n = t.getFirstRange();
              return (
                n.start.parent != n.end.parent && e.checkChild(i, 'paragraph')
              );
            })(o, t)
          )
            return void (function (e, t) {
              const i = e.model.schema.getLimitElement(t);
              e.remove(e.createRangeIn(i)), $c(e, e.createPositionAt(i, 0), t);
            })(e, t);
          const r = {};
          if (!i.doNotAutoparagraph) {
            const e = t.getSelectedElement();
            e &&
              Object.assign(
                r,
                o.getAttributesWithProperty(e, 'copyOnReplace', !0)
              );
          }
          const [s, a] = (function (e) {
            const t = e.root.document.model,
              i = e.start;
            let n = e.end;
            if (t.hasContent(e, {ignoreMarkers: !0})) {
              const i = (function (e) {
                const t = e.parent,
                  i = t.root.document.model.schema,
                  n = t.getAncestors({parentFirst: !0, includeSelf: !0});
                for (const e of n) {
                  if (i.isLimit(e)) return null;
                  if (i.isBlock(e)) return e;
                }
              })(n);
              if (i && n.isTouching(t.createPositionAt(i, 0))) {
                const i = t.createSelection(e);
                t.modifySelection(i, {direction: 'backward'});
                const o = i.getLastPosition(),
                  r = t.createRange(o, n);
                t.hasContent(r, {ignoreMarkers: !0}) || (n = o);
              }
            }
            return [
              mc.fromPosition(i, 'toPrevious'),
              mc.fromPosition(n, 'toNext'),
            ];
          })(n);
          s.isTouching(a) || e.remove(e.createRange(s, a)),
            i.leaveUnmerged ||
              ((function (e, t, i) {
                const n = e.model;
                if (!Hc(e.model.schema, t, i)) return;
                const [o, r] = (function (e, t) {
                  const i = e.getAncestors(),
                    n = t.getAncestors();
                  let o = 0;
                  for (; i[o] && i[o] == n[o]; ) o++;
                  return [i[o], n[o]];
                })(t, i);
                o &&
                  r &&
                  (!n.hasContent(o, {ignoreMarkers: !0}) &&
                  n.hasContent(r, {ignoreMarkers: !0})
                    ? jc(e, t, i, o.parent)
                    : Fc(e, t, i, o.parent));
              })(e, s, a),
              o.removeDisallowedAttributes(s.parent.getChildren(), e)),
            Uc(e, t, s),
            !i.doNotAutoparagraph &&
              (function (e, t) {
                const i = e.checkChild(t, '$text'),
                  n = e.checkChild(t, 'paragraph');
                return !i && n;
              })(o, s) &&
              $c(e, s, t, r),
            s.detach(),
            a.detach();
        });
      }
      function Fc(e, t, i, n) {
        const o = t.parent,
          r = i.parent;
        if (o != n && r != n) {
          for (
            t = e.createPositionAfter(o),
              (i = e.createPositionBefore(r)).isEqual(t) || e.insert(r, t),
              e.merge(t);
            i.parent.isEmpty;

          ) {
            const t = i.parent;
            (i = e.createPositionBefore(t)), e.remove(t);
          }
          Hc(e.model.schema, t, i) && Fc(e, t, i, n);
        }
      }
      function jc(e, t, i, n) {
        const o = t.parent,
          r = i.parent;
        if (o != n && r != n) {
          for (
            t = e.createPositionAfter(o),
              (i = e.createPositionBefore(r)).isEqual(t) || e.insert(o, i);
            t.parent.isEmpty;

          ) {
            const i = t.parent;
            (t = e.createPositionBefore(i)), e.remove(i);
          }
          (i = e.createPositionBefore(r)),
            (function (e, t) {
              const i = t.nodeBefore,
                n = t.nodeAfter;
              i.name != n.name && e.rename(i, n.name),
                e.clearAttributes(i),
                e.setAttributes(Object.fromEntries(n.getAttributes()), i),
                e.merge(t);
            })(e, i),
            Hc(e.model.schema, t, i) && jc(e, t, i, n);
        }
      }
      function Hc(e, t, i) {
        const n = t.parent,
          o = i.parent;
        return (
          n != o &&
          !e.isLimit(n) &&
          !e.isLimit(o) &&
          (function (e, t, i) {
            const n = new wa(e, t);
            for (const e of n.getWalker()) if (i.isLimit(e.item)) return !1;
            return !0;
          })(t, i, e)
        );
      }
      function $c(e, t, i, n = {}) {
        const o = e.createElement('paragraph');
        e.model.schema.setAllowedAttributes(o, n, e),
          e.insert(o, t),
          Uc(e, i, e.createPositionAt(o, 0));
      }
      function Uc(e, t, i) {
        t instanceof Da ? e.setSelection(i) : t.setTo(i);
      }
      function Zc(e, t) {
        const i = [];
        Array.from(e.getItems({direction: 'backward'}))
          .map((e) => t.createRangeOn(e))
          .filter(
            (t) =>
              (t.start.isAfter(e.start) || t.start.isEqual(e.start)) &&
              (t.end.isBefore(e.end) || t.end.isEqual(e.end))
          )
          .forEach((e) => {
            i.push(e.start.parent), t.remove(e);
          }),
          i.forEach((e) => {
            let i = e;
            for (; i.parent && i.isEmpty; ) {
              const e = t.createRangeOn(i);
              (i = i.parent), t.remove(e);
            }
          });
      }
      class Wc {
        constructor(e, t, i) {
          (this._firstNode = null),
            (this._lastNode = null),
            (this._lastAutoParagraph = null),
            (this._filterAttributesOf = []),
            (this._affectedStart = null),
            (this._affectedEnd = null),
            (this._nodeToSelect = null),
            (this.model = e),
            (this.writer = t),
            (this.position = i),
            (this.canMergeWith = new Set([this.position.parent])),
            (this.schema = e.schema),
            (this._documentFragment = t.createDocumentFragment()),
            (this._documentFragmentPosition = t.createPositionAt(
              this._documentFragment,
              0
            ));
        }
        handleNodes(e) {
          for (const t of Array.from(e)) this._handleNode(t);
          this._insertPartialFragment(),
            this._lastAutoParagraph &&
              this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),
            this._mergeOnRight(),
            this.schema.removeDisallowedAttributes(
              this._filterAttributesOf,
              this.writer
            ),
            (this._filterAttributesOf = []);
        }
        _updateLastNodeFromAutoParagraph(e) {
          const t = this.writer.createPositionAfter(this._lastNode),
            i = this.writer.createPositionAfter(e);
          if (i.isAfter(t)) {
            if (
              ((this._lastNode = e),
              this.position.parent != e || !this.position.isAtEnd)
            )
              throw new f('insertcontent-invalid-insertion-position', this);
            (this.position = i), this._setAffectedBoundaries(this.position);
          }
        }
        getSelectionRange() {
          return this._nodeToSelect
            ? wa._createOn(this._nodeToSelect)
            : this.model.schema.getNearestSelectionRange(this.position);
        }
        getAffectedRange() {
          return this._affectedStart
            ? new wa(this._affectedStart, this._affectedEnd)
            : null;
        }
        destroy() {
          this._affectedStart && this._affectedStart.detach(),
            this._affectedEnd && this._affectedEnd.detach();
        }
        _handleNode(e) {
          if (this.schema.isObject(e)) return void this._handleObject(e);
          let t = this._checkAndAutoParagraphToAllowedPosition(e);
          t || ((t = this._checkAndSplitToAllowedPosition(e)), t)
            ? (this._appendToFragment(e),
              this._firstNode || (this._firstNode = e),
              (this._lastNode = e))
            : this._handleDisallowedNode(e);
        }
        _insertPartialFragment() {
          if (this._documentFragment.isEmpty) return;
          const e = mc.fromPosition(this.position, 'toNext');
          this._setAffectedBoundaries(this.position),
            this._documentFragment.getChild(0) == this._firstNode &&
              (this.writer.insert(this._firstNode, this.position),
              this._mergeOnLeft(),
              (this.position = e.toPosition())),
            this._documentFragment.isEmpty ||
              this.writer.insert(this._documentFragment, this.position),
            (this._documentFragmentPosition = this.writer.createPositionAt(
              this._documentFragment,
              0
            )),
            (this.position = e.toPosition()),
            e.detach();
        }
        _handleObject(e) {
          this._checkAndSplitToAllowedPosition(e)
            ? this._appendToFragment(e)
            : this._tryAutoparagraphing(e);
        }
        _handleDisallowedNode(e) {
          e.is('element')
            ? this.handleNodes(e.getChildren())
            : this._tryAutoparagraphing(e);
        }
        _appendToFragment(e) {
          if (!this.schema.checkChild(this.position, e))
            throw new f('insertcontent-wrong-position', this, {
              node: e,
              position: this.position,
            });
          this.writer.insert(e, this._documentFragmentPosition),
            (this._documentFragmentPosition =
              this._documentFragmentPosition.getShiftedBy(e.offsetSize)),
            this.schema.isObject(e) &&
            !this.schema.checkChild(this.position, '$text')
              ? (this._nodeToSelect = e)
              : (this._nodeToSelect = null),
            this._filterAttributesOf.push(e);
        }
        _setAffectedBoundaries(e) {
          this._affectedStart ||
            (this._affectedStart = mc.fromPosition(e, 'toPrevious')),
            (this._affectedEnd && !this._affectedEnd.isBefore(e)) ||
              (this._affectedEnd && this._affectedEnd.detach(),
              (this._affectedEnd = mc.fromPosition(e, 'toNext')));
        }
        _mergeOnLeft() {
          const e = this._firstNode;
          if (!(e instanceof da)) return;
          if (!this._canMergeLeft(e)) return;
          const t = mc._createBefore(e);
          t.stickiness = 'toNext';
          const i = mc.fromPosition(this.position, 'toNext');
          this._affectedStart.isEqual(t) &&
            (this._affectedStart.detach(),
            (this._affectedStart = mc._createAt(
              t.nodeBefore,
              'end',
              'toPrevious'
            ))),
            this._firstNode === this._lastNode &&
              ((this._firstNode = t.nodeBefore),
              (this._lastNode = t.nodeBefore)),
            this.writer.merge(t),
            t.isEqual(this._affectedEnd) &&
              this._firstNode === this._lastNode &&
              (this._affectedEnd.detach(),
              (this._affectedEnd = mc._createAt(
                t.nodeBefore,
                'end',
                'toNext'
              ))),
            (this.position = i.toPosition()),
            i.detach(),
            this._filterAttributesOf.push(this.position.parent),
            t.detach();
        }
        _mergeOnRight() {
          const e = this._lastNode;
          if (!(e instanceof da)) return;
          if (!this._canMergeRight(e)) return;
          const t = mc._createAfter(e);
          if (((t.stickiness = 'toNext'), !this.position.isEqual(t)))
            throw new f('insertcontent-invalid-insertion-position', this);
          this.position = ma._createAt(t.nodeBefore, 'end');
          const i = mc.fromPosition(this.position, 'toPrevious');
          this._affectedEnd.isEqual(t) &&
            (this._affectedEnd.detach(),
            (this._affectedEnd = mc._createAt(t.nodeBefore, 'end', 'toNext'))),
            this._firstNode === this._lastNode &&
              ((this._firstNode = t.nodeBefore),
              (this._lastNode = t.nodeBefore)),
            this.writer.merge(t),
            t.getShiftedBy(-1).isEqual(this._affectedStart) &&
              this._firstNode === this._lastNode &&
              (this._affectedStart.detach(),
              (this._affectedStart = mc._createAt(
                t.nodeBefore,
                0,
                'toPrevious'
              ))),
            (this.position = i.toPosition()),
            i.detach(),
            this._filterAttributesOf.push(this.position.parent),
            t.detach();
        }
        _canMergeLeft(e) {
          const t = e.previousSibling;
          return (
            t instanceof da &&
            this.canMergeWith.has(t) &&
            this.model.schema.checkMerge(t, e)
          );
        }
        _canMergeRight(e) {
          const t = e.nextSibling;
          return (
            t instanceof da &&
            this.canMergeWith.has(t) &&
            this.model.schema.checkMerge(e, t)
          );
        }
        _tryAutoparagraphing(e) {
          const t = this.writer.createElement('paragraph');
          this._getAllowedIn(this.position.parent, t) &&
            this.schema.checkChild(t, e) &&
            (t._appendChild(e), this._handleNode(t));
        }
        _checkAndAutoParagraphToAllowedPosition(e) {
          if (this.schema.checkChild(this.position.parent, e)) return !0;
          if (
            !this.schema.checkChild(this.position.parent, 'paragraph') ||
            !this.schema.checkChild('paragraph', e)
          )
            return !1;
          this._insertPartialFragment();
          const t = this.writer.createElement('paragraph');
          return (
            this.writer.insert(t, this.position),
            this._setAffectedBoundaries(this.position),
            (this._lastAutoParagraph = t),
            (this.position = this.writer.createPositionAt(t, 0)),
            !0
          );
        }
        _checkAndSplitToAllowedPosition(e) {
          const t = this._getAllowedIn(this.position.parent, e);
          if (!t) return !1;
          for (
            t != this.position.parent && this._insertPartialFragment();
            t != this.position.parent;

          )
            if (this.position.isAtStart) {
              const e = this.position.parent;
              (this.position = this.writer.createPositionBefore(e)),
                e.isEmpty && e.parent === t && this.writer.remove(e);
            } else if (this.position.isAtEnd)
              this.position = this.writer.createPositionAfter(
                this.position.parent
              );
            else {
              const e = this.writer.createPositionAfter(this.position.parent);
              this._setAffectedBoundaries(this.position),
                this.writer.split(this.position),
                (this.position = e),
                this.canMergeWith.add(this.position.nodeAfter);
            }
          return !0;
        }
        _getAllowedIn(e, t) {
          return this.schema.checkChild(e, t)
            ? e
            : this.schema.isLimit(e)
            ? null
            : this._getAllowedIn(e.parent, t);
        }
      }
      function qc(e, t, i = 'auto') {
        const n = e.getSelectedElement();
        if (n && t.schema.isObject(n) && !t.schema.isInline(n))
          return 'before' == i || 'after' == i
            ? t.createRange(t.createPositionAt(n, i))
            : t.createRangeOn(n);
        const o = Sn(e.getSelectedBlocks());
        if (!o) return t.createRange(e.focus);
        if (o.isEmpty) return t.createRange(t.createPositionAt(o, 0));
        const r = t.createPositionAfter(o);
        return e.focus.isTouching(r)
          ? t.createRange(r)
          : t.createRange(t.createPositionBefore(o));
      }
      const Gc = ' ,.?!:;"-()';
      function Yc(e, t) {
        const {
            isForward: i,
            walker: n,
            unit: o,
            schema: r,
            treatEmojiAsSingleUnit: s,
          } = e,
          {type: a, item: l, nextPosition: c} = t;
        if ('text' == a)
          return 'word' === e.unit
            ? (function (e, t) {
                let i = e.position.textNode;
                for (
                  i || (i = t ? e.position.nodeAfter : e.position.nodeBefore);
                  i && i.is('$text');

                ) {
                  const n = e.position.offset - i.startOffset;
                  if (Jc(i, n, t))
                    i = t ? e.position.nodeAfter : e.position.nodeBefore;
                  else {
                    if (Qc(i.data, n, t)) break;
                    e.next();
                  }
                }
                return e.position;
              })(n, i)
            : (function (e, t, i) {
                const n = e.position.textNode;
                if (n) {
                  const o = n.data;
                  let r = e.position.offset - n.startOffset;
                  for (
                    ;
                    Rn(o, r) ||
                    ('character' == t && Nn(o, r)) ||
                    (i && Dn(o, r));

                  )
                    e.next(), (r = e.position.offset - n.startOffset);
                }
                return e.position;
              })(n, o, s);
        if (a == (i ? 'elementStart' : 'elementEnd')) {
          if (r.isSelectable(l)) return ma._createAt(l, i ? 'after' : 'before');
          if (r.checkChild(c, '$text')) return c;
        } else {
          if (r.isLimit(l)) return void n.skip(() => !0);
          if (r.checkChild(c, '$text')) return c;
        }
      }
      function Kc(e, t) {
        const i = e.root,
          n = ma._createAt(i, t ? 'end' : 0);
        return t ? new wa(e, n) : new wa(n, e);
      }
      function Qc(e, t, i) {
        const n = t + (i ? 0 : -1);
        return Gc.includes(e.charAt(n));
      }
      function Jc(e, t, i) {
        return t === (i ? e.offsetSize : 0);
      }
      class Xc extends z() {
        constructor() {
          var e;
          super(),
            (this.markers = new Ec()),
            (this.document = new Ac(this)),
            (this.schema = new ml()),
            (this._pendingChanges = []),
            (this._currentWriter = null),
            [
              'deleteContent',
              'modifySelection',
              'getSelectedContent',
              'applyOperation',
            ].forEach((e) => this.decorate(e)),
            this.on(
              'applyOperation',
              (e, t) => {
                t[0]._validate();
              },
              {priority: 'highest'}
            ),
            this.schema.register('$root', {isLimit: !0}),
            this.schema.register('$container', {
              allowIn: ['$root', '$container'],
            }),
            this.schema.register('$block', {
              allowIn: ['$root', '$container'],
              isBlock: !0,
            }),
            this.schema.register('$blockObject', {
              allowWhere: '$block',
              isBlock: !0,
              isObject: !0,
            }),
            this.schema.register('$inlineObject', {
              allowWhere: '$text',
              allowAttributesOf: '$text',
              isInline: !0,
              isObject: !0,
            }),
            this.schema.register('$text', {
              allowIn: '$block',
              isInline: !0,
              isContent: !0,
            }),
            this.schema.register('$clipboardHolder', {
              allowContentOf: '$root',
              allowChildren: '$text',
              isLimit: !0,
            }),
            this.schema.register('$documentFragment', {
              allowContentOf: '$root',
              allowChildren: '$text',
              isLimit: !0,
            }),
            this.schema.register('$marker'),
            this.schema.addChildCheck((e, t) => {
              if ('$marker' === t.name) return !0;
            }),
            (e = this).document.registerPostFixer((t) =>
              (function (e, t) {
                const i = t.document.selection,
                  n = t.schema,
                  o = [];
                let r = !1;
                for (const e of i.getRanges()) {
                  const t = Vc(e, n);
                  t && !t.isEqual(e) ? (o.push(t), (r = !0)) : o.push(e);
                }
                return (
                  r &&
                    e.setSelection(
                      (function (e) {
                        const t = [...e],
                          i = new Set();
                        let n = 1;
                        for (; n < t.length; ) {
                          const e = t[n],
                            o = t.slice(0, n);
                          for (const [r, s] of o.entries())
                            if (!i.has(r))
                              if (e.isEqual(s)) i.add(r);
                              else if (e.isIntersecting(s)) {
                                i.add(r), i.add(n);
                                const o = e.getJoined(s);
                                t.push(o);
                              }
                          n++;
                        }
                        return t.filter((e, t) => !i.has(t));
                      })(o),
                      {backward: i.isBackward}
                    ),
                  !1
                );
              })(t, e)
            ),
            this.document.registerPostFixer(Xa),
            this.on('insertContent', (e, [t, i]) => {
              e.return = (function (e, t, i) {
                return e.change((n) => {
                  const o = i || e.document.selection;
                  o.isCollapsed || e.deleteContent(o, {doNotAutoparagraph: !0});
                  const r = new Wc(e, n, o.anchor),
                    s = [];
                  let a;
                  if (t.is('documentFragment')) {
                    if (t.markers.size) {
                      const e = [];
                      for (const [i, n] of t.markers) {
                        const {start: t, end: o} = n,
                          r = t.isEqual(o);
                        e.push(
                          {position: t, name: i, isCollapsed: r},
                          {position: o, name: i, isCollapsed: r}
                        );
                      }
                      e.sort(({position: e}, {position: t}) =>
                        e.isBefore(t) ? 1 : -1
                      );
                      for (const {position: i, name: o, isCollapsed: r} of e) {
                        let e = null,
                          a = null;
                        const l = i.parent === t && i.isAtStart,
                          c = i.parent === t && i.isAtEnd;
                        l || c
                          ? r && (a = l ? 'start' : 'end')
                          : ((e = n.createElement('$marker')), n.insert(e, i)),
                          s.push({name: o, element: e, collapsed: a});
                      }
                    }
                    a = t.getChildren();
                  } else a = [t];
                  r.handleNodes(a);
                  let l = r.getSelectionRange();
                  if (t.is('documentFragment') && s.length) {
                    const e = l ? Ma.fromRange(l) : null,
                      t = {};
                    for (let e = s.length - 1; e >= 0; e--) {
                      const {name: i, element: o, collapsed: a} = s[e],
                        l = !t[i];
                      if ((l && (t[i] = []), o)) {
                        const e = n.createPositionAt(o, 'before');
                        t[i].push(e), n.remove(o);
                      } else {
                        const e = r.getAffectedRange();
                        if (!e) {
                          a && t[i].push(r.position);
                          continue;
                        }
                        a ? t[i].push(e[a]) : t[i].push(l ? e.start : e.end);
                      }
                    }
                    for (const [e, [i, o]] of Object.entries(t))
                      i &&
                        o &&
                        i.root === o.root &&
                        n.addMarker(e, {
                          usingOperation: !0,
                          affectsData: !0,
                          range: new wa(i, o),
                        });
                    e && ((l = e.toRange()), e.detach());
                  }
                  l && (o instanceof Da ? n.setSelection(l) : o.setTo(l));
                  const c = r.getAffectedRange() || e.createRange(o.anchor);
                  return r.destroy(), c;
                });
              })(this, t, i);
            }),
            this.on('insertObject', (e, [t, i, n]) => {
              e.return = (function (e, t, i, n = {}) {
                if (!e.schema.isObject(t))
                  throw new f('insertobject-element-not-an-object', e, {
                    object: t,
                  });
                const o = i || e.document.selection;
                let r = o;
                n.findOptimalPosition &&
                  e.schema.isBlock(t) &&
                  (r = e.createSelection(qc(o, e, n.findOptimalPosition)));
                const s = Sn(o.getSelectedBlocks()),
                  a = {};
                return (
                  s &&
                    Object.assign(
                      a,
                      e.schema.getAttributesWithProperty(s, 'copyOnReplace', !0)
                    ),
                  e.change((i) => {
                    r.isCollapsed ||
                      e.deleteContent(r, {doNotAutoparagraph: !0});
                    let o = t;
                    const s = r.anchor.parent;
                    !e.schema.checkChild(s, t) &&
                      e.schema.checkChild(s, 'paragraph') &&
                      e.schema.checkChild('paragraph', t) &&
                      ((o = i.createElement('paragraph')), i.insert(t, o)),
                      e.schema.setAllowedAttributes(o, a, i);
                    const l = e.insertContent(o, r);
                    return (
                      l.isCollapsed ||
                        (n.setSelection &&
                          (function (e, t, i, n) {
                            const o = e.model;
                            if ('on' == i) return void e.setSelection(t, 'on');
                            if ('after' != i)
                              throw new f(
                                'insertobject-invalid-place-parameter-value',
                                o
                              );
                            let r = t.nextSibling;
                            o.schema.isInline(t)
                              ? e.setSelection(t, 'after')
                              : (!(r && o.schema.checkChild(r, '$text')) &&
                                  o.schema.checkChild(t.parent, 'paragraph') &&
                                  ((r = e.createElement('paragraph')),
                                  o.schema.setAllowedAttributes(r, n, e),
                                  o.insertContent(r, e.createPositionAfter(t))),
                                r && e.setSelection(r, 0));
                          })(i, t, n.setSelection, a)),
                      l
                    );
                  })
                );
              })(this, t, i, n);
            });
        }
        change(e) {
          try {
            return 0 === this._pendingChanges.length
              ? (this._pendingChanges.push({batch: new pc(), callback: e}),
                this._runPendingChanges()[0])
              : e(this._currentWriter);
          } catch (e) {
            f.rethrowUnexpectedError(e, this);
          }
        }
        enqueueChange(e, t) {
          try {
            e
              ? 'function' == typeof e
                ? ((t = e), (e = new pc()))
                : e instanceof pc || (e = new pc(e))
              : (e = new pc()),
              this._pendingChanges.push({batch: e, callback: t}),
              1 == this._pendingChanges.length && this._runPendingChanges();
          } catch (e) {
            f.rethrowUnexpectedError(e, this);
          }
        }
        applyOperation(e) {
          e._execute();
        }
        insertContent(e, t, i, ...n) {
          const o = ed(t, i);
          return this.fire('insertContent', [e, o, i, ...n]);
        }
        insertObject(e, t, i, n, ...o) {
          const r = ed(t, i);
          return this.fire('insertObject', [e, r, n, n, ...o]);
        }
        deleteContent(e, t) {
          Bc(this, e, t);
        }
        modifySelection(e, t) {
          !(function (e, t, i = {}) {
            const n = e.schema,
              o = 'backward' != i.direction,
              r = i.unit ? i.unit : 'character',
              s = !!i.treatEmojiAsSingleUnit,
              a = t.focus,
              l = new ua({
                boundaries: Kc(a, o),
                singleCharacters: !0,
                direction: o ? 'forward' : 'backward',
              }),
              c = {
                walker: l,
                schema: n,
                isForward: o,
                unit: r,
                treatEmojiAsSingleUnit: s,
              };
            let d;
            for (; (d = l.next()); ) {
              if (d.done) return;
              const i = Yc(c, d.value);
              if (i)
                return void (t instanceof Da
                  ? e.change((e) => {
                      e.setSelectionFocus(i);
                    })
                  : t.setFocus(i));
            }
          })(this, e, t);
        }
        getSelectedContent(e) {
          return (function (e, t) {
            return e.change((e) => {
              const i = e.createDocumentFragment(),
                n = t.getFirstRange();
              if (!n || n.isCollapsed) return i;
              const o = n.start.root,
                r = n.start.getCommonPath(n.end),
                s = o.getNodeByPath(r);
              let a;
              a =
                n.start.parent == n.end.parent
                  ? n
                  : e.createRange(
                      e.createPositionAt(s, n.start.path[r.length]),
                      e.createPositionAt(s, n.end.path[r.length] + 1)
                    );
              const l = a.end.offset - a.start.offset;
              for (const t of a.getItems({shallow: !0}))
                t.is('$textProxy')
                  ? e.appendText(t.data, t.getAttributes(), i)
                  : e.append(e.cloneElement(t, !0), i);
              if (a != n) {
                const t = n._getTransformedByMove(
                    a.start,
                    e.createPositionAt(i, 0),
                    l
                  )[0],
                  o = e.createRange(e.createPositionAt(i, 0), t.start);
                Zc(e.createRange(t.end, e.createPositionAt(i, 'end')), e),
                  Zc(o, e);
              }
              return i;
            });
          })(this, e);
        }
        hasContent(e, t = {}) {
          const i = e instanceof wa ? e : wa._createIn(e);
          if (i.isCollapsed) return !1;
          const {ignoreWhitespaces: n = !1, ignoreMarkers: o = !1} = t;
          if (!o)
            for (const e of this.markers.getMarkersIntersectingRange(i))
              if (e.affectsData) return !0;
          for (const e of i.getItems())
            if (this.schema.isContent(e)) {
              if (!e.is('$textProxy')) return !0;
              if (!n) return !0;
              if (-1 !== e.data.search(/\S/)) return !0;
            }
          return !1;
        }
        createPositionFromPath(e, t, i) {
          return new ma(e, t, i);
        }
        createPositionAt(e, t) {
          return ma._createAt(e, t);
        }
        createPositionAfter(e) {
          return ma._createAfter(e);
        }
        createPositionBefore(e) {
          return ma._createBefore(e);
        }
        createRange(e, t) {
          return new wa(e, t);
        }
        createRangeIn(e) {
          return wa._createIn(e);
        }
        createRangeOn(e) {
          return wa._createOn(e);
        }
        createSelection(...e) {
          return new Ea(...e);
        }
        createBatch(e) {
          return new pc(e);
        }
        createOperationFromJSON(e) {
          return tc.fromJSON(e, this.document);
        }
        destroy() {
          this.document.destroy(), this.stopListening();
        }
        _runPendingChanges() {
          const e = [];
          this.fire('_beforeChanges');
          try {
            for (; this._pendingChanges.length; ) {
              const t = this._pendingChanges[0].batch;
              this._currentWriter = new Pc(this, t);
              const i = this._pendingChanges[0].callback(this._currentWriter);
              e.push(i),
                this.document._handleChangeBlock(this._currentWriter),
                this._pendingChanges.shift(),
                (this._currentWriter = null);
            }
          } finally {
            (this._pendingChanges.length = 0),
              (this._currentWriter = null),
              this.fire('_afterChanges');
          }
          return e;
        }
      }
      function ed(e, t) {
        if (e)
          return e instanceof Ea || e instanceof Da
            ? e
            : e instanceof sa
            ? new Ea(e, t)
            : new Ea(e);
      }
      class td extends ps {
        constructor() {
          super(...arguments), (this.domEventType = 'click');
        }
        onDomEvent(e) {
          this.fire(e.type, e);
        }
      }
      class id extends ps {
        constructor() {
          super(...arguments),
            (this.domEventType = [
              'mousedown',
              'mouseup',
              'mouseover',
              'mouseout',
            ]);
        }
        onDomEvent(e) {
          this.fire(e.type, e);
        }
      }
      class nd {
        constructor(e) {
          this.document = e;
        }
        createDocumentFragment(e) {
          return new Pr(this.document, e);
        }
        createElement(e, t, i) {
          return new er(this.document, e, t, i);
        }
        createText(e) {
          return new uo(this.document, e);
        }
        clone(e, t = !1) {
          return e._clone(t);
        }
        appendChild(e, t) {
          return t._appendChild(e);
        }
        insertChild(e, t, i) {
          return i._insertChild(e, t);
        }
        removeChildren(e, t, i) {
          return i._removeChildren(e, t);
        }
        remove(e) {
          const t = e.parent;
          return t ? this.removeChildren(t.getChildIndex(e), 1, t) : [];
        }
        replace(e, t) {
          const i = e.parent;
          if (i) {
            const n = i.getChildIndex(e);
            return this.removeChildren(n, 1, i), this.insertChild(n, t, i), !0;
          }
          return !1;
        }
        unwrapElement(e) {
          const t = e.parent;
          if (t) {
            const i = t.getChildIndex(e);
            this.remove(e), this.insertChild(i, e.getChildren(), t);
          }
        }
        rename(e, t) {
          const i = new er(
            this.document,
            e,
            t.getAttributes(),
            t.getChildren()
          );
          return this.replace(t, i) ? i : null;
        }
        setAttribute(e, t, i) {
          i._setAttribute(e, t);
        }
        removeAttribute(e, t) {
          t._removeAttribute(e);
        }
        addClass(e, t) {
          t._addClass(e);
        }
        removeClass(e, t) {
          t._removeClass(e);
        }
        setStyle(e, t, i) {
          pe(e) && void 0 === i ? t._setStyle(e) : i._setStyle(e, t);
        }
        removeStyle(e, t) {
          t._removeStyle(e);
        }
        setCustomProperty(e, t, i) {
          i._setCustomProperty(e, t);
        }
        removeCustomProperty(e, t) {
          return t._removeCustomProperty(e);
        }
        createPositionAt(e, t) {
          return lr._createAt(e, t);
        }
        createPositionAfter(e) {
          return lr._createAfter(e);
        }
        createPositionBefore(e) {
          return lr._createBefore(e);
        }
        createRange(e, t) {
          return new cr(e, t);
        }
        createRangeOn(e) {
          return cr._createOn(e);
        }
        createRangeIn(e) {
          return cr._createIn(e);
        }
        createSelection(...e) {
          return new ur(...e);
        }
      }
      new Set([
        'black',
        'silver',
        'gray',
        'white',
        'maroon',
        'red',
        'purple',
        'fuchsia',
        'green',
        'lime',
        'olive',
        'yellow',
        'navy',
        'blue',
        'teal',
        'aqua',
        'orange',
        'aliceblue',
        'antiquewhite',
        'aquamarine',
        'azure',
        'beige',
        'bisque',
        'blanchedalmond',
        'blueviolet',
        'brown',
        'burlywood',
        'cadetblue',
        'chartreuse',
        'chocolate',
        'coral',
        'cornflowerblue',
        'cornsilk',
        'crimson',
        'cyan',
        'darkblue',
        'darkcyan',
        'darkgoldenrod',
        'darkgray',
        'darkgreen',
        'darkgrey',
        'darkkhaki',
        'darkmagenta',
        'darkolivegreen',
        'darkorange',
        'darkorchid',
        'darkred',
        'darksalmon',
        'darkseagreen',
        'darkslateblue',
        'darkslategray',
        'darkslategrey',
        'darkturquoise',
        'darkviolet',
        'deeppink',
        'deepskyblue',
        'dimgray',
        'dimgrey',
        'dodgerblue',
        'firebrick',
        'floralwhite',
        'forestgreen',
        'gainsboro',
        'ghostwhite',
        'gold',
        'goldenrod',
        'greenyellow',
        'grey',
        'honeydew',
        'hotpink',
        'indianred',
        'indigo',
        'ivory',
        'khaki',
        'lavender',
        'lavenderblush',
        'lawngreen',
        'lemonchiffon',
        'lightblue',
        'lightcoral',
        'lightcyan',
        'lightgoldenrodyellow',
        'lightgray',
        'lightgreen',
        'lightgrey',
        'lightpink',
        'lightsalmon',
        'lightseagreen',
        'lightskyblue',
        'lightslategray',
        'lightslategrey',
        'lightsteelblue',
        'lightyellow',
        'limegreen',
        'linen',
        'magenta',
        'mediumaquamarine',
        'mediumblue',
        'mediumorchid',
        'mediumpurple',
        'mediumseagreen',
        'mediumslateblue',
        'mediumspringgreen',
        'mediumturquoise',
        'mediumvioletred',
        'midnightblue',
        'mintcream',
        'mistyrose',
        'moccasin',
        'navajowhite',
        'oldlace',
        'olivedrab',
        'orangered',
        'orchid',
        'palegoldenrod',
        'palegreen',
        'paleturquoise',
        'palevioletred',
        'papayawhip',
        'peachpuff',
        'peru',
        'pink',
        'plum',
        'powderblue',
        'rosybrown',
        'royalblue',
        'saddlebrown',
        'salmon',
        'sandybrown',
        'seagreen',
        'seashell',
        'sienna',
        'skyblue',
        'slateblue',
        'slategray',
        'slategrey',
        'snow',
        'springgreen',
        'steelblue',
        'tan',
        'thistle',
        'tomato',
        'turquoise',
        'violet',
        'wheat',
        'whitesmoke',
        'yellowgreen',
        'activeborder',
        'activecaption',
        'appworkspace',
        'background',
        'buttonface',
        'buttonhighlight',
        'buttonshadow',
        'buttontext',
        'captiontext',
        'graytext',
        'highlight',
        'highlighttext',
        'inactiveborder',
        'inactivecaption',
        'inactivecaptiontext',
        'infobackground',
        'infotext',
        'menu',
        'menutext',
        'scrollbar',
        'threeddarkshadow',
        'threedface',
        'threedhighlight',
        'threedlightshadow',
        'threedshadow',
        'window',
        'windowframe',
        'windowtext',
        'rebeccapurple',
        'currentcolor',
        'transparent',
      ]);
      class od {
        constructor() {
          this._commands = new Map();
        }
        add(e, t) {
          this._commands.set(e, t);
        }
        get(e) {
          return this._commands.get(e);
        }
        execute(e, ...t) {
          const i = this.get(e);
          if (!i)
            throw new f('commandcollection-command-not-found', this, {
              commandName: e,
            });
          return i.execute(...t);
        }
        *names() {
          yield* this._commands.keys();
        }
        *commands() {
          yield* this._commands.values();
        }
        [Symbol.iterator]() {
          return this._commands[Symbol.iterator]();
        }
        destroy() {
          for (const e of this.commands()) e.destroy();
        }
      }
      class rd extends Pn {
        constructor(e) {
          super(), (this.editor = e);
        }
        set(e, t, i = {}) {
          if ('string' == typeof t) {
            const e = t;
            t = (t, i) => {
              this.editor.execute(e), i();
            };
          }
          super.set(e, t, i);
        }
      }
      class sd extends z() {
        constructor(e = {}) {
          super();
          const t = this.constructor,
            i = e.language || (t.defaultConfig && t.defaultConfig.language);
          (this._context = e.context || new Hn({language: i})),
            this._context._addEditor(this, !e.context);
          const n = Array.from(t.builtinPlugins || []);
          (this.config = new Si(e, t.defaultConfig)),
            this.config.define('plugins', n),
            this.config.define(this._context._getEditorConfig()),
            (this.plugins = new jn(this, n, this._context.plugins)),
            (this.locale = this._context.locale),
            (this.t = this.locale.t),
            (this._readOnlyLocks = new Set()),
            (this.commands = new od()),
            this.set('state', 'initializing'),
            this.once('ready', () => (this.state = 'ready'), {
              priority: 'high',
            }),
            this.once('destroy', () => (this.state = 'destroyed'), {
              priority: 'high',
            }),
            (this.model = new Xc());
          const o = new Qo();
          (this.data = new Ml(this.model, o)),
            (this.editing = new cl(this.model, o)),
            this.editing.view.document.bind('isReadOnly').to(this),
            (this.conversion = new Rl(
              [this.editing.downcastDispatcher, this.data.downcastDispatcher],
              this.data.upcastDispatcher
            )),
            this.conversion.addAlias(
              'dataDowncast',
              this.data.downcastDispatcher
            ),
            this.conversion.addAlias(
              'editingDowncast',
              this.editing.downcastDispatcher
            ),
            (this.keystrokes = new rd(this)),
            this.keystrokes.listenTo(this.editing.view.document);
        }
        get isReadOnly() {
          return this._readOnlyLocks.size > 0;
        }
        set isReadOnly(e) {
          throw new f('editor-isreadonly-has-no-setter');
        }
        enableReadOnlyMode(e) {
          if ('string' != typeof e && 'symbol' != typeof e)
            throw new f('editor-read-only-lock-id-invalid', null, {lockId: e});
          this._readOnlyLocks.has(e) ||
            (this._readOnlyLocks.add(e),
            1 === this._readOnlyLocks.size &&
              this.fire('change:isReadOnly', 'isReadOnly', !0, !1));
        }
        disableReadOnlyMode(e) {
          if ('string' != typeof e && 'symbol' != typeof e)
            throw new f('editor-read-only-lock-id-invalid', null, {lockId: e});
          this._readOnlyLocks.has(e) &&
            (this._readOnlyLocks.delete(e),
            0 === this._readOnlyLocks.size &&
              this.fire('change:isReadOnly', 'isReadOnly', !1, !0));
        }
        initPlugins() {
          const e = this.config,
            t = e.get('plugins'),
            i = e.get('removePlugins') || [],
            n = e.get('extraPlugins') || [],
            o = e.get('substitutePlugins') || [];
          return this.plugins.init(t.concat(n), i, o);
        }
        destroy() {
          let e = Promise.resolve();
          return (
            'initializing' == this.state &&
              (e = new Promise((e) => this.once('ready', e))),
            e
              .then(() => {
                this.fire('destroy'),
                  this.stopListening(),
                  this.commands.destroy();
              })
              .then(() => this.plugins.destroy())
              .then(() => {
                this.model.destroy(),
                  this.data.destroy(),
                  this.editing.destroy(),
                  this.keystrokes.destroy();
              })
              .then(() => this._context._removeEditor(this))
          );
        }
        execute(e, ...t) {
          try {
            return this.commands.execute(e, ...t);
          } catch (e) {
            f.rethrowUnexpectedError(e, this);
          }
        }
        focus() {
          this.editing.view.focus();
        }
        static create(...e) {
          throw new Error('This is an abstract method.');
        }
      }
      function ad(e) {
        return class extends e {
          setData(e) {
            this.data.set(e);
          }
          getData(e) {
            return this.data.get(e);
          }
        };
      }
      {
        const e = ad(Object);
        (ad.setData = e.prototype.setData), (ad.getData = e.prototype.getData);
      }
      function ld(e) {
        return class extends e {
          updateSourceElement(e = this.data.get()) {
            if (!this.sourceElement)
              throw new f('editor-missing-sourceelement', this);
            const t = this.config.get('updateSourceElementOnDestroy'),
              i = this.sourceElement instanceof HTMLTextAreaElement;
            !(function (e, t) {
              e instanceof HTMLTextAreaElement && (e.value = t),
                (e.innerHTML = t);
            })(this.sourceElement, t || i ? e : '');
          }
        };
      }
      ld.updateSourceElement = ld(Object).prototype.updateSourceElement;
      class cd extends $n {
        static get pluginName() {
          return 'PendingActions';
        }
        init() {
          this.set('hasAny', !1),
            (this._actions = new Tn({idProperty: '_id'})),
            this._actions.delegate('add', 'remove').to(this);
        }
        add(e) {
          if ('string' != typeof e)
            throw new f('pendingactions-add-invalid-message', this);
          const t = new (z())();
          return (
            t.set('message', e), this._actions.add(t), (this.hasAny = !0), t
          );
        }
        remove(e) {
          this._actions.remove(e), (this.hasAny = !!this._actions.length);
        }
        get first() {
          return this._actions.get(0);
        }
        [Symbol.iterator]() {
          return this._actions[Symbol.iterator]();
        }
      }
      const dd = {
          bold: 'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z\\"/></svg>";',
          cancel:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z\\"/></svg>";',
          caption:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z\\"/><path d=\\"M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z\\" fill-opacity=\\".6\\"/></svg>";',
          check:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z\\"/></svg>";',
          cog: 'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z\\"/></svg>";',
          eraser:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z\\"/><path d=\\"M4 18h5.523v-1H4zm-2 0h1v-1H2z\\"/></svg>";',
          image:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z\\"/></svg>";',
          lowVision:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z\\"/></svg>";',
          importExport:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><g clip-path=\\"url(#a)\\"><path clip-rule=\\"evenodd\\" d=\\"M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z\\"/></g><defs><clipPath id=\\"a\\"><path d=\\"M0 0h20v20H0z\\"/></clipPath></defs></svg>";',
          paragraph:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z\\"/></svg>";',
          plus: 'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z\\"/></svg>";',
          text: 'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><g clip-path=\\"url(#a)\\"><path d=\\"M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z\\"/><path clip-rule=\\"evenodd\\" d=\\"m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z\\"/></g><defs><clipPath id=\\"a\\"><path d=\\"M0 0h20v20H0z\\"/></clipPath></defs></svg>";',
          alignBottom:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z\\"/></svg>";',
          alignMiddle:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z\\"/></svg>";',
          alignTop:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z\\"/></svg>";',
          alignLeft:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z\\"/></svg>";',
          alignCenter:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z\\"/></svg>";',
          alignRight:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z\\"/></svg>";',
          alignJustify:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z\\"/></svg>";',
          objectLeft:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path opacity=\\".5\\" d=\\"M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z\\"/><path d=\\"M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z\\"/></svg>";',
          objectCenter:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path opacity=\\".5\\" d=\\"M2 3h16v1.5H2zm0 12h16v1.5H2z\\"/><path d=\\"M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z\\"/></svg>";',
          objectRight:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path opacity=\\".5\\" d=\\"M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z\\"/><path d=\\"M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z\\"/></svg>";',
          objectFullWidth:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path opacity=\\".5\\" d=\\"M2 3h16v1.5H2zm0 12h16v1.5H2z\\"/><path d=\\"M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z\\"/></svg>";',
          objectInline:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path opacity=\\".5\\" d=\\"M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z\\"/><path d=\\"M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z\\"/></svg>";',
          objectBlockLeft:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path opacity=\\".5\\" d=\\"M2 3h16v1.5H2zm0 12h16v1.5H2z\\"/><path d=\\"M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z\\"/></svg>";',
          objectBlockRight:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path opacity=\\".5\\" d=\\"M2 3h16v1.5H2zm0 12h16v1.5H2z\\"/><path d=\\"M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z\\"/></svg>";',
          objectSizeFull:
            'export default "<svg xmlns=\\"http://www.w3.org/2000/svg\\" viewBox=\\"0 0 20 20\\"><path d=\\"M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z\\"/><path d=\\"M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z\\"/></svg>";',
          objectSizeLarge:
            'export default "<svg xmlns=\\"http://www.w3.org/2000/svg\\" viewBox=\\"0 0 20 20\\"><path d=\\"M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z\\"/><path d=\\"M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z\\"/></svg>";',
          objectSizeSmall:
            'export default "<svg xmlns=\\"http://www.w3.org/2000/svg\\" viewBox=\\"0 0 20 20\\"><path d=\\"M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z\\"/><path d=\\"M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z\\"/></svg>";',
          objectSizeMedium:
            'export default "<svg xmlns=\\"http://www.w3.org/2000/svg\\" viewBox=\\"0 0 20 20\\"><path d=\\"M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z\\"/><path d=\\"M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z\\"/></svg>";',
          pencil:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z\\"/></svg>";',
          pilcrow:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z\\"/></svg>";',
          quote:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z\\"/></svg>";',
          threeVerticalDots:
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><circle cx=\\"9.5\\" cy=\\"4.5\\" r=\\"1.5\\"/><circle cx=\\"9.5\\" cy=\\"10.5\\" r=\\"1.5\\"/><circle cx=\\"9.5\\" cy=\\"16.5\\" r=\\"1.5\\"/></svg>";',
        },
        ud = ['left', 'right', 'center', 'justify'];
      function hd(e) {
        return ud.includes(e);
      }
      function md(e, t) {
        return 'rtl' == t.contentLanguageDirection
          ? 'right' === e
          : 'left' === e;
      }
      function gd(e) {
        const t = e
            .map((e) => {
              let t;
              return (t = 'string' == typeof e ? {name: e} : e), t;
            })
            .filter((e) => {
              const t = ud.includes(e.name);
              return (
                t || p('alignment-config-name-not-recognized', {option: e}), t
              );
            }),
          i = t.filter((e) => Boolean(e.className)).length;
        if (i && i < t.length)
          throw new f('alignment-config-classnames-are-missing', {
            configuredOptions: e,
          });
        return (
          t.forEach((t, i, n) => {
            const o = n.slice(i + 1);
            if (o.some((e) => e.name == t.name))
              throw new f('alignment-config-name-already-defined', {
                option: t,
                configuredOptions: e,
              });
            if (t.className && o.some((e) => e.className == t.className))
              throw new f('alignment-config-classname-already-defined', {
                option: t,
                configuredOptions: e,
              });
          }),
          t
        );
      }
      const fd = 'alignment';
      class pd extends zn {
        refresh() {
          const e = this.editor.locale,
            t = Sn(this.editor.model.document.selection.getSelectedBlocks());
          (this.isEnabled = Boolean(t) && this._canBeAligned(t)),
            this.isEnabled && t.hasAttribute('alignment')
              ? (this.value = t.getAttribute('alignment'))
              : (this.value =
                  'rtl' === e.contentLanguageDirection ? 'right' : 'left');
        }
        execute(e = {}) {
          const t = this.editor,
            i = t.locale,
            n = t.model,
            o = n.document,
            r = e.value;
          n.change((e) => {
            const t = Array.from(o.selection.getSelectedBlocks()).filter((e) =>
                this._canBeAligned(e)
              ),
              n = t[0].getAttribute('alignment');
            md(r, i) || n === r || !r
              ? (function (e, t) {
                  for (const i of e) t.removeAttribute(fd, i);
                })(t, e)
              : (function (e, t, i) {
                  for (const n of e) t.setAttribute(fd, i, n);
                })(t, e, r);
          });
        }
        _canBeAligned(e) {
          return this.editor.model.schema.checkAttribute(e, fd);
        }
      }
      class bd extends Vn {
        static get pluginName() {
          return 'AlignmentEditing';
        }
        constructor(e) {
          super(e),
            e.config.define('alignment', {options: ud.map((e) => ({name: e}))});
        }
        init() {
          const e = this.editor,
            t = e.locale,
            i = e.model.schema,
            n = gd(e.config.get('alignment.options')).filter(
              (e) => hd(e.name) && !md(e.name, t)
            ),
            o = n.some((e) => !!e.className);
          i.extend('$block', {allowAttributes: 'alignment'}),
            e.model.schema.setAttributeProperties('alignment', {
              isFormatting: !0,
            }),
            o
              ? e.conversion.attributeToAttribute(
                  (function (e) {
                    const t = {};
                    for (const i of e)
                      t[i.name] = {key: 'class', value: i.className};
                    return {
                      model: {key: 'alignment', values: e.map((e) => e.name)},
                      view: t,
                    };
                  })(n)
                )
              : e.conversion.for('downcast').attributeToAttribute(
                  (function (e) {
                    const t = {};
                    for (const {name: i} of e)
                      t[i] = {key: 'style', value: {'text-align': i}};
                    return {
                      model: {key: 'alignment', values: e.map((e) => e.name)},
                      view: t,
                    };
                  })(n)
                );
          const r = (function (e) {
            const t = [];
            for (const {name: i} of e)
              t.push({
                view: {key: 'style', value: {'text-align': i}},
                model: {key: 'alignment', value: i},
              });
            return t;
          })(n);
          for (const t of r) e.conversion.for('upcast').attributeToAttribute(t);
          const s = (function (e) {
            const t = [];
            for (const {name: i} of e)
              t.push({
                view: {key: 'align', value: i},
                model: {key: 'alignment', value: i},
              });
            return t;
          })(n);
          for (const t of s) e.conversion.for('upcast').attributeToAttribute(t);
          e.commands.add('alignment', new pd(e));
        }
      }
      function kd({emitter: e, activator: t, callback: i, contextElements: n}) {
        e.listenTo(document, 'mousedown', (e, o) => {
          if (!t()) return;
          const r = 'function' == typeof o.composedPath ? o.composedPath() : [],
            s = 'function' == typeof n ? n() : n;
          for (const e of s) if (e.contains(o.target) || r.includes(e)) return;
          i();
        });
      }
      function wd(e) {
        return class extends e {
          disableCssTransitions() {
            this._isCssTransitionsDisabled = !0;
          }
          enableCssTransitions() {
            this._isCssTransitionsDisabled = !1;
          }
          constructor(...e) {
            super(...e),
              this.set('_isCssTransitionsDisabled', !1),
              this.initializeCssTransitionDisablerMixin();
          }
          initializeCssTransitionDisablerMixin() {
            this.extendTemplate({
              attributes: {
                class: [
                  this.bindTemplate.if(
                    '_isCssTransitionsDisabled',
                    'ck-transitions-disabled'
                  ),
                ],
              },
            });
          }
        };
      }
      function _d({view: e}) {
        e.listenTo(
          e.element,
          'submit',
          (t, i) => {
            i.preventDefault(), e.fire('submit');
          },
          {useCapture: !0}
        );
      }
      function vd({
        keystrokeHandler: e,
        focusTracker: t,
        gridItems: i,
        numberOfColumns: n,
        uiLanguageDirection: o,
      }) {
        const r = 'number' == typeof n ? () => n : n;
        function s(e) {
          return (n) => {
            const o = i.find((e) => e.element === t.focusedElement),
              r = i.getIndex(o),
              s = e(r, i);
            i.get(s).focus(), n.stopPropagation(), n.preventDefault();
          };
        }
        function a(e, t) {
          return e === t - 1 ? 0 : e + 1;
        }
        function l(e, t) {
          return 0 === e ? t - 1 : e - 1;
        }
        e.set(
          'arrowright',
          s((e, t) => ('rtl' === o ? l(e, t.length) : a(e, t.length)))
        ),
          e.set(
            'arrowleft',
            s((e, t) => ('rtl' === o ? a(e, t.length) : l(e, t.length)))
          ),
          e.set(
            'arrowup',
            s((e, t) => {
              let i = e - r();
              return (
                i < 0 &&
                  ((i = e + r() * Math.floor(t.length / r())),
                  i > t.length - 1 && (i -= r())),
                i
              );
            })
          ),
          e.set(
            'arrowdown',
            s((e, t) => {
              let i = e + r();
              return i > t.length - 1 && (i = e % r()), i;
            })
          );
      }
      class yd extends Tn {
        constructor(e = []) {
          super(e, {idProperty: 'viewUid'}),
            this.on('add', (e, t, i) => {
              this._renderViewIntoCollectionParent(t, i);
            }),
            this.on('remove', (e, t) => {
              t.element && this._parentElement && t.element.remove();
            }),
            (this._parentElement = null);
        }
        destroy() {
          this.map((e) => e.destroy());
        }
        setParent(e) {
          this._parentElement = e;
          for (const e of this) this._renderViewIntoCollectionParent(e);
        }
        delegate(...e) {
          if (!e.length || !e.every((e) => 'string' == typeof e))
            throw new f('ui-viewcollection-delegate-wrong-events', this);
          return {
            to: (t) => {
              for (const i of this) for (const n of e) i.delegate(n).to(t);
              this.on('add', (i, n) => {
                for (const i of e) n.delegate(i).to(t);
              }),
                this.on('remove', (i, n) => {
                  for (const i of e) n.stopDelegating(i, t);
                });
            },
          };
        }
        _renderViewIntoCollectionParent(e, t) {
          e.isRendered || e.render(),
            e.element &&
              this._parentElement &&
              this._parentElement.insertBefore(
                e.element,
                this._parentElement.children[t]
              );
        }
        remove(e) {
          return super.remove(e);
        }
      }
      var xd = i(708),
        Ad = {attributes: {'data-cke': !0}};
      (Ad.setAttributes = Qn()),
        (Ad.insert = Yn().bind(null, 'head')),
        (Ad.domAPI = qn()),
        (Ad.insertStyleElement = Xn()),
        Zn()(xd.Z, Ad),
        xd.Z && xd.Z.locals && xd.Z.locals;
      class Cd extends Oi(z()) {
        constructor(e) {
          super(),
            (this.element = null),
            (this.isRendered = !1),
            (this.locale = e),
            (this.t = e && e.t),
            (this._viewCollections = new Tn()),
            (this._unboundChildren = this.createCollection()),
            this._viewCollections.on('add', (t, i) => {
              (i.locale = e), (i.t = e && e.t);
            }),
            this.decorate('render');
        }
        get bindTemplate() {
          return this._bindTemplate
            ? this._bindTemplate
            : (this._bindTemplate = Ed.bind(this, this));
        }
        createCollection(e) {
          const t = new yd(e);
          return this._viewCollections.add(t), t;
        }
        registerChild(e) {
          q(e) || (e = [e]);
          for (const t of e) this._unboundChildren.add(t);
        }
        deregisterChild(e) {
          q(e) || (e = [e]);
          for (const t of e) this._unboundChildren.remove(t);
        }
        setTemplate(e) {
          this.template = new Ed(e);
        }
        extendTemplate(e) {
          Ed.extend(this.template, e);
        }
        render() {
          if (this.isRendered)
            throw new f('ui-view-render-already-rendered', this);
          this.template &&
            ((this.element = this.template.render()),
            this.registerChild(this.template.getViews())),
            (this.isRendered = !0);
        }
        destroy() {
          this.stopListening(),
            this._viewCollections.map((e) => e.destroy()),
            this.template &&
              this.template._revertData &&
              this.template.revert(this.element);
        }
      }
      class Ed extends x() {
        constructor(e) {
          super(),
            Object.assign(this, Vd(Dd(e))),
            (this._isRendered = !1),
            (this._revertData = null);
        }
        render() {
          const e = this._renderNode({intoFragment: !0});
          return (this._isRendered = !0), e;
        }
        apply(e) {
          return (
            (this._revertData = {children: [], bindings: [], attributes: {}}),
            this._renderNode({
              node: e,
              intoFragment: !1,
              isApplying: !0,
              revertData: this._revertData,
            }),
            e
          );
        }
        revert(e) {
          if (!this._revertData)
            throw new f('ui-template-revert-not-applied', [this, e]);
          this._revertTemplateFromNode(e, this._revertData);
        }
        *getViews() {
          yield* (function* e(t) {
            if (t.children)
              for (const i of t.children)
                Hd(i) ? yield i : $d(i) && (yield* e(i));
          })(this);
        }
        static bind(e, t) {
          return {
            to(i, n) {
              return new Sd({
                eventNameOrFunction: i,
                attribute: i,
                observable: e,
                emitter: t,
                callback: n,
              });
            },
            if(i, n, o) {
              return new Id({
                observable: e,
                emitter: t,
                attribute: i,
                valueIfTrue: n,
                callback: o,
              });
            },
          };
        }
        static extend(e, t) {
          if (e._isRendered) throw new f('template-extend-render', [this, e]);
          Fd(e, Vd(Dd(t)));
        }
        _renderNode(e) {
          let t;
          if (
            ((t = e.node
              ? this.tag && this.text
              : this.tag
              ? this.text
              : !this.text),
            t)
          )
            throw new f('ui-template-wrong-syntax', this);
          return this.text ? this._renderText(e) : this._renderElement(e);
        }
        _renderElement(e) {
          let t = e.node;
          return (
            t ||
              (t = e.node =
                document.createElementNS(
                  this.ns || 'http://www.w3.org/1999/xhtml',
                  this.tag
                )),
            this._renderAttributes(e),
            this._renderElementChildren(e),
            this._setUpListeners(e),
            t
          );
        }
        _renderText(e) {
          let t = e.node;
          return (
            t
              ? (e.revertData.text = t.textContent)
              : (t = e.node = document.createTextNode('')),
            Pd(this.text)
              ? this._bindToObservable({
                  schema: this.text,
                  updater: Rd(t),
                  data: e,
                })
              : (t.textContent = this.text.join('')),
            t
          );
        }
        _renderAttributes(e) {
          if (!this.attributes) return;
          const t = e.node,
            i = e.revertData;
          for (const n in this.attributes) {
            const o = t.getAttribute(n),
              r = this.attributes[n];
            i && (i.attributes[n] = o);
            const s = Zd(r) ? r[0].ns : null;
            if (Pd(r)) {
              const a = Zd(r) ? r[0].value : r;
              i && Wd(n) && a.unshift(o),
                this._bindToObservable({
                  schema: a,
                  updater: Nd(t, n, s),
                  data: e,
                });
            } else if ('style' == n && 'string' != typeof r[0])
              this._renderStyleAttribute(r[0], e);
            else {
              i && o && Wd(n) && r.unshift(o);
              const e = r
                .map((e) => (e && e.value) || e)
                .reduce((e, t) => e.concat(t), [])
                .reduce(zd, '');
              jd(e) || t.setAttributeNS(s, n, e);
            }
          }
        }
        _renderStyleAttribute(e, t) {
          const i = t.node;
          for (const n in e) {
            const o = e[n];
            Pd(o)
              ? this._bindToObservable({
                  schema: [o],
                  updater: Od(i, n),
                  data: t,
                })
              : (i.style[n] = o);
          }
        }
        _renderElementChildren(e) {
          const t = e.node,
            i = e.intoFragment ? document.createDocumentFragment() : t,
            n = e.isApplying;
          let o = 0;
          for (const r of this.children)
            if (Ud(r)) {
              if (!n) {
                r.setParent(t);
                for (const e of r) i.appendChild(e.element);
              }
            } else if (Hd(r))
              n || (r.isRendered || r.render(), i.appendChild(r.element));
            else if (Mi(r)) i.appendChild(r);
            else if (n) {
              const t = {children: [], bindings: [], attributes: {}};
              e.revertData.children.push(t),
                r._renderNode({
                  intoFragment: !1,
                  node: i.childNodes[o++],
                  isApplying: !0,
                  revertData: t,
                });
            } else i.appendChild(r.render());
          e.intoFragment && t.appendChild(i);
        }
        _setUpListeners(e) {
          if (this.eventListeners)
            for (const t in this.eventListeners) {
              const i = this.eventListeners[t].map((i) => {
                const [n, o] = t.split('@');
                return i.activateDomEventListener(n, o, e);
              });
              e.revertData && e.revertData.bindings.push(i);
            }
        }
        _bindToObservable({schema: e, updater: t, data: i}) {
          const n = i.revertData;
          Md(e, t, i);
          const o = e
            .filter((e) => !jd(e))
            .filter((e) => e.observable)
            .map((n) => n.activateAttributeListener(e, t, i));
          n && n.bindings.push(o);
        }
        _revertTemplateFromNode(e, t) {
          for (const e of t.bindings) for (const t of e) t();
          if (t.text) return void (e.textContent = t.text);
          const i = e;
          for (const e in t.attributes) {
            const n = t.attributes[e];
            null === n ? i.removeAttribute(e) : i.setAttribute(e, n);
          }
          for (let e = 0; e < t.children.length; ++e)
            this._revertTemplateFromNode(i.childNodes[e], t.children[e]);
        }
      }
      class Td {
        constructor(e) {
          (this.attribute = e.attribute),
            (this.observable = e.observable),
            (this.emitter = e.emitter),
            (this.callback = e.callback);
        }
        getValue(e) {
          const t = this.observable[this.attribute];
          return this.callback ? this.callback(t, e) : t;
        }
        activateAttributeListener(e, t, i) {
          const n = () => Md(e, t, i);
          return (
            this.emitter.listenTo(
              this.observable,
              `change:${this.attribute}`,
              n
            ),
            () => {
              this.emitter.stopListening(
                this.observable,
                `change:${this.attribute}`,
                n
              );
            }
          );
        }
      }
      class Sd extends Td {
        constructor(e) {
          super(e), (this.eventNameOrFunction = e.eventNameOrFunction);
        }
        activateDomEventListener(e, t, i) {
          const n = (e, i) => {
            (t && !i.target.matches(t)) ||
              ('function' == typeof this.eventNameOrFunction
                ? this.eventNameOrFunction(i)
                : this.observable.fire(this.eventNameOrFunction, i));
          };
          return (
            this.emitter.listenTo(i.node, e, n),
            () => {
              this.emitter.stopListening(i.node, e, n);
            }
          );
        }
      }
      class Id extends Td {
        constructor(e) {
          super(e), (this.valueIfTrue = e.valueIfTrue);
        }
        getValue(e) {
          return !jd(super.getValue(e)) && (this.valueIfTrue || !0);
        }
      }
      function Pd(e) {
        return (
          !!e &&
          (e.value && (e = e.value),
          Array.isArray(e) ? e.some(Pd) : e instanceof Td)
        );
      }
      function Md(e, t, {node: i}) {
        const n = (function (e, t) {
          return e.map((e) => (e instanceof Td ? e.getValue(t) : e));
        })(e, i);
        let o;
        (o = 1 == e.length && e[0] instanceof Id ? n[0] : n.reduce(zd, '')),
          jd(o) ? t.remove() : t.set(o);
      }
      function Rd(e) {
        return {
          set(t) {
            e.textContent = t;
          },
          remove() {
            e.textContent = '';
          },
        };
      }
      function Nd(e, t, i) {
        return {
          set(n) {
            e.setAttributeNS(i, t, n);
          },
          remove() {
            e.removeAttributeNS(i, t);
          },
        };
      }
      function Od(e, t) {
        return {
          set(i) {
            e.style[t] = i;
          },
          remove() {
            e.style[t] = null;
          },
        };
      }
      function Dd(e) {
        return Ei(e, (e) => {
          if (e && (e instanceof Td || $d(e) || Hd(e) || Ud(e))) return e;
        });
      }
      function Vd(e) {
        if (
          ('string' == typeof e
            ? (e = (function (e) {
                return {text: [e]};
              })(e))
            : e.text &&
              (function (e) {
                e.text = xn(e.text);
              })(e),
          e.on &&
            ((e.eventListeners = (function (e) {
              for (const t in e) Ld(e, t);
              return e;
            })(e.on)),
            delete e.on),
          !e.text)
        ) {
          e.attributes &&
            (function (e) {
              for (const t in e)
                e[t].value && (e[t].value = xn(e[t].value)), Ld(e, t);
            })(e.attributes);
          const t = [];
          if (e.children)
            if (Ud(e.children)) t.push(e.children);
            else
              for (const i of e.children)
                $d(i) || Hd(i) || Mi(i) ? t.push(i) : t.push(new Ed(i));
          e.children = t;
        }
        return e;
      }
      function Ld(e, t) {
        e[t] = xn(e[t]);
      }
      function zd(e, t) {
        return jd(t) ? e : jd(e) ? t : `${e} ${t}`;
      }
      function Bd(e, t) {
        for (const i in t) e[i] ? e[i].push(...t[i]) : (e[i] = t[i]);
      }
      function Fd(e, t) {
        if (
          (t.attributes &&
            (e.attributes || (e.attributes = {}),
            Bd(e.attributes, t.attributes)),
          t.eventListeners &&
            (e.eventListeners || (e.eventListeners = {}),
            Bd(e.eventListeners, t.eventListeners)),
          t.text && e.text.push(...t.text),
          t.children && t.children.length)
        ) {
          if (e.children.length != t.children.length)
            throw new f('ui-template-extend-children-mismatch', e);
          let i = 0;
          for (const n of t.children) Fd(e.children[i++], n);
        }
      }
      function jd(e) {
        return !e && 0 !== e;
      }
      function Hd(e) {
        return e instanceof Cd;
      }
      function $d(e) {
        return e instanceof Ed;
      }
      function Ud(e) {
        return e instanceof yd;
      }
      function Zd(e) {
        return M(e[0]) && e[0].ns;
      }
      function Wd(e) {
        return 'class' == e || 'style' == e;
      }
      class qd extends yd {
        constructor(e, t = []) {
          super(t), (this.locale = e);
        }
        attachToDom() {
          this._bodyCollectionContainer = new Ed({
            tag: 'div',
            attributes: {
              class: ['ck', 'ck-reset_all', 'ck-body', 'ck-rounded-corners'],
              dir: this.locale.uiLanguageDirection,
            },
            children: this,
          }).render();
          let e = document.querySelector('.ck-body-wrapper');
          e ||
            ((e = le(document, 'div', {class: 'ck-body-wrapper'})),
            document.body.appendChild(e)),
            e.appendChild(this._bodyCollectionContainer);
        }
        detachFromDom() {
          super.destroy(),
            this._bodyCollectionContainer &&
              this._bodyCollectionContainer.remove();
          const e = document.querySelector('.ck-body-wrapper');
          e && 0 == e.childElementCount && e.remove();
        }
      }
      var Gd = i(8931),
        Yd = {attributes: {'data-cke': !0}};
      (Yd.setAttributes = Qn()),
        (Yd.insert = Yn().bind(null, 'head')),
        (Yd.domAPI = qn()),
        (Yd.insertStyleElement = Xn()),
        Zn()(Gd.Z, Yd),
        Gd.Z && Gd.Z.locals && Gd.Z.locals;
      class Kd extends Cd {
        constructor() {
          super();
          const e = this.bindTemplate;
          this.set('content', ''),
            this.set('viewBox', '0 0 20 20'),
            this.set('fillColor', ''),
            this.set('isColorInherited', !0),
            this.setTemplate({
              tag: 'svg',
              ns: 'http://www.w3.org/2000/svg',
              attributes: {
                class: [
                  'ck',
                  'ck-icon',
                  'ck-reset_all-excluded',
                  e.if('isColorInherited', 'ck-icon_inherit-color'),
                ],
                viewBox: e.to('viewBox'),
              },
            });
        }
        render() {
          super.render(),
            this._updateXMLContent(),
            this._colorFillPaths(),
            this.on('change:content', () => {
              this._updateXMLContent(), this._colorFillPaths();
            }),
            this.on('change:fillColor', () => {
              this._colorFillPaths();
            });
        }
        _updateXMLContent() {
          if (this.content) {
            const e = new DOMParser()
                .parseFromString(this.content.trim(), 'image/svg+xml')
                .querySelector('svg'),
              t = e.getAttribute('viewBox');
            t && (this.viewBox = t);
            for (const {name: t, value: i} of Array.from(e.attributes))
              Kd.presentationalAttributeNames.includes(t) &&
                this.element.setAttribute(t, i);
            for (; this.element.firstChild; )
              this.element.removeChild(this.element.firstChild);
            for (; e.childNodes.length > 0; )
              this.element.appendChild(e.childNodes[0]);
          }
        }
        _colorFillPaths() {
          this.fillColor &&
            this.element.querySelectorAll('.ck-icon__fill').forEach((e) => {
              e.style.fill = this.fillColor;
            });
        }
      }
      Kd.presentationalAttributeNames = [
        'alignment-baseline',
        'baseline-shift',
        'clip-path',
        'clip-rule',
        'color',
        'color-interpolation',
        'color-interpolation-filters',
        'color-rendering',
        'cursor',
        'direction',
        'display',
        'dominant-baseline',
        'fill',
        'fill-opacity',
        'fill-rule',
        'filter',
        'flood-color',
        'flood-opacity',
        'font-family',
        'font-size',
        'font-size-adjust',
        'font-stretch',
        'font-style',
        'font-variant',
        'font-weight',
        'image-rendering',
        'letter-spacing',
        'lighting-color',
        'marker-end',
        'marker-mid',
        'marker-start',
        'mask',
        'opacity',
        'overflow',
        'paint-order',
        'pointer-events',
        'shape-rendering',
        'stop-color',
        'stop-opacity',
        'stroke',
        'stroke-dasharray',
        'stroke-dashoffset',
        'stroke-linecap',
        'stroke-linejoin',
        'stroke-miterlimit',
        'stroke-opacity',
        'stroke-width',
        'text-anchor',
        'text-decoration',
        'text-overflow',
        'text-rendering',
        'transform',
        'unicode-bidi',
        'vector-effect',
        'visibility',
        'white-space',
        'word-spacing',
        'writing-mode',
      ];
      var Qd = i(1038),
        Jd = {attributes: {'data-cke': !0}};
      (Jd.setAttributes = Qn()),
        (Jd.insert = Yn().bind(null, 'head')),
        (Jd.domAPI = qn()),
        (Jd.insertStyleElement = Xn()),
        Zn()(Qd.Z, Jd),
        Qd.Z && Qd.Z.locals && Qd.Z.locals;
      class Xd extends Cd {
        constructor(e) {
          super(e);
          const t = this.bindTemplate,
            i = u();
          this.set('class', void 0),
            this.set('labelStyle', void 0),
            this.set('icon', void 0),
            this.set('isEnabled', !0),
            this.set('isOn', !1),
            this.set('isVisible', !0),
            this.set('isToggleable', !1),
            this.set('keystroke', void 0),
            this.set('label', void 0),
            this.set('tabindex', -1),
            this.set('tooltip', !1),
            this.set('tooltipPosition', 's'),
            this.set('type', 'button'),
            this.set('withText', !1),
            this.set('withKeystroke', !1),
            (this.children = this.createCollection()),
            (this.labelView = this._createLabelView(i)),
            (this.iconView = new Kd()),
            this.iconView.extendTemplate({
              attributes: {class: 'ck-button__icon'},
            }),
            (this.keystrokeView = this._createKeystrokeView()),
            this.bind('_tooltipString').to(
              this,
              'tooltip',
              this,
              'label',
              this,
              'keystroke',
              this._getTooltipString.bind(this)
            );
          const o = {
            tag: 'button',
            attributes: {
              class: [
                'ck',
                'ck-button',
                t.to('class'),
                t.if('isEnabled', 'ck-disabled', (e) => !e),
                t.if('isVisible', 'ck-hidden', (e) => !e),
                t.to('isOn', (e) => (e ? 'ck-on' : 'ck-off')),
                t.if('withText', 'ck-button_with-text'),
                t.if('withKeystroke', 'ck-button_with-keystroke'),
              ],
              type: t.to('type', (e) => e || 'button'),
              tabindex: t.to('tabindex'),
              'aria-labelledby': `ck-editor__aria-label_${i}`,
              'aria-disabled': t.if('isEnabled', !0, (e) => !e),
              'aria-pressed': t.to(
                'isOn',
                (e) => !!this.isToggleable && String(!!e)
              ),
              'data-cke-tooltip-text': t.to('_tooltipString'),
              'data-cke-tooltip-position': t.to('tooltipPosition'),
            },
            children: this.children,
            on: {
              click: t.to((e) => {
                this.isEnabled ? this.fire('execute') : e.preventDefault();
              }),
            },
          };
          n.isSafari &&
            (o.on.mousedown = t.to((e) => {
              this.focus(), e.preventDefault();
            })),
            this.setTemplate(o);
        }
        render() {
          super.render(),
            this.icon &&
              (this.iconView.bind('content').to(this, 'icon'),
              this.children.add(this.iconView)),
            this.children.add(this.labelView),
            this.withKeystroke &&
              this.keystroke &&
              this.children.add(this.keystrokeView);
        }
        focus() {
          this.element.focus();
        }
        _createLabelView(e) {
          const t = new Cd(),
            i = this.bindTemplate;
          return (
            t.setTemplate({
              tag: 'span',
              attributes: {
                class: ['ck', 'ck-button__label'],
                style: i.to('labelStyle'),
                id: `ck-editor__aria-label_${e}`,
              },
              children: [{text: i.to('label')}],
            }),
            t
          );
        }
        _createKeystrokeView() {
          const e = new Cd();
          return (
            e.setTemplate({
              tag: 'span',
              attributes: {class: ['ck', 'ck-button__keystroke']},
              children: [
                {text: this.bindTemplate.to('keystroke', (e) => vn(e))},
              ],
            }),
            e
          );
        }
        _getTooltipString(e, t, i) {
          return e
            ? 'string' == typeof e
              ? e
              : (i && (i = vn(i)),
                e instanceof Function ? e(t, i) : `${t}${i ? ` (${i})` : ''}`)
            : '';
        }
      }
      var eu = i(7297),
        tu = {attributes: {'data-cke': !0}};
      (tu.setAttributes = Qn()),
        (tu.insert = Yn().bind(null, 'head')),
        (tu.domAPI = qn()),
        (tu.insertStyleElement = Xn()),
        Zn()(eu.Z, tu),
        eu.Z && eu.Z.locals && eu.Z.locals;
      class iu extends Xd {
        constructor(e) {
          super(e),
            (this.isToggleable = !0),
            (this.toggleSwitchView = this._createToggleView()),
            this.extendTemplate({attributes: {class: 'ck-switchbutton'}});
        }
        render() {
          super.render(), this.children.add(this.toggleSwitchView);
        }
        _createToggleView() {
          const e = new Cd();
          return (
            e.setTemplate({
              tag: 'span',
              attributes: {class: ['ck', 'ck-button__toggle']},
              children: [
                {
                  tag: 'span',
                  attributes: {class: ['ck', 'ck-button__toggle__inner']},
                },
              ],
            }),
            e
          );
        }
      }
      var nu = i(3064),
        ou = {attributes: {'data-cke': !0}};
      (ou.setAttributes = Qn()),
        (ou.insert = Yn().bind(null, 'head')),
        (ou.domAPI = qn()),
        (ou.insertStyleElement = Xn()),
        Zn()(nu.Z, ou),
        nu.Z && nu.Z.locals && nu.Z.locals;
      class ru {
        constructor(e) {
          (this._components = new Map()), (this.editor = e);
        }
        *names() {
          for (const e of this._components.values()) yield e.originalName;
        }
        add(e, t) {
          this._components.set(su(e), {callback: t, originalName: e});
        }
        create(e) {
          if (!this.has(e))
            throw new f('componentfactory-item-missing', this, {name: e});
          return this._components.get(su(e)).callback(this.editor.locale);
        }
        has(e) {
          return this._components.has(su(e));
        }
      }
      function su(e) {
        return String(e).toLowerCase();
      }
      var au = i(6388),
        lu = {attributes: {'data-cke': !0}};
      (lu.setAttributes = Qn()),
        (lu.insert = Yn().bind(null, 'head')),
        (lu.domAPI = qn()),
        (lu.insertStyleElement = Xn()),
        Zn()(au.Z, lu),
        au.Z && au.Z.locals && au.Z.locals;
      class cu extends Cd {
        constructor(e, t, i) {
          super(e);
          const n = this.bindTemplate;
          (this.buttonView = t),
            (this.panelView = i),
            this.set('isOpen', !1),
            this.set('isEnabled', !0),
            this.set('class', void 0),
            this.set('id', void 0),
            this.set('panelPosition', 'auto'),
            (this.keystrokes = new Pn()),
            (this.focusTracker = new In()),
            this.setTemplate({
              tag: 'div',
              attributes: {
                class: [
                  'ck',
                  'ck-dropdown',
                  n.to('class'),
                  n.if('isEnabled', 'ck-disabled', (e) => !e),
                ],
                id: n.to('id'),
                'aria-describedby': n.to('ariaDescribedById'),
              },
              children: [t, i],
            }),
            t.extendTemplate({
              attributes: {
                class: ['ck-dropdown__button'],
                'data-cke-tooltip-disabled': n.to('isOpen'),
              },
            });
        }
        render() {
          super.render(),
            this.focusTracker.add(this.buttonView.element),
            this.focusTracker.add(this.panelView.element),
            this.listenTo(this.buttonView, 'open', () => {
              this.isOpen = !this.isOpen;
            }),
            this.panelView.bind('isVisible').to(this, 'isOpen'),
            this.on('change:isOpen', (e, t, i) => {
              i &&
                ('auto' === this.panelPosition
                  ? (this.panelView.position = cu._getOptimalPosition({
                      element: this.panelView.element,
                      target: this.buttonView.element,
                      fitInViewport: !0,
                      positions: this._panelPositions,
                    }).name)
                  : (this.panelView.position = this.panelPosition));
            }),
            this.keystrokes.listenTo(this.element);
          const e = (e, t) => {
            this.isOpen && ((this.isOpen = !1), t());
          };
          this.keystrokes.set('arrowdown', (e, t) => {
            this.buttonView.isEnabled &&
              !this.isOpen &&
              ((this.isOpen = !0), t());
          }),
            this.keystrokes.set('arrowright', (e, t) => {
              this.isOpen && t();
            }),
            this.keystrokes.set('arrowleft', e),
            this.keystrokes.set('esc', e);
        }
        focus() {
          this.buttonView.focus();
        }
        get _panelPositions() {
          const {
            south: e,
            north: t,
            southEast: i,
            southWest: n,
            northEast: o,
            northWest: r,
            southMiddleEast: s,
            southMiddleWest: a,
            northMiddleEast: l,
            northMiddleWest: c,
          } = cu.defaultPanelPositions;
          return 'rtl' !== this.locale.uiLanguageDirection
            ? [i, n, s, a, e, o, r, l, c, t]
            : [n, i, a, s, e, r, o, c, l, t];
        }
      }
      (cu.defaultPanelPositions = {
        south: (e, t) => ({
          top: e.bottom,
          left: e.left - (t.width - e.width) / 2,
          name: 's',
        }),
        southEast: (e) => ({top: e.bottom, left: e.left, name: 'se'}),
        southWest: (e, t) => ({
          top: e.bottom,
          left: e.left - t.width + e.width,
          name: 'sw',
        }),
        southMiddleEast: (e, t) => ({
          top: e.bottom,
          left: e.left - (t.width - e.width) / 4,
          name: 'sme',
        }),
        southMiddleWest: (e, t) => ({
          top: e.bottom,
          left: e.left - (3 * (t.width - e.width)) / 4,
          name: 'smw',
        }),
        north: (e, t) => ({
          top: e.top - t.height,
          left: e.left - (t.width - e.width) / 2,
          name: 'n',
        }),
        northEast: (e, t) => ({
          top: e.top - t.height,
          left: e.left,
          name: 'ne',
        }),
        northWest: (e, t) => ({
          top: e.top - t.height,
          left: e.left - t.width + e.width,
          name: 'nw',
        }),
        northMiddleEast: (e, t) => ({
          top: e.top - t.height,
          left: e.left - (t.width - e.width) / 4,
          name: 'nme',
        }),
        northMiddleWest: (e, t) => ({
          top: e.top - t.height,
          left: e.left - (3 * (t.width - e.width)) / 4,
          name: 'nmw',
        }),
      }),
        (cu._getOptimalPosition = en);
      class du extends Cd {
        constructor(e) {
          super(e);
          const t = this.bindTemplate;
          this.set('isVisible', !1),
            this.set('position', 'se'),
            (this.children = this.createCollection()),
            this.setTemplate({
              tag: 'div',
              attributes: {
                class: [
                  'ck',
                  'ck-reset',
                  'ck-dropdown__panel',
                  t.to('position', (e) => `ck-dropdown__panel_${e}`),
                  t.if('isVisible', 'ck-dropdown__panel-visible'),
                ],
              },
              children: this.children,
              on: {selectstart: t.to((e) => e.preventDefault())},
            });
        }
        focus() {
          if (this.children.length) {
            const e = this.children.first;
            'function' == typeof e.focus
              ? e.focus()
              : p('ui-dropdown-panel-focus-child-missing-focus', {
                  childView: this.children.first,
                  dropdownPanel: this,
                });
          }
        }
        focusLast() {
          if (this.children.length) {
            const e = this.children.last;
            'function' == typeof e.focusLast ? e.focusLast() : e.focus();
          }
        }
      }
      var uu =
        'export default "<svg viewBox=\\"0 0 10 10\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z\\"/></svg>";';
      class hu extends Xd {
        constructor(e) {
          super(e),
            (this.arrowView = this._createArrowView()),
            this.extendTemplate({
              attributes: {
                'aria-haspopup': !0,
                'aria-expanded': this.bindTemplate.to('isOn', (e) => String(e)),
              },
            }),
            this.delegate('execute').to(this, 'open');
        }
        render() {
          super.render(), this.children.add(this.arrowView);
        }
        _createArrowView() {
          const e = new Kd();
          return (
            (e.content = uu),
            e.extendTemplate({attributes: {class: 'ck-dropdown__arrow'}}),
            e
          );
        }
      }
      var mu = i(8587),
        gu = {attributes: {'data-cke': !0}};
      (gu.setAttributes = Qn()),
        (gu.insert = Yn().bind(null, 'head')),
        (gu.domAPI = qn()),
        (gu.insertStyleElement = Xn()),
        Zn()(mu.Z, gu),
        mu.Z && mu.Z.locals && mu.Z.locals;
      class fu extends Cd {
        constructor(e) {
          super(e);
          const t = this.bindTemplate;
          this.set('class', void 0),
            this.set('labelStyle', void 0),
            this.set('icon', void 0),
            this.set('isEnabled', !0),
            this.set('isOn', !1),
            this.set('isToggleable', !1),
            this.set('isVisible', !0),
            this.set('keystroke', void 0),
            this.set('withKeystroke', !1),
            this.set('label', void 0),
            this.set('tabindex', -1),
            this.set('tooltip', !1),
            this.set('tooltipPosition', 's'),
            this.set('type', 'button'),
            this.set('withText', !1),
            (this.children = this.createCollection()),
            (this.actionView = this._createActionView()),
            (this.arrowView = this._createArrowView()),
            (this.keystrokes = new Pn()),
            (this.focusTracker = new In()),
            this.setTemplate({
              tag: 'div',
              attributes: {
                class: [
                  'ck',
                  'ck-splitbutton',
                  t.to('class'),
                  t.if('isVisible', 'ck-hidden', (e) => !e),
                  this.arrowView.bindTemplate.if('isOn', 'ck-splitbutton_open'),
                ],
              },
              children: this.children,
            });
        }
        render() {
          super.render(),
            this.children.add(this.actionView),
            this.children.add(this.arrowView),
            this.focusTracker.add(this.actionView.element),
            this.focusTracker.add(this.arrowView.element),
            this.keystrokes.listenTo(this.element),
            this.keystrokes.set('arrowright', (e, t) => {
              this.focusTracker.focusedElement === this.actionView.element &&
                (this.arrowView.focus(), t());
            }),
            this.keystrokes.set('arrowleft', (e, t) => {
              this.focusTracker.focusedElement === this.arrowView.element &&
                (this.actionView.focus(), t());
            });
        }
        destroy() {
          super.destroy(),
            this.focusTracker.destroy(),
            this.keystrokes.destroy();
        }
        focus() {
          this.actionView.focus();
        }
        _createActionView() {
          const e = new Xd();
          return (
            e
              .bind(
                'icon',
                'isEnabled',
                'isOn',
                'isToggleable',
                'keystroke',
                'label',
                'tabindex',
                'tooltip',
                'tooltipPosition',
                'type',
                'withText'
              )
              .to(this),
            e.extendTemplate({attributes: {class: 'ck-splitbutton__action'}}),
            e.delegate('execute').to(this),
            e
          );
        }
        _createArrowView() {
          const e = new Xd(),
            t = e.bindTemplate;
          return (
            (e.icon = uu),
            e.extendTemplate({
              attributes: {
                class: ['ck-splitbutton__arrow'],
                'data-cke-tooltip-disabled': t.to('isOn'),
                'aria-haspopup': !0,
                'aria-expanded': t.to('isOn', (e) => String(e)),
              },
            }),
            e.bind('isEnabled').to(this),
            e.bind('label').to(this),
            e.bind('tooltip').to(this),
            e.delegate('execute').to(this, 'open'),
            e
          );
        }
      }
      class pu {
        constructor(e) {
          if (
            ((this.focusables = e.focusables),
            (this.focusTracker = e.focusTracker),
            (this.keystrokeHandler = e.keystrokeHandler),
            (this.actions = e.actions),
            e.actions && e.keystrokeHandler)
          )
            for (const t in e.actions) {
              let i = e.actions[t];
              'string' == typeof i && (i = [i]);
              for (const n of i)
                e.keystrokeHandler.set(n, (e, i) => {
                  this[t](), i();
                });
            }
        }
        get first() {
          return this.focusables.find(bu) || null;
        }
        get last() {
          return this.focusables.filter(bu).slice(-1)[0] || null;
        }
        get next() {
          return this._getFocusableItem(1);
        }
        get previous() {
          return this._getFocusableItem(-1);
        }
        get current() {
          let e = null;
          return null === this.focusTracker.focusedElement
            ? null
            : (this.focusables.find((t, i) => {
                const n = t.element === this.focusTracker.focusedElement;
                return n && (e = i), n;
              }),
              e);
        }
        focusFirst() {
          this._focus(this.first);
        }
        focusLast() {
          this._focus(this.last);
        }
        focusNext() {
          this._focus(this.next);
        }
        focusPrevious() {
          this._focus(this.previous);
        }
        _focus(e) {
          e && e.focus();
        }
        _getFocusableItem(e) {
          const t = this.current,
            i = this.focusables.length;
          if (!i) return null;
          if (null === t) return this[1 === e ? 'first' : 'last'];
          let n = (t + i + e) % i;
          do {
            const t = this.focusables.get(n);
            if (bu(t)) return t;
            n = (n + i + e) % i;
          } while (n !== t);
          return null;
        }
      }
      function bu(e) {
        return !(!e.focus || !Xi(e.element));
      }
      class ku extends Cd {
        constructor(e) {
          super(e),
            this.setTemplate({
              tag: 'span',
              attributes: {class: ['ck', 'ck-toolbar__separator']},
            });
        }
      }
      class wu extends Cd {
        constructor(e) {
          super(e),
            this.setTemplate({
              tag: 'span',
              attributes: {class: ['ck', 'ck-toolbar__line-break']},
            });
        }
      }
      function _u(e) {
        return Array.isArray(e)
          ? {items: e, removeItems: []}
          : e
          ? Object.assign({items: [], removeItems: []}, e)
          : {items: [], removeItems: []};
      }
      var vu = i(993),
        yu = {attributes: {'data-cke': !0}};
      (yu.setAttributes = Qn()),
        (yu.insert = Yn().bind(null, 'head')),
        (yu.domAPI = qn()),
        (yu.insertStyleElement = Xn()),
        Zn()(vu.Z, yu),
        vu.Z && vu.Z.locals && vu.Z.locals;
      const {threeVerticalDots: xu} = dd,
        Au = {
          alignLeft: dd.alignLeft,
          bold: dd.bold,
          importExport: dd.importExport,
          paragraph: dd.paragraph,
          plus: dd.plus,
          text: dd.text,
          threeVerticalDots: dd.threeVerticalDots,
        };
      class Cu extends Cd {
        constructor(e, t) {
          super(e);
          const i = this.bindTemplate,
            n = this.t;
          (this.options = t || {}),
            this.set('ariaLabel', n('Editor toolbar')),
            this.set('maxWidth', 'auto'),
            (this.items = this.createCollection()),
            (this.focusTracker = new In()),
            (this.keystrokes = new Pn()),
            this.set('class', void 0),
            this.set('isCompact', !1),
            (this.itemsView = new Eu(e)),
            (this.children = this.createCollection()),
            this.children.add(this.itemsView),
            (this.focusables = this.createCollection());
          const o = 'rtl' === e.uiLanguageDirection;
          this._focusCycler = new pu({
            focusables: this.focusables,
            focusTracker: this.focusTracker,
            keystrokeHandler: this.keystrokes,
            actions: {
              focusPrevious: [o ? 'arrowright' : 'arrowleft', 'arrowup'],
              focusNext: [o ? 'arrowleft' : 'arrowright', 'arrowdown'],
            },
          });
          const r = [
            'ck',
            'ck-toolbar',
            i.to('class'),
            i.if('isCompact', 'ck-toolbar_compact'),
          ];
          var s;
          this.options.shouldGroupWhenFull &&
            this.options.isFloating &&
            r.push('ck-toolbar_floating'),
            this.setTemplate({
              tag: 'div',
              attributes: {
                class: r,
                role: 'toolbar',
                'aria-label': i.to('ariaLabel'),
                style: {maxWidth: i.to('maxWidth')},
              },
              children: this.children,
              on: {
                mousedown:
                  ((s = this),
                  s.bindTemplate.to((e) => {
                    e.target === s.element && e.preventDefault();
                  })),
              },
            }),
            (this._behavior = this.options.shouldGroupWhenFull
              ? new Su(this)
              : new Tu(this));
        }
        render() {
          super.render();
          for (const e of this.items) this.focusTracker.add(e.element);
          this.items.on('add', (e, t) => {
            this.focusTracker.add(t.element);
          }),
            this.items.on('remove', (e, t) => {
              this.focusTracker.remove(t.element);
            }),
            this.keystrokes.listenTo(this.element),
            this._behavior.render(this);
        }
        destroy() {
          return (
            this._behavior.destroy(),
            this.focusTracker.destroy(),
            this.keystrokes.destroy(),
            super.destroy()
          );
        }
        focus() {
          this._focusCycler.focusFirst();
        }
        focusLast() {
          this._focusCycler.focusLast();
        }
        fillFromConfig(e, t, i) {
          this.items.addMany(this._buildItemsFromConfig(e, t, i));
        }
        _buildItemsFromConfig(e, t, i) {
          const n = _u(e),
            o = i || n.removeItems;
          return this._cleanItemsConfiguration(n.items, t, o)
            .map((e) =>
              M(e)
                ? this._createNestedToolbarDropdown(e, t, o)
                : '|' === e
                ? new ku()
                : '-' === e
                ? new wu()
                : t.create(e)
            )
            .filter((e) => !!e);
        }
        _cleanItemsConfiguration(e, t, i) {
          const n = e.filter(
            (e, n, o) =>
              '|' === e ||
              (-1 === i.indexOf(e) &&
                ('-' === e
                  ? !this.options.shouldGroupWhenFull ||
                    (p('toolbarview-line-break-ignored-when-grouping-items', o),
                    !1)
                  : !(
                      !M(e) &&
                      !t.has(e) &&
                      (p('toolbarview-item-unavailable', {item: e}), 1)
                    )))
          );
          return this._cleanSeparatorsAndLineBreaks(n);
        }
        _cleanSeparatorsAndLineBreaks(e) {
          const t = (e) => '-' !== e && '|' !== e,
            i = e.length,
            n = e.findIndex(t);
          if (-1 === n) return [];
          const o = i - e.slice().reverse().findIndex(t);
          return e
            .slice(n, o)
            .filter((e, i, n) => !!t(e) || !(i > 0 && n[i - 1] === e));
        }
        _createNestedToolbarDropdown(e, t, i) {
          let {
            label: n,
            icon: o,
            items: r,
            tooltip: s = !0,
            withText: a = !1,
          } = e;
          if (((r = this._cleanItemsConfiguration(r, t, i)), !r.length))
            return null;
          const l = zu(this.locale);
          return (
            n || p('toolbarview-nested-toolbar-dropdown-missing-label', e),
            (l.class = 'ck-toolbar__nested-toolbar-dropdown'),
            l.buttonView.set({label: n, tooltip: s, withText: !!a}),
            !1 !== o
              ? (l.buttonView.icon = Au[o] || o || xu)
              : (l.buttonView.withText = !0),
            Bu(l, () => l.toolbarView._buildItemsFromConfig(r, t, i)),
            l
          );
        }
      }
      class Eu extends Cd {
        constructor(e) {
          super(e),
            (this.children = this.createCollection()),
            this.setTemplate({
              tag: 'div',
              attributes: {class: ['ck', 'ck-toolbar__items']},
              children: this.children,
            });
        }
      }
      class Tu {
        constructor(e) {
          const t = e.bindTemplate;
          e.set('isVertical', !1),
            e.itemsView.children.bindTo(e.items).using((e) => e),
            e.focusables.bindTo(e.items).using((e) => e),
            e.extendTemplate({
              attributes: {class: [t.if('isVertical', 'ck-toolbar_vertical')]},
            });
        }
        render() {}
        destroy() {}
      }
      class Su {
        constructor(e) {
          (this.resizeObserver = null),
            (this.cachedPadding = null),
            (this.shouldUpdateGroupingOnNextResize = !1),
            (this.view = e),
            (this.viewChildren = e.children),
            (this.viewFocusables = e.focusables),
            (this.viewItemsView = e.itemsView),
            (this.viewFocusTracker = e.focusTracker),
            (this.viewLocale = e.locale),
            (this.ungroupedItems = e.createCollection()),
            (this.groupedItems = e.createCollection()),
            (this.groupedItemsDropdown = this._createGroupedItemsDropdown()),
            e.itemsView.children.bindTo(this.ungroupedItems).using((e) => e),
            this.ungroupedItems.on(
              'change',
              this._updateFocusCycleableItems.bind(this)
            ),
            e.children.on('change', this._updateFocusCycleableItems.bind(this)),
            e.items.on('change', (e, t) => {
              const i = t.index,
                n = Array.from(t.added);
              for (const e of t.removed)
                i >= this.ungroupedItems.length
                  ? this.groupedItems.remove(e)
                  : this.ungroupedItems.remove(e);
              for (let e = i; e < i + n.length; e++) {
                const t = n[e - i];
                e > this.ungroupedItems.length
                  ? this.groupedItems.add(t, e - this.ungroupedItems.length)
                  : this.ungroupedItems.add(t, e);
              }
              this._updateGrouping();
            }),
            e.extendTemplate({attributes: {class: ['ck-toolbar_grouping']}});
        }
        render(e) {
          (this.viewElement = e.element),
            this._enableGroupingOnResize(),
            this._enableGroupingOnMaxWidthChange(e);
        }
        destroy() {
          this.groupedItemsDropdown.destroy(), this.resizeObserver.destroy();
        }
        _updateGrouping() {
          if (!this.viewElement.ownerDocument.body.contains(this.viewElement))
            return;
          if (!Xi(this.viewElement))
            return void (this.shouldUpdateGroupingOnNextResize = !0);
          const e = this.groupedItems.length;
          let t;
          for (; this._areItemsOverflowing; ) this._groupLastItem(), (t = !0);
          if (!t && this.groupedItems.length) {
            for (; this.groupedItems.length && !this._areItemsOverflowing; )
              this._ungroupFirstItem();
            this._areItemsOverflowing && this._groupLastItem();
          }
          this.groupedItems.length !== e &&
            this.view.fire('groupedItemsUpdate');
        }
        get _areItemsOverflowing() {
          if (!this.ungroupedItems.length) return !1;
          const e = this.viewElement,
            t = this.viewLocale.uiLanguageDirection,
            i = new Ui(e.lastChild),
            n = new Ui(e);
          if (!this.cachedPadding) {
            const i = zi.window.getComputedStyle(e),
              n = 'ltr' === t ? 'paddingRight' : 'paddingLeft';
            this.cachedPadding = Number.parseInt(i[n]);
          }
          return 'ltr' === t
            ? i.right > n.right - this.cachedPadding
            : i.left < n.left + this.cachedPadding;
        }
        _enableGroupingOnResize() {
          let e;
          (this.resizeObserver = new Gi(this.viewElement, (t) => {
            (e &&
              e === t.contentRect.width &&
              !this.shouldUpdateGroupingOnNextResize) ||
              ((this.shouldUpdateGroupingOnNextResize = !1),
              this._updateGrouping(),
              (e = t.contentRect.width));
          })),
            this._updateGrouping();
        }
        _enableGroupingOnMaxWidthChange(e) {
          e.on('change:maxWidth', () => {
            this._updateGrouping();
          });
        }
        _groupLastItem() {
          this.groupedItems.length ||
            (this.viewChildren.add(new ku()),
            this.viewChildren.add(this.groupedItemsDropdown),
            this.viewFocusTracker.add(this.groupedItemsDropdown.element)),
            this.groupedItems.add(
              this.ungroupedItems.remove(this.ungroupedItems.last),
              0
            );
        }
        _ungroupFirstItem() {
          this.ungroupedItems.add(
            this.groupedItems.remove(this.groupedItems.first)
          ),
            this.groupedItems.length ||
              (this.viewChildren.remove(this.groupedItemsDropdown),
              this.viewChildren.remove(this.viewChildren.last),
              this.viewFocusTracker.remove(this.groupedItemsDropdown.element));
        }
        _createGroupedItemsDropdown() {
          const e = this.viewLocale,
            t = e.t,
            i = zu(e);
          return (
            (i.class = 'ck-toolbar__grouped-dropdown'),
            (i.panelPosition = 'ltr' === e.uiLanguageDirection ? 'sw' : 'se'),
            Bu(i, this.groupedItems),
            i.buttonView.set({
              label: t('Show more items'),
              tooltip: !0,
              tooltipPosition: 'rtl' === e.uiLanguageDirection ? 'se' : 'sw',
              icon: xu,
            }),
            i
          );
        }
        _updateFocusCycleableItems() {
          this.viewFocusables.clear(),
            this.ungroupedItems.map((e) => {
              this.viewFocusables.add(e);
            }),
            this.groupedItems.length &&
              this.viewFocusables.add(this.groupedItemsDropdown);
        }
      }
      var Iu = i(2813),
        Pu = {attributes: {'data-cke': !0}};
      (Pu.setAttributes = Qn()),
        (Pu.insert = Yn().bind(null, 'head')),
        (Pu.domAPI = qn()),
        (Pu.insertStyleElement = Xn()),
        Zn()(Iu.Z, Pu),
        Iu.Z && Iu.Z.locals && Iu.Z.locals;
      class Mu extends Cd {
        constructor(e) {
          super(e);
          const t = this.bindTemplate;
          (this.items = this.createCollection()),
            (this.focusTracker = new In()),
            (this.keystrokes = new Pn()),
            (this._focusCycler = new pu({
              focusables: this.items,
              focusTracker: this.focusTracker,
              keystrokeHandler: this.keystrokes,
              actions: {focusPrevious: 'arrowup', focusNext: 'arrowdown'},
            })),
            this.set('ariaLabel', void 0),
            this.setTemplate({
              tag: 'ul',
              attributes: {
                class: ['ck', 'ck-reset', 'ck-list'],
                'aria-label': t.to('ariaLabel'),
              },
              children: this.items,
            });
        }
        render() {
          super.render();
          for (const e of this.items) this.focusTracker.add(e.element);
          this.items.on('add', (e, t) => {
            this.focusTracker.add(t.element);
          }),
            this.items.on('remove', (e, t) => {
              this.focusTracker.remove(t.element);
            }),
            this.keystrokes.listenTo(this.element);
        }
        destroy() {
          super.destroy(),
            this.focusTracker.destroy(),
            this.keystrokes.destroy();
        }
        focus() {
          this._focusCycler.focusFirst();
        }
        focusLast() {
          this._focusCycler.focusLast();
        }
      }
      class Ru extends Cd {
        constructor(e) {
          super(e);
          const t = this.bindTemplate;
          this.set('isVisible', !0),
            (this.children = this.createCollection()),
            this.setTemplate({
              tag: 'li',
              attributes: {
                class: [
                  'ck',
                  'ck-list__item',
                  t.if('isVisible', 'ck-hidden', (e) => !e),
                ],
              },
              children: this.children,
            });
        }
        focus() {
          this.children.first.focus();
        }
      }
      class Nu extends Cd {
        constructor(e) {
          super(e),
            this.setTemplate({
              tag: 'li',
              attributes: {class: ['ck', 'ck-list__separator']},
            });
        }
      }
      var Ou = i(713),
        Du = {attributes: {'data-cke': !0}};
      (Du.setAttributes = Qn()),
        (Du.insert = Yn().bind(null, 'head')),
        (Du.domAPI = qn()),
        (Du.insertStyleElement = Xn()),
        Zn()(Ou.Z, Du),
        Ou.Z && Ou.Z.locals && Ou.Z.locals;
      var Vu = i(5677),
        Lu = {attributes: {'data-cke': !0}};
      function zu(e, t = hu) {
        const i = new t(e),
          n = new du(e),
          o = new cu(e, i, n);
        return (
          i.bind('isEnabled').to(o),
          i instanceof fu
            ? i.arrowView.bind('isOn').to(o, 'isOpen')
            : i.bind('isOn').to(o, 'isOpen'),
          (function (e) {
            (function (e) {
              e.on('render', () => {
                kd({
                  emitter: e,
                  activator: () => e.isOpen,
                  callback: () => {
                    e.isOpen = !1;
                  },
                  contextElements: [e.element],
                });
              });
            })(e),
              (function (e) {
                e.on('execute', (t) => {
                  t.source instanceof iu || (e.isOpen = !1);
                });
              })(e),
              (function (e) {
                e.focusTracker.on('change:isFocused', (t, i, n) => {
                  e.isOpen && !n && (e.isOpen = !1);
                });
              })(e),
              (function (e) {
                e.keystrokes.set('arrowdown', (t, i) => {
                  e.isOpen && (e.panelView.focus(), i());
                }),
                  e.keystrokes.set('arrowup', (t, i) => {
                    e.isOpen && (e.panelView.focusLast(), i());
                  });
              })(e),
              (function (e) {
                e.on('change:isOpen', (t, i, n) => {
                  if (n) return;
                  const o = e.panelView.element;
                  o &&
                    o.contains(zi.document.activeElement) &&
                    e.buttonView.focus();
                });
              })(e),
              (function (e) {
                e.on(
                  'change:isOpen',
                  (t, i, n) => {
                    n && e.panelView.focus();
                  },
                  {priority: 'low'}
                );
              })(e);
          })(o),
          o
        );
      }
      function Bu(e, t, i = {}) {
        e.extendTemplate({attributes: {class: ['ck-toolbar-dropdown']}}),
          e.isOpen
            ? Fu(e, t, i)
            : e.once('change:isOpen', () => Fu(e, t, i), {priority: 'highest'}),
          i.enableActiveItemFocusOnDropdownOpen &&
            $u(e, () => e.toolbarView.items.find((e) => e.isOn));
      }
      function Fu(e, t, i) {
        const n = e.locale,
          o = n.t,
          r = (e.toolbarView = new Cu(n)),
          s = 'function' == typeof t ? t() : t;
        (r.ariaLabel = i.ariaLabel || o('Dropdown toolbar')),
          i.maxWidth && (r.maxWidth = i.maxWidth),
          i.class && (r.class = i.class),
          i.isCompact && (r.isCompact = i.isCompact),
          i.isVertical && (r.isVertical = !0),
          s instanceof yd
            ? r.items.bindTo(s).using((e) => e)
            : r.items.addMany(s),
          e.panelView.children.add(r),
          r.items.delegate('execute').to(e);
      }
      function ju(e, t, i = {}) {
        e.isOpen
          ? Hu(e, t, i)
          : e.once('change:isOpen', () => Hu(e, t, i), {priority: 'highest'}),
          $u(e, () =>
            e.listView.items.find(
              (e) => e instanceof Ru && e.children.first.isOn
            )
          );
      }
      function Hu(e, t, i) {
        const n = e.locale,
          o = (e.listView = new Mu(n)),
          r = 'function' == typeof t ? t() : t;
        (o.ariaLabel = i.ariaLabel),
          o.items.bindTo(r).using((e) => {
            if ('separator' === e.type) return new Nu(n);
            if ('button' === e.type || 'switchbutton' === e.type) {
              const t = new Ru(n);
              let i;
              return (
                (i = 'button' === e.type ? new Xd(n) : new iu(n)),
                i.bind(...Object.keys(e.model)).to(e.model),
                i.delegate('execute').to(t),
                t.children.add(i),
                t
              );
            }
            return null;
          }),
          e.panelView.children.add(o),
          o.items.delegate('execute').to(e);
      }
      function $u(e, t) {
        e.on(
          'change:isOpen',
          () => {
            if (!e.isOpen) return;
            const i = t();
            i &&
              ('function' == typeof i.focus
                ? i.focus()
                : p('ui-dropdown-focus-child-on-open-child-missing-focus', {
                    view: i,
                  }));
          },
          {priority: h.low - 10}
        );
      }
      (Lu.setAttributes = Qn()),
        (Lu.insert = Yn().bind(null, 'head')),
        (Lu.domAPI = qn()),
        (Lu.insertStyleElement = Xn()),
        Zn()(Vu.Z, Lu),
        Vu.Z && Vu.Z.locals && Vu.Z.locals;
      var Uu = i(4977),
        Zu = {attributes: {'data-cke': !0}};
      (Zu.setAttributes = Qn()),
        (Zu.insert = Yn().bind(null, 'head')),
        (Zu.domAPI = qn()),
        (Zu.insertStyleElement = Xn()),
        Zn()(Uu.Z, Zu),
        Uu.Z && Uu.Z.locals && Uu.Z.locals;
      const Wu = Yi('px'),
        qu = zi.document.body;
      class Gu extends Cd {
        constructor(e) {
          super(e);
          const t = this.bindTemplate;
          this.set('top', 0),
            this.set('left', 0),
            this.set('position', 'arrow_nw'),
            this.set('isVisible', !1),
            this.set('withArrow', !0),
            this.set('class', void 0),
            (this._pinWhenIsVisibleCallback = null),
            (this.content = this.createCollection()),
            this.setTemplate({
              tag: 'div',
              attributes: {
                class: [
                  'ck',
                  'ck-balloon-panel',
                  t.to('position', (e) => `ck-balloon-panel_${e}`),
                  t.if('isVisible', 'ck-balloon-panel_visible'),
                  t.if('withArrow', 'ck-balloon-panel_with-arrow'),
                  t.to('class'),
                ],
                style: {top: t.to('top', Wu), left: t.to('left', Wu)},
              },
              children: this.content,
            });
        }
        show() {
          this.isVisible = !0;
        }
        hide() {
          this.isVisible = !1;
        }
        attachTo(e) {
          this.show();
          const t = Gu.defaultPositions,
            i = Object.assign(
              {},
              {
                element: this.element,
                positions: [
                  t.southArrowNorth,
                  t.southArrowNorthMiddleWest,
                  t.southArrowNorthMiddleEast,
                  t.southArrowNorthWest,
                  t.southArrowNorthEast,
                  t.northArrowSouth,
                  t.northArrowSouthMiddleWest,
                  t.northArrowSouthMiddleEast,
                  t.northArrowSouthWest,
                  t.northArrowSouthEast,
                  t.viewportStickyNorth,
                ],
                limiter: qu,
                fitInViewport: !0,
              },
              e
            ),
            n = Gu._getOptimalPosition(i),
            o = parseInt(n.left),
            r = parseInt(n.top),
            s = n.name,
            a = n.config || {},
            {withArrow: l = !0} = a;
          (this.top = r),
            (this.left = o),
            (this.position = s),
            (this.withArrow = l);
        }
        pin(e) {
          this.unpin(),
            (this._pinWhenIsVisibleCallback = () => {
              this.isVisible ? this._startPinning(e) : this._stopPinning();
            }),
            this._startPinning(e),
            this.listenTo(
              this,
              'change:isVisible',
              this._pinWhenIsVisibleCallback
            );
        }
        unpin() {
          this._pinWhenIsVisibleCallback &&
            (this._stopPinning(),
            this.stopListening(
              this,
              'change:isVisible',
              this._pinWhenIsVisibleCallback
            ),
            (this._pinWhenIsVisibleCallback = null),
            this.hide());
        }
        _startPinning(e) {
          this.attachTo(e);
          const t = Yu(e.target),
            i = e.limiter ? Yu(e.limiter) : qu;
          this.listenTo(
            zi.document,
            'scroll',
            (n, o) => {
              const r = o.target,
                s = t && r.contains(t),
                a = i && r.contains(i);
              (!s && !a && t && i) || this.attachTo(e);
            },
            {useCapture: !0}
          ),
            this.listenTo(zi.window, 'resize', () => {
              this.attachTo(e);
            });
        }
        _stopPinning() {
          this.stopListening(zi.document, 'scroll'),
            this.stopListening(zi.window, 'resize');
        }
      }
      function Yu(e) {
        return Ti(e)
          ? e
          : ji(e)
          ? e.commonAncestorContainer
          : 'function' == typeof e
          ? Yu(e())
          : null;
      }
      function Ku(e = {}) {
        const {
          sideOffset: t = Gu.arrowSideOffset,
          heightOffset: i = Gu.arrowHeightOffset,
          stickyVerticalOffset: n = Gu.stickyVerticalOffset,
          config: o,
        } = e;
        return {
          northWestArrowSouthWest: (e, i) => ({
            top: r(e, i),
            left: e.left - t,
            name: 'arrow_sw',
            ...(o && {config: o}),
          }),
          northWestArrowSouthMiddleWest: (e, i) => ({
            top: r(e, i),
            left: e.left - 0.25 * i.width - t,
            name: 'arrow_smw',
            ...(o && {config: o}),
          }),
          northWestArrowSouth: (e, t) => ({
            top: r(e, t),
            left: e.left - t.width / 2,
            name: 'arrow_s',
            ...(o && {config: o}),
          }),
          northWestArrowSouthMiddleEast: (e, i) => ({
            top: r(e, i),
            left: e.left - 0.75 * i.width + t,
            name: 'arrow_sme',
            ...(o && {config: o}),
          }),
          northWestArrowSouthEast: (e, i) => ({
            top: r(e, i),
            left: e.left - i.width + t,
            name: 'arrow_se',
            ...(o && {config: o}),
          }),
          northArrowSouthWest: (e, i) => ({
            top: r(e, i),
            left: e.left + e.width / 2 - t,
            name: 'arrow_sw',
            ...(o && {config: o}),
          }),
          northArrowSouthMiddleWest: (e, i) => ({
            top: r(e, i),
            left: e.left + e.width / 2 - 0.25 * i.width - t,
            name: 'arrow_smw',
            ...(o && {config: o}),
          }),
          northArrowSouth: (e, t) => ({
            top: r(e, t),
            left: e.left + e.width / 2 - t.width / 2,
            name: 'arrow_s',
            ...(o && {config: o}),
          }),
          northArrowSouthMiddleEast: (e, i) => ({
            top: r(e, i),
            left: e.left + e.width / 2 - 0.75 * i.width + t,
            name: 'arrow_sme',
            ...(o && {config: o}),
          }),
          northArrowSouthEast: (e, i) => ({
            top: r(e, i),
            left: e.left + e.width / 2 - i.width + t,
            name: 'arrow_se',
            ...(o && {config: o}),
          }),
          northEastArrowSouthWest: (e, i) => ({
            top: r(e, i),
            left: e.right - t,
            name: 'arrow_sw',
            ...(o && {config: o}),
          }),
          northEastArrowSouthMiddleWest: (e, i) => ({
            top: r(e, i),
            left: e.right - 0.25 * i.width - t,
            name: 'arrow_smw',
            ...(o && {config: o}),
          }),
          northEastArrowSouth: (e, t) => ({
            top: r(e, t),
            left: e.right - t.width / 2,
            name: 'arrow_s',
            ...(o && {config: o}),
          }),
          northEastArrowSouthMiddleEast: (e, i) => ({
            top: r(e, i),
            left: e.right - 0.75 * i.width + t,
            name: 'arrow_sme',
            ...(o && {config: o}),
          }),
          northEastArrowSouthEast: (e, i) => ({
            top: r(e, i),
            left: e.right - i.width + t,
            name: 'arrow_se',
            ...(o && {config: o}),
          }),
          southWestArrowNorthWest: (e) => ({
            top: s(e),
            left: e.left - t,
            name: 'arrow_nw',
            ...(o && {config: o}),
          }),
          southWestArrowNorthMiddleWest: (e, i) => ({
            top: s(e),
            left: e.left - 0.25 * i.width - t,
            name: 'arrow_nmw',
            ...(o && {config: o}),
          }),
          southWestArrowNorth: (e, t) => ({
            top: s(e),
            left: e.left - t.width / 2,
            name: 'arrow_n',
            ...(o && {config: o}),
          }),
          southWestArrowNorthMiddleEast: (e, i) => ({
            top: s(e),
            left: e.left - 0.75 * i.width + t,
            name: 'arrow_nme',
            ...(o && {config: o}),
          }),
          southWestArrowNorthEast: (e, i) => ({
            top: s(e),
            left: e.left - i.width + t,
            name: 'arrow_ne',
            ...(o && {config: o}),
          }),
          southArrowNorthWest: (e) => ({
            top: s(e),
            left: e.left + e.width / 2 - t,
            name: 'arrow_nw',
            ...(o && {config: o}),
          }),
          southArrowNorthMiddleWest: (e, i) => ({
            top: s(e),
            left: e.left + e.width / 2 - 0.25 * i.width - t,
            name: 'arrow_nmw',
            ...(o && {config: o}),
          }),
          southArrowNorth: (e, t) => ({
            top: s(e),
            left: e.left + e.width / 2 - t.width / 2,
            name: 'arrow_n',
            ...(o && {config: o}),
          }),
          southArrowNorthMiddleEast: (e, i) => ({
            top: s(e),
            left: e.left + e.width / 2 - 0.75 * i.width + t,
            name: 'arrow_nme',
            ...(o && {config: o}),
          }),
          southArrowNorthEast: (e, i) => ({
            top: s(e),
            left: e.left + e.width / 2 - i.width + t,
            name: 'arrow_ne',
            ...(o && {config: o}),
          }),
          southEastArrowNorthWest: (e) => ({
            top: s(e),
            left: e.right - t,
            name: 'arrow_nw',
            ...(o && {config: o}),
          }),
          southEastArrowNorthMiddleWest: (e, i) => ({
            top: s(e),
            left: e.right - 0.25 * i.width - t,
            name: 'arrow_nmw',
            ...(o && {config: o}),
          }),
          southEastArrowNorth: (e, t) => ({
            top: s(e),
            left: e.right - t.width / 2,
            name: 'arrow_n',
            ...(o && {config: o}),
          }),
          southEastArrowNorthMiddleEast: (e, i) => ({
            top: s(e),
            left: e.right - 0.75 * i.width + t,
            name: 'arrow_nme',
            ...(o && {config: o}),
          }),
          southEastArrowNorthEast: (e, i) => ({
            top: s(e),
            left: e.right - i.width + t,
            name: 'arrow_ne',
            ...(o && {config: o}),
          }),
          westArrowEast: (e, t) => ({
            top: e.top + e.height / 2 - t.height / 2,
            left: e.left - t.width - i,
            name: 'arrow_e',
            ...(o && {config: o}),
          }),
          eastArrowWest: (e, t) => ({
            top: e.top + e.height / 2 - t.height / 2,
            left: e.right + i,
            name: 'arrow_w',
            ...(o && {config: o}),
          }),
          viewportStickyNorth: (e, t, i) =>
            e.getIntersection(i)
              ? {
                  top: i.top + n,
                  left: e.left + e.width / 2 - t.width / 2,
                  name: 'arrowless',
                  config: {withArrow: !1, ...o},
                }
              : null,
        };
        function r(e, t) {
          return e.top - t.height - i;
        }
        function s(e) {
          return e.bottom + i;
        }
      }
      (Gu.arrowSideOffset = 25),
        (Gu.arrowHeightOffset = 10),
        (Gu.stickyVerticalOffset = 20),
        (Gu._getOptimalPosition = en),
        (Gu.defaultPositions = Ku());
      var Qu = i(7591),
        Ju = {attributes: {'data-cke': !0}};
      (Ju.setAttributes = Qn()),
        (Ju.insert = Yn().bind(null, 'head')),
        (Ju.domAPI = qn()),
        (Ju.insertStyleElement = Xn()),
        Zn()(Qu.Z, Ju),
        Qu.Z && Qu.Z.locals && Qu.Z.locals;
      const Xu = 'ck-tooltip';
      class eh extends Oi() {
        constructor(e) {
          if (
            (super(),
            (this._currentElementWithTooltip = null),
            (this._currentTooltipPosition = null),
            (this._resizeObserver = null),
            eh._editors.add(e),
            eh._instance)
          )
            return eh._instance;
          (eh._instance = this),
            (this.tooltipTextView = new Cd(e.locale)),
            this.tooltipTextView.set('text', ''),
            this.tooltipTextView.setTemplate({
              tag: 'span',
              attributes: {class: ['ck', 'ck-tooltip__text']},
              children: [{text: this.tooltipTextView.bindTemplate.to('text')}],
            }),
            (this.balloonPanelView = new Gu(e.locale)),
            (this.balloonPanelView.class = Xu),
            this.balloonPanelView.content.add(this.tooltipTextView),
            (this._pinTooltipDebounced = Is(this._pinTooltip, 600)),
            this.listenTo(
              zi.document,
              'mouseenter',
              this._onEnterOrFocus.bind(this),
              {useCapture: !0}
            ),
            this.listenTo(
              zi.document,
              'mouseleave',
              this._onLeaveOrBlur.bind(this),
              {useCapture: !0}
            ),
            this.listenTo(
              zi.document,
              'focus',
              this._onEnterOrFocus.bind(this),
              {useCapture: !0}
            ),
            this.listenTo(zi.document, 'blur', this._onLeaveOrBlur.bind(this), {
              useCapture: !0,
            }),
            this.listenTo(zi.document, 'scroll', this._onScroll.bind(this), {
              useCapture: !0,
            }),
            (this._watchdogExcluded = !0);
        }
        destroy(e) {
          const t = e.ui.view && e.ui.view.body;
          eh._editors.delete(e),
            this.stopListening(e.ui),
            t &&
              t.has(this.balloonPanelView) &&
              t.remove(this.balloonPanelView),
            eh._editors.size ||
              (this._unpinTooltip(),
              this.balloonPanelView.destroy(),
              this.stopListening(),
              (eh._instance = null));
        }
        static getPositioningFunctions(e) {
          const t = eh.defaultBalloonPositions;
          return {
            s: [
              t.southArrowNorth,
              t.southArrowNorthEast,
              t.southArrowNorthWest,
            ],
            n: [t.northArrowSouth],
            e: [t.eastArrowWest],
            w: [t.westArrowEast],
            sw: [t.southArrowNorthEast],
            se: [t.southArrowNorthWest],
          }[e];
        }
        _onEnterOrFocus(e, {target: t}) {
          const i = th(t);
          var n;
          i &&
            i !== this._currentElementWithTooltip &&
            (this._unpinTooltip(),
            this._pinTooltipDebounced(i, {
              text: (n = i).dataset.ckeTooltipText,
              position: n.dataset.ckeTooltipPosition || 's',
              cssClass: n.dataset.ckeTooltipClass || '',
            }));
        }
        _onLeaveOrBlur(e, {target: t, relatedTarget: i}) {
          if ('mouseleave' === e.name) {
            if (!Ti(t)) return;
            if (
              this._currentElementWithTooltip &&
              t !== this._currentElementWithTooltip
            )
              return;
            const e = th(t),
              n = th(i);
            e && e !== n && this._unpinTooltip();
          } else {
            if (
              this._currentElementWithTooltip &&
              t !== this._currentElementWithTooltip
            )
              return;
            this._unpinTooltip();
          }
        }
        _onScroll(e, {target: t}) {
          this._currentElementWithTooltip &&
            ((t.contains(this.balloonPanelView.element) &&
              t.contains(this._currentElementWithTooltip)) ||
              this._unpinTooltip());
        }
        _pinTooltip(e, {text: t, position: i, cssClass: n}) {
          const o = Sn(eh._editors.values()).ui.view.body;
          o.has(this.balloonPanelView) || o.add(this.balloonPanelView),
            (this.tooltipTextView.text = t),
            this.balloonPanelView.pin({
              target: e,
              positions: eh.getPositioningFunctions(i),
            }),
            (this._resizeObserver = new Gi(e, () => {
              Xi(e) || this._unpinTooltip();
            })),
            (this.balloonPanelView.class = [Xu, n].filter((e) => e).join(' '));
          for (const e of eh._editors)
            this.listenTo(
              e.ui,
              'update',
              this._updateTooltipPosition.bind(this),
              {priority: 'low'}
            );
          (this._currentElementWithTooltip = e),
            (this._currentTooltipPosition = i);
        }
        _unpinTooltip() {
          this._pinTooltipDebounced.cancel(), this.balloonPanelView.unpin();
          for (const e of eh._editors) this.stopListening(e.ui, 'update');
          (this._currentElementWithTooltip = null),
            (this._currentTooltipPosition = null),
            this._resizeObserver && this._resizeObserver.destroy();
        }
        _updateTooltipPosition() {
          Xi(this._currentElementWithTooltip)
            ? this.balloonPanelView.pin({
                target: this._currentElementWithTooltip,
                positions: eh.getPositioningFunctions(
                  this._currentTooltipPosition
                ),
              })
            : this._unpinTooltip();
        }
      }
      function th(e) {
        return Ti(e)
          ? e.closest(
              '[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])'
            )
          : null;
      }
      (eh.defaultBalloonPositions = Ku({heightOffset: 5, sideOffset: 13})),
        (eh._editors = new Set()),
        (eh._instance = null);
      class ih extends z() {
        constructor(e) {
          super(),
            (this.isReady = !1),
            (this._editableElementsMap = new Map()),
            (this._focusableToolbarDefinitions = []),
            (this.editor = e),
            (this.componentFactory = new ru(e)),
            (this.focusTracker = new In()),
            (this.tooltipManager = new eh(e)),
            this.set('viewportOffset', this._readViewportOffsetFromConfig()),
            this.once('ready', () => {
              this.isReady = !0;
            }),
            this.listenTo(e.editing.view.document, 'layoutChanged', () =>
              this.update()
            ),
            this._initFocusTracking();
        }
        get element() {
          return null;
        }
        update() {
          this.fire('update');
        }
        destroy() {
          this.stopListening(),
            this.focusTracker.destroy(),
            this.tooltipManager.destroy(this.editor);
          for (const e of this._editableElementsMap.values())
            (e.ckeditorInstance = null),
              this.editor.keystrokes.stopListening(e);
          (this._editableElementsMap = new Map()),
            (this._focusableToolbarDefinitions = []);
        }
        setEditableElement(e, t) {
          this._editableElementsMap.set(e, t),
            t.ckeditorInstance || (t.ckeditorInstance = this.editor),
            this.focusTracker.add(t);
          const i = () => {
            this.editor.editing.view.getDomRoot(e) ||
              this.editor.keystrokes.listenTo(t);
          };
          this.isReady ? i() : this.once('ready', i);
        }
        removeEditableElement(e) {
          const t = this._editableElementsMap.get(e);
          t &&
            (this._editableElementsMap.delete(e),
            this.editor.keystrokes.stopListening(t),
            this.focusTracker.remove(t),
            (t.ckeditorInstance = null));
        }
        getEditableElement(e = 'main') {
          return this._editableElementsMap.get(e);
        }
        getEditableElementsNames() {
          return this._editableElementsMap.keys();
        }
        addToolbar(e, t = {}) {
          e.isRendered
            ? (this.focusTracker.add(e.element),
              this.editor.keystrokes.listenTo(e.element))
            : e.once('render', () => {
                this.focusTracker.add(e.element),
                  this.editor.keystrokes.listenTo(e.element);
              }),
            this._focusableToolbarDefinitions.push({
              toolbarView: e,
              options: t,
            });
        }
        get _editableElements() {
          return (
            console.warn(
              'editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.',
              {editorUI: this}
            ),
            this._editableElementsMap
          );
        }
        _readViewportOffsetFromConfig() {
          const e = this.editor,
            t = e.config.get('ui.viewportOffset');
          if (t) return t;
          const i = e.config.get('toolbar.viewportTopOffset');
          return i
            ? (console.warn(
                'editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead.'
              ),
              {top: i})
            : {top: 0};
        }
        _initFocusTracking() {
          const e = this.editor,
            t = e.editing.view;
          let i, n;
          e.keystrokes.set('Alt+F10', (e, o) => {
            const r = this.focusTracker.focusedElement;
            Array.from(this._editableElementsMap.values()).includes(r) &&
              !Array.from(t.domRoots.values()).includes(r) &&
              (i = r);
            const s = this._getCurrentFocusedToolbarDefinition();
            (s && n) || (n = this._getFocusableCandidateToolbarDefinitions());
            for (let e = 0; e < n.length; e++) {
              const e = n.shift();
              if (
                (n.push(e), e !== s && this._focusFocusableCandidateToolbar(e))
              ) {
                s && s.options.afterBlur && s.options.afterBlur();
                break;
              }
            }
            o();
          }),
            e.keystrokes.set('Esc', (t, n) => {
              const o = this._getCurrentFocusedToolbarDefinition();
              o &&
                (i ? (i.focus(), (i = null)) : e.editing.view.focus(),
                o.options.afterBlur && o.options.afterBlur(),
                n());
            });
        }
        _getFocusableCandidateToolbarDefinitions() {
          const e = [];
          for (const t of this._focusableToolbarDefinitions) {
            const {toolbarView: i, options: n} = t;
            (Xi(i.element) || n.beforeFocus) && e.push(t);
          }
          return e.sort((e, t) => nh(e) - nh(t)), e;
        }
        _getCurrentFocusedToolbarDefinition() {
          for (const e of this._focusableToolbarDefinitions)
            if (
              e.toolbarView.element &&
              e.toolbarView.element.contains(this.focusTracker.focusedElement)
            )
              return e;
          return null;
        }
        _focusFocusableCandidateToolbar(e) {
          const {
            toolbarView: t,
            options: {beforeFocus: i},
          } = e;
          return i && i(), !!Xi(t.element) && (t.focus(), !0);
        }
      }
      function nh(e) {
        const {toolbarView: t, options: i} = e;
        let n = 10;
        return Xi(t.element) && n--, i.isContextual && n--, n;
      }
      var oh = i(7851),
        rh = {attributes: {'data-cke': !0}};
      (rh.setAttributes = Qn()),
        (rh.insert = Yn().bind(null, 'head')),
        (rh.domAPI = qn()),
        (rh.insertStyleElement = Xn()),
        Zn()(oh.Z, rh),
        oh.Z && oh.Z.locals && oh.Z.locals;
      class sh extends Cd {
        constructor(e) {
          super(e), (this.body = new qd(e));
        }
        render() {
          super.render(), this.body.attachToDom();
        }
        destroy() {
          return this.body.detachFromDom(), super.destroy();
        }
      }
      var ah = i(3993),
        lh = {attributes: {'data-cke': !0}};
      (lh.setAttributes = Qn()),
        (lh.insert = Yn().bind(null, 'head')),
        (lh.domAPI = qn()),
        (lh.insertStyleElement = Xn()),
        Zn()(ah.Z, lh),
        ah.Z && ah.Z.locals && ah.Z.locals;
      class ch extends Cd {
        constructor(e) {
          super(e),
            this.set('text', void 0),
            this.set('for', void 0),
            (this.id = `ck-editor__label_${u()}`);
          const t = this.bindTemplate;
          this.setTemplate({
            tag: 'label',
            attributes: {
              class: ['ck', 'ck-label'],
              id: this.id,
              for: t.to('for'),
            },
            children: [{text: t.to('text')}],
          });
        }
      }
      class dh extends sh {
        constructor(e) {
          super(e),
            (this.top = this.createCollection()),
            (this.main = this.createCollection()),
            (this._voiceLabelView = this._createVoiceLabel()),
            this.setTemplate({
              tag: 'div',
              attributes: {
                class: ['ck', 'ck-reset', 'ck-editor', 'ck-rounded-corners'],
                role: 'application',
                dir: e.uiLanguageDirection,
                lang: e.uiLanguage,
                'aria-labelledby': this._voiceLabelView.id,
              },
              children: [
                this._voiceLabelView,
                {
                  tag: 'div',
                  attributes: {
                    class: ['ck', 'ck-editor__top', 'ck-reset_all'],
                    role: 'presentation',
                  },
                  children: this.top,
                },
                {
                  tag: 'div',
                  attributes: {
                    class: ['ck', 'ck-editor__main'],
                    role: 'presentation',
                  },
                  children: this.main,
                },
              ],
            });
        }
        _createVoiceLabel() {
          const e = this.t,
            t = new ch();
          return (
            (t.text = e('Rich Text Editor')),
            t.extendTemplate({attributes: {class: 'ck-voice-label'}}),
            t
          );
        }
      }
      class uh extends Cd {
        constructor(e, t, i) {
          super(e),
            (this.name = null),
            this.setTemplate({
              tag: 'div',
              attributes: {
                class: [
                  'ck',
                  'ck-content',
                  'ck-editor__editable',
                  'ck-rounded-corners',
                ],
                lang: e.contentLanguage,
                dir: e.contentLanguageDirection,
              },
            }),
            this.set('isFocused', !1),
            (this._editableElement = i),
            (this._hasExternalElement = !!this._editableElement),
            (this._editingView = t);
        }
        render() {
          super.render(),
            this._hasExternalElement
              ? this.template.apply((this.element = this._editableElement))
              : (this._editableElement = this.element),
            this.on('change:isFocused', () => this._updateIsFocusedClasses()),
            this._updateIsFocusedClasses();
        }
        destroy() {
          this._hasExternalElement &&
            this.template.revert(this._editableElement),
            super.destroy();
        }
        get hasExternalElement() {
          return this._hasExternalElement;
        }
        _updateIsFocusedClasses() {
          const e = this._editingView;
          function t(t) {
            e.change((i) => {
              const n = e.document.getRoot(t.name);
              i.addClass(t.isFocused ? 'ck-focused' : 'ck-blurred', n),
                i.removeClass(t.isFocused ? 'ck-blurred' : 'ck-focused', n);
            });
          }
          e.isRenderingInProgress
            ? (function i(n) {
                e.once('change:isRenderingInProgress', (e, o, r) => {
                  r ? i(n) : t(n);
                });
              })(this)
            : t(this);
        }
      }
      class hh extends uh {
        constructor(e, t, i, n = {}) {
          super(e, t, i);
          const o = e.t;
          this.extendTemplate({
            attributes: {role: 'textbox', class: 'ck-editor__editable_inline'},
          }),
            (this._generateLabel =
              n.label || (() => o('Editor editing area: %0', this.name)));
        }
        render() {
          super.render();
          const e = this._editingView;
          e.change((t) => {
            const i = e.document.getRoot(this.name);
            t.setAttribute('aria-label', this._generateLabel(this), i);
          });
        }
      }
      var mh = i(3641),
        gh = {attributes: {'data-cke': !0}};
      (gh.setAttributes = Qn()),
        (gh.insert = Yn().bind(null, 'head')),
        (gh.domAPI = qn()),
        (gh.insertStyleElement = Xn()),
        Zn()(mh.Z, gh),
        mh.Z && mh.Z.locals && mh.Z.locals;
      class fh extends Cd {
        constructor(e, t = {}) {
          super(e);
          const i = this.bindTemplate;
          this.set('label', t.label || ''),
            this.set('class', t.class || null),
            (this.children = this.createCollection()),
            this.setTemplate({
              tag: 'div',
              attributes: {class: ['ck', 'ck-form__header', i.to('class')]},
              children: this.children,
            });
          const n = new Cd(e);
          n.setTemplate({
            tag: 'h2',
            attributes: {class: ['ck', 'ck-form__header__label']},
            children: [{text: i.to('label')}],
          }),
            this.children.add(n);
        }
      }
      var ph = i(9625),
        bh = {attributes: {'data-cke': !0}};
      (bh.setAttributes = Qn()),
        (bh.insert = Yn().bind(null, 'head')),
        (bh.domAPI = qn()),
        (bh.insertStyleElement = Xn()),
        Zn()(ph.Z, bh),
        ph.Z && ph.Z.locals && ph.Z.locals;
      class kh extends Cd {
        constructor(e) {
          super(e),
            this.set('value', void 0),
            this.set('id', void 0),
            this.set('placeholder', void 0),
            this.set('isReadOnly', !1),
            this.set('hasError', !1),
            this.set('ariaDescribedById', void 0),
            (this.focusTracker = new In()),
            this.bind('isFocused').to(this.focusTracker),
            this.set('isEmpty', !0),
            this.set('inputMode', 'text');
          const t = this.bindTemplate;
          this.setTemplate({
            tag: 'input',
            attributes: {
              class: [
                'ck',
                'ck-input',
                t.if('isFocused', 'ck-input_focused'),
                t.if('isEmpty', 'ck-input-text_empty'),
                t.if('hasError', 'ck-error'),
              ],
              id: t.to('id'),
              placeholder: t.to('placeholder'),
              readonly: t.to('isReadOnly'),
              inputmode: t.to('inputMode'),
              'aria-invalid': t.if('hasError', !0),
              'aria-describedby': t.to('ariaDescribedById'),
            },
            on: {
              input: t.to((...e) => {
                this.fire('input', ...e), this._updateIsEmpty();
              }),
              change: t.to(this._updateIsEmpty.bind(this)),
            },
          });
        }
        render() {
          super.render(),
            this.focusTracker.add(this.element),
            this._setDomElementValue(this.value),
            this._updateIsEmpty(),
            this.on('change:value', (e, t, i) => {
              this._setDomElementValue(i), this._updateIsEmpty();
            });
        }
        destroy() {
          super.destroy(), this.focusTracker.destroy();
        }
        select() {
          this.element.select();
        }
        focus() {
          this.element.focus();
        }
        _updateIsEmpty() {
          this.isEmpty = !this.element.value;
        }
        _setDomElementValue(e) {
          this.element.value = e || 0 === e ? e : '';
        }
      }
      class wh extends kh {
        constructor(e) {
          super(e),
            this.extendTemplate({
              attributes: {type: 'text', class: ['ck-input-text']},
            });
        }
      }
      var _h = i(13),
        vh = {attributes: {'data-cke': !0}};
      (vh.setAttributes = Qn()),
        (vh.insert = Yn().bind(null, 'head')),
        (vh.domAPI = qn()),
        (vh.insertStyleElement = Xn()),
        Zn()(_h.Z, vh),
        _h.Z && _h.Z.locals && _h.Z.locals;
      class yh extends Cd {
        constructor(e, t) {
          super(e);
          const i = `ck-labeled-field-view-${u()}`,
            n = `ck-labeled-field-view-status-${u()}`;
          (this.fieldView = t(this, i, n)),
            this.set('label', void 0),
            this.set('isEnabled', !0),
            this.set('isEmpty', !0),
            this.set('isFocused', !1),
            this.set('errorText', null),
            this.set('infoText', null),
            this.set('class', void 0),
            this.set('placeholder', void 0),
            (this.labelView = this._createLabelView(i)),
            (this.statusView = this._createStatusView(n)),
            (this.fieldWrapperChildren = this.createCollection([
              this.fieldView,
              this.labelView,
            ])),
            this.bind('_statusText').to(
              this,
              'errorText',
              this,
              'infoText',
              (e, t) => e || t
            );
          const o = this.bindTemplate;
          this.setTemplate({
            tag: 'div',
            attributes: {
              class: [
                'ck',
                'ck-labeled-field-view',
                o.to('class'),
                o.if('isEnabled', 'ck-disabled', (e) => !e),
                o.if('isEmpty', 'ck-labeled-field-view_empty'),
                o.if('isFocused', 'ck-labeled-field-view_focused'),
                o.if('placeholder', 'ck-labeled-field-view_placeholder'),
                o.if('errorText', 'ck-error'),
              ],
            },
            children: [
              {
                tag: 'div',
                attributes: {
                  class: ['ck', 'ck-labeled-field-view__input-wrapper'],
                },
                children: this.fieldWrapperChildren,
              },
              this.statusView,
            ],
          });
        }
        _createLabelView(e) {
          const t = new ch(this.locale);
          return (t.for = e), t.bind('text').to(this, 'label'), t;
        }
        _createStatusView(e) {
          const t = new Cd(this.locale),
            i = this.bindTemplate;
          return (
            t.setTemplate({
              tag: 'div',
              attributes: {
                class: [
                  'ck',
                  'ck-labeled-field-view__status',
                  i.if('errorText', 'ck-labeled-field-view__status_error'),
                  i.if('_statusText', 'ck-hidden', (e) => !e),
                ],
                id: e,
                role: i.if('errorText', 'alert'),
              },
              children: [{text: i.to('_statusText')}],
            }),
            t
          );
        }
        focus() {
          this.fieldView.focus();
        }
      }
      function xh(e, t, i) {
        const n = new wh(e.locale);
        return (
          n.set({id: t, ariaDescribedById: i}),
          n.bind('isReadOnly').to(e, 'isEnabled', (e) => !e),
          n.bind('hasError').to(e, 'errorText', (e) => !!e),
          n.on('input', () => {
            e.errorText = null;
          }),
          e.bind('isEmpty', 'isFocused', 'placeholder').to(n),
          n
        );
      }
      class Ah extends z() {
        constructor(e, t) {
          super(), t && gs(this, t), e && this.set(e);
        }
      }
      var Ch =
          'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z\\"/></svg>";',
        Eh = i(1869),
        Th = {attributes: {'data-cke': !0}};
      (Th.setAttributes = Qn()),
        (Th.insert = Yn().bind(null, 'head')),
        (Th.domAPI = qn()),
        (Th.insertStyleElement = Xn()),
        Zn()(Eh.Z, Th),
        Eh.Z && Eh.Z.locals && Eh.Z.locals;
      var Sh = i(9186),
        Ih = {attributes: {'data-cke': !0}};
      (Ih.setAttributes = Qn()),
        (Ih.insert = Yn().bind(null, 'head')),
        (Ih.domAPI = qn()),
        (Ih.insertStyleElement = Xn()),
        Zn()(Sh.Z, Ih),
        Sh.Z && Sh.Z.locals && Sh.Z.locals;
      const Ph = Yi('px');
      class Mh extends Vn {
        static get pluginName() {
          return 'ContextualBalloon';
        }
        constructor(e) {
          super(e),
            (this._viewToStack = new Map()),
            (this._idToStack = new Map()),
            (this._view = null),
            (this._rotatorView = null),
            (this._fakePanelsView = null),
            (this.positionLimiter = () => {
              const e = this.editor.editing.view,
                t = e.document.selection.editableElement;
              return t ? e.domConverter.mapViewToDom(t.root) : null;
            }),
            this.set('visibleView', null),
            this.set('_numberOfStacks', 0),
            this.set('_singleViewMode', !1);
        }
        destroy() {
          super.destroy(),
            this._view && this._view.destroy(),
            this._rotatorView && this._rotatorView.destroy(),
            this._fakePanelsView && this._fakePanelsView.destroy();
        }
        get view() {
          return this._view || this._createPanelView(), this._view;
        }
        hasView(e) {
          return Array.from(this._viewToStack.keys()).includes(e);
        }
        add(e) {
          if ((this._view || this._createPanelView(), this.hasView(e.view)))
            throw new f('contextualballoon-add-view-exist', [this, e]);
          const t = e.stackId || 'main';
          if (!this._idToStack.has(t))
            return (
              this._idToStack.set(t, new Map([[e.view, e]])),
              this._viewToStack.set(e.view, this._idToStack.get(t)),
              (this._numberOfStacks = this._idToStack.size),
              void (
                (this._visibleStack && !e.singleViewMode) ||
                this.showStack(t)
              )
            );
          const i = this._idToStack.get(t);
          e.singleViewMode && this.showStack(t),
            i.set(e.view, e),
            this._viewToStack.set(e.view, i),
            i === this._visibleStack && this._showView(e);
        }
        remove(e) {
          if (!this.hasView(e))
            throw new f('contextualballoon-remove-view-not-exist', [this, e]);
          const t = this._viewToStack.get(e);
          this._singleViewMode &&
            this.visibleView === e &&
            (this._singleViewMode = !1),
            this.visibleView === e &&
              (1 === t.size
                ? this._idToStack.size > 1
                  ? this._showNextStack()
                  : (this.view.hide(),
                    (this.visibleView = null),
                    this._rotatorView.hideView())
                : this._showView(Array.from(t.values())[t.size - 2])),
            1 === t.size
              ? (this._idToStack.delete(this._getStackId(t)),
                (this._numberOfStacks = this._idToStack.size))
              : t.delete(e),
            this._viewToStack.delete(e);
        }
        updatePosition(e) {
          e && (this._visibleStack.get(this.visibleView).position = e),
            this.view.pin(this._getBalloonPosition()),
            this._fakePanelsView.updatePosition();
        }
        showStack(e) {
          this.visibleStack = e;
          const t = this._idToStack.get(e);
          if (!t)
            throw new f('contextualballoon-showstack-stack-not-exist', this);
          this._visibleStack !== t &&
            this._showView(Array.from(t.values()).pop());
        }
        _createPanelView() {
          (this._view = new Gu(this.editor.locale)),
            this.editor.ui.view.body.add(this._view),
            this.editor.ui.focusTracker.add(this._view.element),
            (this._rotatorView = this._createRotatorView()),
            (this._fakePanelsView = this._createFakePanelsView());
        }
        get _visibleStack() {
          return this._viewToStack.get(this.visibleView);
        }
        _getStackId(e) {
          return Array.from(this._idToStack.entries()).find(
            (t) => t[1] === e
          )[0];
        }
        _showNextStack() {
          const e = Array.from(this._idToStack.values());
          let t = e.indexOf(this._visibleStack) + 1;
          e[t] || (t = 0), this.showStack(this._getStackId(e[t]));
        }
        _showPrevStack() {
          const e = Array.from(this._idToStack.values());
          let t = e.indexOf(this._visibleStack) - 1;
          e[t] || (t = e.length - 1), this.showStack(this._getStackId(e[t]));
        }
        _createRotatorView() {
          const e = new Rh(this.editor.locale),
            t = this.editor.locale.t;
          return (
            this.view.content.add(e),
            e
              .bind('isNavigationVisible')
              .to(
                this,
                '_numberOfStacks',
                this,
                '_singleViewMode',
                (e, t) => !t && e > 1
              ),
            e.on('change:isNavigationVisible', () => this.updatePosition(), {
              priority: 'low',
            }),
            e
              .bind('counter')
              .to(this, 'visibleView', this, '_numberOfStacks', (e, i) => {
                if (i < 2) return '';
                const n =
                  Array.from(this._idToStack.values()).indexOf(
                    this._visibleStack
                  ) + 1;
                return t('%0 of %1', [n, i]);
              }),
            e.buttonNextView.on('execute', () => {
              e.focusTracker.isFocused && this.editor.editing.view.focus(),
                this._showNextStack();
            }),
            e.buttonPrevView.on('execute', () => {
              e.focusTracker.isFocused && this.editor.editing.view.focus(),
                this._showPrevStack();
            }),
            e
          );
        }
        _createFakePanelsView() {
          const e = new Nh(this.editor.locale, this.view);
          return (
            e
              .bind('numberOfPanels')
              .to(this, '_numberOfStacks', this, '_singleViewMode', (e, t) =>
                !t && e >= 2 ? Math.min(e - 1, 2) : 0
              ),
            e.listenTo(this.view, 'change:top', () => e.updatePosition()),
            e.listenTo(this.view, 'change:left', () => e.updatePosition()),
            this.editor.ui.view.body.add(e),
            e
          );
        }
        _showView({
          view: e,
          balloonClassName: t = '',
          withArrow: i = !0,
          singleViewMode: n = !1,
        }) {
          (this.view.class = t),
            (this.view.withArrow = i),
            this._rotatorView.showView(e),
            (this.visibleView = e),
            this.view.pin(this._getBalloonPosition()),
            this._fakePanelsView.updatePosition(),
            n && (this._singleViewMode = !0);
        }
        _getBalloonPosition() {
          let e = Array.from(this._visibleStack.values()).pop().position;
          return (
            e &&
              (e.limiter ||
                (e = Object.assign({}, e, {limiter: this.positionLimiter})),
              (e = Object.assign({}, e, {
                viewportOffsetConfig: this.editor.ui.viewportOffset,
              }))),
            e
          );
        }
      }
      class Rh extends Cd {
        constructor(e) {
          super(e);
          const t = e.t,
            i = this.bindTemplate;
          this.set('isNavigationVisible', !0),
            (this.focusTracker = new In()),
            (this.buttonPrevView = this._createButtonView(t('Previous'), Ch)),
            (this.buttonNextView = this._createButtonView(
              t('Next'),
              'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z\\"/></svg>";'
            )),
            (this.content = this.createCollection()),
            this.setTemplate({
              tag: 'div',
              attributes: {
                class: ['ck', 'ck-balloon-rotator'],
                'z-index': '-1',
              },
              children: [
                {
                  tag: 'div',
                  attributes: {
                    class: [
                      'ck-balloon-rotator__navigation',
                      i.to('isNavigationVisible', (e) =>
                        e ? '' : 'ck-hidden'
                      ),
                    ],
                  },
                  children: [
                    this.buttonPrevView,
                    {
                      tag: 'span',
                      attributes: {class: ['ck-balloon-rotator__counter']},
                      children: [{text: i.to('counter')}],
                    },
                    this.buttonNextView,
                  ],
                },
                {
                  tag: 'div',
                  attributes: {class: 'ck-balloon-rotator__content'},
                  children: this.content,
                },
              ],
            });
        }
        render() {
          super.render(), this.focusTracker.add(this.element);
        }
        destroy() {
          super.destroy(), this.focusTracker.destroy();
        }
        showView(e) {
          this.hideView(), this.content.add(e);
        }
        hideView() {
          this.content.clear();
        }
        _createButtonView(e, t) {
          const i = new Xd(this.locale);
          return i.set({label: e, icon: t, tooltip: !0}), i;
        }
      }
      class Nh extends Cd {
        constructor(e, t) {
          super(e);
          const i = this.bindTemplate;
          this.set('top', 0),
            this.set('left', 0),
            this.set('height', 0),
            this.set('width', 0),
            this.set('numberOfPanels', 0),
            (this.content = this.createCollection()),
            (this._balloonPanelView = t),
            this.setTemplate({
              tag: 'div',
              attributes: {
                class: [
                  'ck-fake-panel',
                  i.to('numberOfPanels', (e) => (e ? '' : 'ck-hidden')),
                ],
                style: {
                  top: i.to('top', Ph),
                  left: i.to('left', Ph),
                  width: i.to('width', Ph),
                  height: i.to('height', Ph),
                },
              },
              children: this.content,
            }),
            this.on('change:numberOfPanels', (e, t, i, n) => {
              i > n ? this._addPanels(i - n) : this._removePanels(n - i),
                this.updatePosition();
            });
        }
        _addPanels(e) {
          for (; e--; ) {
            const e = new Cd();
            e.setTemplate({tag: 'div'}),
              this.content.add(e),
              this.registerChild(e);
          }
        }
        _removePanels(e) {
          for (; e--; ) {
            const e = this.content.last;
            this.content.remove(e), this.deregisterChild(e), e.destroy();
          }
        }
        updatePosition() {
          if (this.numberOfPanels) {
            const {top: e, left: t} = this._balloonPanelView,
              {width: i, height: n} = new Ui(this._balloonPanelView.element);
            Object.assign(this, {top: e, left: t, width: i, height: n});
          }
        }
      }
      var Oh = i(9878),
        Dh = {attributes: {'data-cke': !0}};
      (Dh.setAttributes = Qn()),
        (Dh.insert = Yn().bind(null, 'head')),
        (Dh.domAPI = qn()),
        (Dh.insertStyleElement = Xn()),
        Zn()(Oh.Z, Dh),
        Oh.Z && Oh.Z.locals && Oh.Z.locals;
      const Vh = Yi('px');
      class Lh extends Cd {
        constructor(e) {
          super(e);
          const t = this.bindTemplate;
          this.set('isActive', !1),
            this.set('isSticky', !1),
            this.set('limiterElement', null),
            this.set('limiterBottomOffset', 50),
            this.set('viewportTopOffset', 0),
            this.set('_marginLeft', null),
            this.set('_isStickyToTheLimiter', !1),
            this.set('_hasViewportTopOffset', !1),
            (this.content = this.createCollection()),
            (this._contentPanelPlaceholder = new Ed({
              tag: 'div',
              attributes: {
                class: ['ck', 'ck-sticky-panel__placeholder'],
                style: {
                  display: t.to('isSticky', (e) => (e ? 'block' : 'none')),
                  height: t.to('isSticky', (e) =>
                    e ? Vh(this._panelRect.height) : null
                  ),
                },
              },
            }).render()),
            (this._contentPanel = new Ed({
              tag: 'div',
              attributes: {
                class: [
                  'ck',
                  'ck-sticky-panel__content',
                  t.if('isSticky', 'ck-sticky-panel__content_sticky'),
                  t.if(
                    '_isStickyToTheLimiter',
                    'ck-sticky-panel__content_sticky_bottom-limit'
                  ),
                ],
                style: {
                  width: t.to('isSticky', (e) =>
                    e
                      ? Vh(
                          this._contentPanelPlaceholder.getBoundingClientRect()
                            .width
                        )
                      : null
                  ),
                  top: t.to('_hasViewportTopOffset', (e) =>
                    e ? Vh(this.viewportTopOffset) : null
                  ),
                  bottom: t.to('_isStickyToTheLimiter', (e) =>
                    e ? Vh(this.limiterBottomOffset) : null
                  ),
                  marginLeft: t.to('_marginLeft'),
                },
              },
              children: this.content,
            }).render()),
            this.setTemplate({
              tag: 'div',
              attributes: {class: ['ck', 'ck-sticky-panel']},
              children: [this._contentPanelPlaceholder, this._contentPanel],
            });
        }
        render() {
          super.render(),
            this._checkIfShouldBeSticky(),
            this.listenTo(zi.window, 'scroll', () => {
              this._checkIfShouldBeSticky();
            }),
            this.listenTo(this, 'change:isActive', () => {
              this._checkIfShouldBeSticky();
            });
        }
        _checkIfShouldBeSticky() {
          const e = (this._panelRect =
            this._contentPanel.getBoundingClientRect());
          let t;
          this.limiterElement
            ? ((t = this._limiterRect =
                this.limiterElement.getBoundingClientRect()),
              (this.isSticky =
                this.isActive &&
                t.top < this.viewportTopOffset &&
                this._panelRect.height + this.limiterBottomOffset < t.height))
            : (this.isSticky = !1),
            this.isSticky
              ? ((this._isStickyToTheLimiter =
                  t.bottom <
                  e.height + this.limiterBottomOffset + this.viewportTopOffset),
                (this._hasViewportTopOffset =
                  !this._isStickyToTheLimiter && !!this.viewportTopOffset),
                (this._marginLeft = this._isStickyToTheLimiter
                  ? null
                  : Vh(-zi.window.scrollX)))
              : ((this._isStickyToTheLimiter = !1),
                (this._hasViewportTopOffset = !1),
                (this._marginLeft = null));
        }
      }
      Yi('px');
      var zh = i(146),
        Bh = {attributes: {'data-cke': !0}};
      (Bh.setAttributes = Qn()),
        (Bh.insert = Yn().bind(null, 'head')),
        (Bh.domAPI = qn()),
        (Bh.insertStyleElement = Xn()),
        Zn()(zh.Z, Bh),
        zh.Z && zh.Z.locals && zh.Z.locals,
        Yi('px'),
        Yi('px');
      const {pilcrow: Fh} = dd,
        jh = new Map([
          ['left', dd.alignLeft],
          ['right', dd.alignRight],
          ['center', dd.alignCenter],
          ['justify', dd.alignJustify],
        ]);
      class Hh extends Vn {
        get localizedOptionTitles() {
          const e = this.editor.t;
          return {
            left: e('Align left'),
            right: e('Align right'),
            center: e('Align center'),
            justify: e('Justify'),
          };
        }
        static get pluginName() {
          return 'AlignmentUI';
        }
        init() {
          const e = this.editor,
            t = e.ui.componentFactory,
            i = e.t,
            n = gd(e.config.get('alignment.options'));
          n
            .map((e) => e.name)
            .filter(hd)
            .forEach((e) => this._addButton(e)),
            t.add('alignment', (o) => {
              const r = zu(o);
              Bu(r, () => n.map((e) => t.create(`alignment:${e.name}`)), {
                enableActiveItemFocusOnDropdownOpen: !0,
                isVertical: !0,
                ariaLabel: i('Text alignment toolbar'),
              }),
                r.buttonView.set({label: i('Text alignment'), tooltip: !0}),
                r.extendTemplate({
                  attributes: {class: 'ck-alignment-dropdown'},
                });
              const s =
                  'rtl' === o.contentLanguageDirection
                    ? jh.get('right')
                    : jh.get('left'),
                a = e.commands.get('alignment');
              return (
                r.buttonView.bind('icon').to(a, 'value', (e) => jh.get(e) || s),
                r.bind('isEnabled').to(a, 'isEnabled'),
                this.listenTo(r, 'execute', () => {
                  e.editing.view.focus();
                }),
                r
              );
            });
        }
        _addButton(e) {
          const t = this.editor;
          t.ui.componentFactory.add(`alignment:${e}`, (i) => {
            const n = t.commands.get('alignment'),
              o = new Xd(i);
            return (
              o.set({
                label: this.localizedOptionTitles[e],
                icon: jh.get(e),
                tooltip: !0,
                isToggleable: !0,
              }),
              o.bind('isEnabled').to(n),
              o.bind('isOn').to(n, 'value', (t) => t === e),
              this.listenTo(o, 'execute', () => {
                t.execute('alignment', {value: e}), t.editing.view.focus();
              }),
              o
            );
          });
        }
      }
      class $h extends Vn {
        static get requires() {
          return [bd, Hh];
        }
        static get pluginName() {
          return 'Alignment';
        }
      }
      class Uh extends ps {
        constructor(e) {
          super(e),
            (this.domEventType = [
              'paste',
              'copy',
              'cut',
              'drop',
              'dragover',
              'dragstart',
              'dragend',
              'dragenter',
              'dragleave',
            ]);
          const t = this.document;
          function i(e) {
            return (i, n) => {
              n.preventDefault();
              const o = n.dropRange ? [n.dropRange] : null,
                r = new c(t, e);
              t.fire(r, {
                dataTransfer: n.dataTransfer,
                method: i.name,
                targetRanges: o,
                target: n.target,
              }),
                r.stop.called && n.stopPropagation();
            };
          }
          this.listenTo(t, 'paste', i('clipboardInput'), {priority: 'low'}),
            this.listenTo(t, 'drop', i('clipboardInput'), {priority: 'low'}),
            this.listenTo(t, 'dragover', i('dragging'), {priority: 'low'});
        }
        onDomEvent(e) {
          const t = 'clipboardData' in e ? e.clipboardData : e.dataTransfer,
            i = 'drop' == e.type || 'paste' == e.type,
            n = {dataTransfer: new Xs(t, {cacheFiles: i})};
          ('drop' != e.type && 'dragover' != e.type) ||
            (n.dropRange = (function (e, t) {
              const i = t.target.ownerDocument,
                n = t.clientX,
                o = t.clientY;
              let r;
              return (
                i.caretRangeFromPoint && i.caretRangeFromPoint(n, o)
                  ? (r = i.caretRangeFromPoint(n, o))
                  : t.rangeParent &&
                    ((r = i.createRange()),
                    r.setStart(t.rangeParent, t.rangeOffset),
                    r.collapse(!0)),
                r ? e.domConverter.domRangeToView(r) : null
              );
            })(this.view, e)),
            this.fire(e.type, e, n);
        }
      }
      const Zh = ['figcaption', 'li'];
      function Wh(e) {
        let t = '';
        if (e.is('$text') || e.is('$textProxy')) t = e.data;
        else if (e.is('element', 'img') && e.hasAttribute('alt'))
          t = e.getAttribute('alt');
        else if (e.is('element', 'br')) t = '\n';
        else {
          let i = null;
          for (const n of e.getChildren()) {
            const e = Wh(n);
            i &&
              (i.is('containerElement') || n.is('containerElement')) &&
              (Zh.includes(i.name) || Zh.includes(n.name)
                ? (t += '\n')
                : (t += '\n\n')),
              (t += e),
              (i = n);
          }
        }
        return t;
      }
      class qh extends Vn {
        static get pluginName() {
          return 'ClipboardPipeline';
        }
        init() {
          this.editor.editing.view.addObserver(Uh),
            this._setupPasteDrop(),
            this._setupCopyCut();
        }
        _setupPasteDrop() {
          const e = this.editor,
            t = e.model,
            i = e.editing.view,
            n = i.document;
          this.listenTo(
            n,
            'clipboardInput',
            (t) => {
              e.isReadOnly && t.stop();
            },
            {priority: 'highest'}
          ),
            this.listenTo(
              n,
              'clipboardInput',
              (e, t) => {
                const n = t.dataTransfer;
                let o;
                if (t.content) o = t.content;
                else {
                  let e = '';
                  n.getData('text/html')
                    ? (e = (function (e) {
                        return e
                          .replace(
                            /<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,
                            (e, t) => (1 == t.length ? ' ' : t)
                          )
                          .replace(/<!--[\s\S]*?-->/g, '');
                      })(n.getData('text/html')))
                    : n.getData('text/plain') &&
                      (((r = (r = n.getData('text/plain'))
                        .replace(/</g, '&lt;')
                        .replace(/>/g, '&gt;')
                        .replace(/\r?\n\r?\n/g, '</p><p>')
                        .replace(/\r?\n/g, '<br>')
                        .replace(/\t/g, '&nbsp;&nbsp;&nbsp;&nbsp;')
                        .replace(/^\s/, '&nbsp;')
                        .replace(/\s$/, '&nbsp;')
                        .replace(/\s\s/g, ' &nbsp;')).includes('</p><p>') ||
                        r.includes('<br>')) &&
                        (r = `<p>${r}</p>`),
                      (e = r)),
                    (o = this.editor.data.htmlProcessor.toView(e));
                }
                var r;
                const s = new c(this, 'inputTransformation');
                this.fire(s, {
                  content: o,
                  dataTransfer: n,
                  targetRanges: t.targetRanges,
                  method: t.method,
                }),
                  s.stop.called && e.stop(),
                  i.scrollToTheSelection();
              },
              {priority: 'low'}
            ),
            this.listenTo(
              this,
              'inputTransformation',
              (e, i) => {
                if (i.content.isEmpty) return;
                const n = this.editor.data.toModel(
                  i.content,
                  '$clipboardHolder'
                );
                0 != n.childCount &&
                  (e.stop(),
                  t.change(() => {
                    this.fire('contentInsertion', {
                      content: n,
                      method: i.method,
                      dataTransfer: i.dataTransfer,
                      targetRanges: i.targetRanges,
                    });
                  }));
              },
              {priority: 'low'}
            ),
            this.listenTo(
              this,
              'contentInsertion',
              (e, i) => {
                i.resultRange = t.insertContent(i.content);
              },
              {priority: 'low'}
            );
        }
        _setupCopyCut() {
          const e = this.editor,
            t = e.model.document,
            i = e.editing.view.document,
            n = (n, o) => {
              const r = o.dataTransfer;
              o.preventDefault();
              const s = e.data.toView(e.model.getSelectedContent(t.selection));
              i.fire('clipboardOutput', {
                dataTransfer: r,
                content: s,
                method: n.name,
              });
            };
          this.listenTo(i, 'copy', n, {priority: 'low'}),
            this.listenTo(
              i,
              'cut',
              (t, i) => {
                e.isReadOnly ? i.preventDefault() : n(t, i);
              },
              {priority: 'low'}
            ),
            this.listenTo(
              i,
              'clipboardOutput',
              (i, n) => {
                n.content.isEmpty ||
                  (n.dataTransfer.setData(
                    'text/html',
                    this.editor.data.htmlProcessor.toData(n.content)
                  ),
                  n.dataTransfer.setData('text/plain', Wh(n.content))),
                  'cut' == n.method && e.model.deleteContent(t.selection);
              },
              {priority: 'low'}
            );
        }
      }
      class Gh {
        constructor(e, t = 20) {
          (this._batch = null),
            (this.model = e),
            (this._size = 0),
            (this.limit = t),
            (this._isLocked = !1),
            (this._changeCallback = (e, t) => {
              t.isLocal && t.isUndoable && t !== this._batch && this._reset(!0);
            }),
            (this._selectionChangeCallback = () => {
              this._reset();
            }),
            this.model.document.on('change', this._changeCallback),
            this.model.document.selection.on(
              'change:range',
              this._selectionChangeCallback
            ),
            this.model.document.selection.on(
              'change:attribute',
              this._selectionChangeCallback
            );
        }
        get batch() {
          return (
            this._batch ||
              (this._batch = this.model.createBatch({isTyping: !0})),
            this._batch
          );
        }
        get size() {
          return this._size;
        }
        input(e) {
          (this._size += e), this._size >= this.limit && this._reset(!0);
        }
        get isLocked() {
          return this._isLocked;
        }
        lock() {
          this._isLocked = !0;
        }
        unlock() {
          this._isLocked = !1;
        }
        destroy() {
          this.model.document.off('change', this._changeCallback),
            this.model.document.selection.off(
              'change:range',
              this._selectionChangeCallback
            ),
            this.model.document.selection.off(
              'change:attribute',
              this._selectionChangeCallback
            );
        }
        _reset(e = !1) {
          (this.isLocked && !e) || ((this._batch = null), (this._size = 0));
        }
      }
      class Yh extends zn {
        constructor(e, t) {
          super(e), (this._buffer = new Gh(e.model, t));
        }
        get buffer() {
          return this._buffer;
        }
        destroy() {
          super.destroy(), this._buffer.destroy();
        }
        execute(e = {}) {
          const t = this.editor.model,
            i = t.document,
            n = e.text || '',
            o = n.length;
          let r = i.selection;
          e.selection
            ? (r = e.selection)
            : e.range && (r = t.createSelection(e.range));
          const s = e.resultRange;
          t.enqueueChange(this._buffer.batch, (e) => {
            this._buffer.lock(),
              t.deleteContent(r),
              n &&
                t.insertContent(
                  e.createText(n, i.selection.getAttributes()),
                  r
                ),
              s
                ? e.setSelection(s)
                : r.is('documentSelection') || e.setSelection(r),
              this._buffer.unlock(),
              this._buffer.input(o);
          });
        }
      }
      const Kh = ['insertText', 'insertReplacementText'];
      class Qh extends ms {
        constructor(e) {
          super(e), n.isAndroid && Kh.push('insertCompositionText');
          const t = e.document;
          t.on('beforeinput', (i, n) => {
            if (!this.isEnabled) return;
            const {data: o, targetRanges: r, inputType: s, domEvent: a} = n;
            if (!Kh.includes(s)) return;
            const l = new c(t, 'insertText');
            t.fire(l, new fs(e, a, {text: o, selection: e.createSelection(r)})),
              l.stop.called && i.stop();
          }),
            t.on(
              'compositionend',
              (i, {data: o, domEvent: r}) => {
                this.isEnabled &&
                  !n.isAndroid &&
                  o &&
                  t.fire(
                    'insertText',
                    new fs(e, r, {text: o, selection: t.selection})
                  );
              },
              {priority: 'lowest'}
            );
        }
        observe() {}
        stopObserving() {}
      }
      class Jh extends Vn {
        static get pluginName() {
          return 'Input';
        }
        init() {
          const e = this.editor,
            t = e.model,
            i = e.editing.view,
            o = t.document.selection;
          i.addObserver(Qh);
          const r = new Yh(e, e.config.get('typing.undoStep') || 20);
          e.commands.add('insertText', r),
            e.commands.add('input', r),
            this.listenTo(i.document, 'insertText', (o, r) => {
              i.document.isComposing || r.preventDefault();
              const {text: s, selection: a, resultRange: l} = r,
                c = Array.from(a.getRanges()).map((t) =>
                  e.editing.mapper.toModelRange(t)
                );
              let d = s;
              if (n.isAndroid) {
                const e = Array.from(c[0].getItems()).reduce(
                  (e, t) => e + (t.is('$textProxy') ? t.data : ''),
                  ''
                );
                e &&
                  (e.length <= d.length
                    ? d.startsWith(e) &&
                      ((d = d.substring(e.length)),
                      (c[0].start = c[0].start.getShiftedBy(e.length)))
                    : e.startsWith(d) &&
                      ((c[0].start = c[0].start.getShiftedBy(d.length)),
                      (d = '')));
              }
              const u = {text: d, selection: t.createSelection(c)};
              l && (u.resultRange = e.editing.mapper.toModelRange(l)),
                e.execute('insertText', u);
            }),
            n.isAndroid
              ? this.listenTo(i.document, 'keydown', (e, n) => {
                  !o.isCollapsed &&
                    229 == n.keyCode &&
                    i.document.isComposing &&
                    Xh(t, r);
                })
              : this.listenTo(i.document, 'compositionstart', () => {
                  o.isCollapsed || Xh(t, r);
                });
        }
      }
      function Xh(e, t) {
        if (!t.isEnabled) return;
        const i = t.buffer;
        i.lock(),
          e.enqueueChange(i.batch, () => {
            e.deleteContent(e.document.selection);
          }),
          i.unlock();
      }
      class em extends zn {
        constructor(e, t) {
          super(e),
            (this.direction = t),
            (this._buffer = new Gh(e.model, e.config.get('typing.undoStep')));
        }
        get buffer() {
          return this._buffer;
        }
        execute(e = {}) {
          const t = this.editor.model,
            i = t.document;
          t.enqueueChange(this._buffer.batch, (n) => {
            this._buffer.lock();
            const o = n.createSelection(e.selection || i.selection),
              r = e.sequence || 1,
              s = o.isCollapsed;
            if (
              (o.isCollapsed &&
                t.modifySelection(o, {
                  direction: this.direction,
                  unit: e.unit,
                  treatEmojiAsSingleUnit: !0,
                }),
              this._shouldEntireContentBeReplacedWithParagraph(r))
            )
              return void this._replaceEntireContentWithParagraph(n);
            if (this._shouldReplaceFirstBlockWithParagraph(o, r))
              return void this.editor.execute('paragraph', {selection: o});
            if (o.isCollapsed) return;
            let a = 0;
            o
              .getFirstRange()
              .getMinimalFlatRanges()
              .forEach((e) => {
                a += Z(
                  e.getWalker({
                    singleCharacters: !0,
                    ignoreElementEnd: !0,
                    shallow: !0,
                  })
                );
              }),
              t.deleteContent(o, {
                doNotResetEntireContent: s,
                direction: this.direction,
              }),
              this._buffer.input(a),
              n.setSelection(o),
              this._buffer.unlock();
          });
        }
        _shouldEntireContentBeReplacedWithParagraph(e) {
          if (e > 1) return !1;
          const t = this.editor.model,
            i = t.document.selection,
            n = t.schema.getLimitElement(i);
          if (!i.isCollapsed || !i.containsEntireContent(n)) return !1;
          if (!t.schema.checkChild(n, 'paragraph')) return !1;
          const o = n.getChild(0);
          return !o || !o.is('element', 'paragraph');
        }
        _replaceEntireContentWithParagraph(e) {
          const t = this.editor.model,
            i = t.document.selection,
            n = t.schema.getLimitElement(i),
            o = e.createElement('paragraph');
          e.remove(e.createRangeIn(n)), e.insert(o, n), e.setSelection(o, 0);
        }
        _shouldReplaceFirstBlockWithParagraph(e, t) {
          const i = this.editor.model;
          if (t > 1 || 'backward' != this.direction) return !1;
          if (!e.isCollapsed) return !1;
          const n = e.getFirstPosition(),
            o = i.schema.getLimitElement(n),
            r = o.getChild(0);
          return (
            n.parent == r &&
            !!e.containsEntireContent(r) &&
            !!i.schema.checkChild(o, 'paragraph') &&
            'paragraph' != r.name
          );
        }
      }
      const tm = 'word',
        im = 'selection',
        nm = 'backward',
        om = 'forward',
        rm = {
          deleteContent: {unit: im, direction: nm},
          deleteContentBackward: {unit: 'codePoint', direction: nm},
          deleteWordBackward: {unit: tm, direction: nm},
          deleteHardLineBackward: {unit: im, direction: nm},
          deleteSoftLineBackward: {unit: im, direction: nm},
          deleteContentForward: {unit: 'character', direction: om},
          deleteWordForward: {unit: tm, direction: om},
          deleteHardLineForward: {unit: im, direction: om},
          deleteSoftLineForward: {unit: im, direction: om},
        };
      class sm extends ms {
        constructor(e) {
          super(e);
          const t = e.document;
          let i = 0;
          t.on('keydown', () => {
            i++;
          }),
            t.on('keyup', () => {
              i = 0;
            }),
            t.on('beforeinput', (o, r) => {
              if (!this.isEnabled) return;
              const {targetRanges: s, domEvent: a, inputType: l} = r,
                c = rm[l];
              if (!c) return;
              const d = {direction: c.direction, unit: c.unit, sequence: i};
              d.unit == im && (d.selectionToRemove = e.createSelection(s[0])),
                n.isAndroid &&
                  'deleteContentBackward' === l &&
                  ((d.sequence = 1),
                  1 != s.length ||
                    (s[0].start.parent == s[0].end.parent &&
                      s[0].start.offset + 1 == s[0].end.offset) ||
                    ((d.unit = im),
                    (d.selectionToRemove = e.createSelection(s))));
              const u = new mr(t, 'delete', s[0]);
              t.fire(u, new fs(e, a, d)), u.stop.called && o.stop();
            }),
            n.isBlink &&
              (function (e) {
                const t = e.view,
                  i = t.document;
                let n = null,
                  o = !1;
                function r(e) {
                  return e == bn.backspace || e == bn.delete;
                }
                function s(e) {
                  return e == bn.backspace ? nm : om;
                }
                i.on('keydown', (e, {keyCode: t}) => {
                  (n = t), (o = !1);
                }),
                  i.on('keyup', (a, {keyCode: l, domEvent: c}) => {
                    const d = i.selection,
                      u = e.isEnabled && l == n && r(l) && !d.isCollapsed && !o;
                    if (((n = null), u)) {
                      const e = d.getFirstRange(),
                        n = new mr(i, 'delete', e),
                        o = {unit: im, direction: s(l), selectionToRemove: d};
                      i.fire(n, new fs(t, c, o));
                    }
                  }),
                  i.on(
                    'beforeinput',
                    (e, {inputType: t}) => {
                      const i = rm[t];
                      r(n) && i && i.direction == s(n) && (o = !0);
                    },
                    {priority: 'high'}
                  ),
                  i.on(
                    'beforeinput',
                    (e, {inputType: t, data: i}) => {
                      n == bn.delete &&
                        'insertText' == t &&
                        '' == i &&
                        e.stop();
                    },
                    {priority: 'high'}
                  );
              })(this);
        }
        observe() {}
        stopObserving() {}
      }
      class am extends Vn {
        static get pluginName() {
          return 'Delete';
        }
        init() {
          const e = this.editor,
            t = e.editing.view,
            i = t.document,
            n = e.model.document;
          t.addObserver(sm), (this._undoOnBackspace = !1);
          const o = new em(e, 'forward');
          e.commands.add('deleteForward', o),
            e.commands.add('forwardDelete', o),
            e.commands.add('delete', new em(e, 'backward')),
            this.listenTo(
              i,
              'delete',
              (n, o) => {
                i.isComposing || o.preventDefault();
                const {
                    direction: r,
                    sequence: s,
                    selectionToRemove: a,
                    unit: l,
                  } = o,
                  c = 'forward' === r ? 'deleteForward' : 'delete',
                  d = {sequence: s};
                if ('selection' == l) {
                  const t = Array.from(a.getRanges()).map((t) =>
                    e.editing.mapper.toModelRange(t)
                  );
                  d.selection = e.model.createSelection(t);
                } else d.unit = l;
                e.execute(c, d), t.scrollToTheSelection();
              },
              {priority: 'low'}
            ),
            this.editor.plugins.has('UndoEditing') &&
              (this.listenTo(
                i,
                'delete',
                (t, i) => {
                  this._undoOnBackspace &&
                    'backward' == i.direction &&
                    1 == i.sequence &&
                    'codePoint' == i.unit &&
                    ((this._undoOnBackspace = !1),
                    e.execute('undo'),
                    i.preventDefault(),
                    t.stop());
                },
                {context: '$capture'}
              ),
              this.listenTo(n, 'change', () => {
                this._undoOnBackspace = !1;
              }));
        }
        requestUndoOnBackspace() {
          this.editor.plugins.has('UndoEditing') &&
            (this._undoOnBackspace = !0);
        }
      }
      class lm extends Vn {
        static get requires() {
          return [Jh, am];
        }
        static get pluginName() {
          return 'Typing';
        }
      }
      function cm(e, t) {
        let i = e.start;
        return {
          text: Array.from(e.getItems()).reduce(
            (e, n) =>
              n.is('$text') || n.is('$textProxy')
                ? e + n.data
                : ((i = t.createPositionAfter(n)), ''),
            ''
          ),
          range: t.createRange(i, e.end),
        };
      }
      class dm extends z() {
        constructor(e, t) {
          super(),
            (this.model = e),
            (this.testCallback = t),
            (this._hasMatch = !1),
            this.set('isEnabled', !0),
            this.on('change:isEnabled', () => {
              this.isEnabled
                ? this._startListening()
                : (this.stopListening(e.document.selection),
                  this.stopListening(e.document));
            }),
            this._startListening();
        }
        get hasMatch() {
          return this._hasMatch;
        }
        _startListening() {
          const e = this.model.document;
          this.listenTo(e.selection, 'change:range', (t, {directChange: i}) => {
            i &&
              (e.selection.isCollapsed
                ? this._evaluateTextBeforeSelection('selection')
                : this.hasMatch &&
                  (this.fire('unmatched'), (this._hasMatch = !1)));
          }),
            this.listenTo(e, 'change:data', (e, t) => {
              !t.isUndo &&
                t.isLocal &&
                this._evaluateTextBeforeSelection('data', {batch: t});
            });
        }
        _evaluateTextBeforeSelection(e, t = {}) {
          const i = this.model,
            n = i.document.selection,
            o = i.createRange(i.createPositionAt(n.focus.parent, 0), n.focus),
            {text: r, range: s} = cm(o, i),
            a = this.testCallback(r);
          if (
            (!a && this.hasMatch && this.fire('unmatched'),
            (this._hasMatch = !!a),
            a)
          ) {
            const i = Object.assign(t, {text: r, range: s});
            'object' == typeof a && Object.assign(i, a),
              this.fire(`matched:${e}`, i);
          }
        }
      }
      class um extends Vn {
        static get pluginName() {
          return 'TwoStepCaretMovement';
        }
        constructor(e) {
          super(e), (this.attributes = new Set()), (this._overrideUid = null);
        }
        init() {
          const e = this.editor,
            t = e.model,
            i = e.editing.view,
            n = e.locale,
            o = t.document.selection;
          this.listenTo(
            i.document,
            'arrowKey',
            (e, t) => {
              if (!o.isCollapsed) return;
              if (t.shiftKey || t.altKey || t.ctrlKey) return;
              const i = t.keyCode == bn.arrowright,
                r = t.keyCode == bn.arrowleft;
              if (!i && !r) return;
              const s = n.contentLanguageDirection;
              let a = !1;
              (a =
                ('ltr' === s && i) || ('rtl' === s && r)
                  ? this._handleForwardMovement(t)
                  : this._handleBackwardMovement(t)),
                !0 === a && e.stop();
            },
            {context: '$text', priority: 'highest'}
          ),
            (this._isNextGravityRestorationSkipped = !1),
            this.listenTo(o, 'change:range', (e, t) => {
              this._isNextGravityRestorationSkipped
                ? (this._isNextGravityRestorationSkipped = !1)
                : this._isGravityOverridden &&
                  ((!t.directChange &&
                    fm(o.getFirstPosition(), this.attributes)) ||
                    this._restoreGravity());
            });
        }
        registerAttribute(e) {
          this.attributes.add(e);
        }
        _handleForwardMovement(e) {
          const t = this.attributes,
            i = this.editor.model.document.selection,
            n = i.getFirstPosition();
          return !(
            this._isGravityOverridden ||
            (n.isAtStart && hm(i, t)) ||
            !fm(n, t) ||
            (gm(e), this._overrideGravity(), 0)
          );
        }
        _handleBackwardMovement(e) {
          const t = this.attributes,
            i = this.editor.model,
            n = i.document.selection,
            o = n.getFirstPosition();
          return this._isGravityOverridden
            ? (gm(e), this._restoreGravity(), mm(i, t, o), !0)
            : o.isAtStart
            ? !!hm(n, t) && (gm(e), mm(i, t, o), !0)
            : !!(function (e, t) {
                return fm(e.getShiftedBy(-1), t);
              })(o, t) &&
              (o.isAtEnd && !hm(n, t) && fm(o, t)
                ? (gm(e), mm(i, t, o), !0)
                : ((this._isNextGravityRestorationSkipped = !0),
                  this._overrideGravity(),
                  !1));
        }
        get _isGravityOverridden() {
          return !!this._overrideUid;
        }
        _overrideGravity() {
          this._overrideUid = this.editor.model.change((e) =>
            e.overrideSelectionGravity()
          );
        }
        _restoreGravity() {
          this.editor.model.change((e) => {
            e.restoreSelectionGravity(this._overrideUid),
              (this._overrideUid = null);
          });
        }
      }
      function hm(e, t) {
        for (const i of t) if (e.hasAttribute(i)) return !0;
        return !1;
      }
      function mm(e, t, i) {
        const n = i.nodeBefore;
        e.change((e) => {
          n
            ? e.setSelectionAttribute(n.getAttributes())
            : e.removeSelectionAttribute(t);
        });
      }
      function gm(e) {
        e.preventDefault();
      }
      function fm(e, t) {
        const {nodeBefore: i, nodeAfter: n} = e;
        for (const e of t) {
          const t = i ? i.getAttribute(e) : void 0;
          if ((n ? n.getAttribute(e) : void 0) !== t) return !0;
        }
        return !1;
      }
      function pm(e) {
        return new RegExp(`(^|\\s)(${e})([^${e}]*)(${e})$`);
      }
      function bm(e, t, i, n) {
        return n.createRange(km(e, t, i, !0, n), km(e, t, i, !1, n));
      }
      function km(e, t, i, n, o) {
        let r = e.textNode || (n ? e.nodeBefore : e.nodeAfter),
          s = null;
        for (; r && r.getAttribute(t) == i; )
          (s = r), (r = n ? r.previousSibling : r.nextSibling);
        return s ? o.createPositionAt(s, n ? 'before' : 'after') : e;
      }
      function wm(e, t, i, n) {
        const o = e.editing.view,
          r = new Set();
        o.document.registerPostFixer((o) => {
          const s = e.model.document.selection;
          let a = !1;
          if (s.hasAttribute(t)) {
            const l = bm(s.getFirstPosition(), t, s.getAttribute(t), e.model),
              c = e.editing.mapper.toViewRange(l);
            for (const e of c.getItems())
              e.is('element', i) &&
                !e.hasClass(n) &&
                (o.addClass(n, e), r.add(e), (a = !0));
          }
          return a;
        }),
          e.conversion.for('editingDowncast').add((e) => {
            function t() {
              o.change((e) => {
                for (const t of r.values()) e.removeClass(n, t), r.delete(t);
              });
            }
            e.on('insert', t, {priority: 'highest'}),
              e.on('remove', t, {priority: 'highest'}),
              e.on('attribute', t, {priority: 'highest'}),
              e.on('selection', t, {priority: 'highest'});
          });
      }
      function* _m(e, t) {
        for (const i of t)
          i && e.getAttributeProperties(i[0]).copyOnEnter && (yield i);
      }
      pm('"'), pm("'"), pm("'"), pm('"'), pm('"'), pm("'");
      class vm extends zn {
        execute() {
          this.editor.model.change((e) => {
            this.enterBlock(e), this.fire('afterExecute', {writer: e});
          });
        }
        enterBlock(e) {
          const t = this.editor.model,
            i = t.document.selection,
            n = t.schema,
            o = i.isCollapsed,
            r = i.getFirstRange(),
            s = r.start.parent,
            a = r.end.parent;
          if (n.isLimit(s) || n.isLimit(a))
            return o || s != a || t.deleteContent(i), !1;
          if (o) {
            const t = _m(e.model.schema, i.getAttributes());
            return ym(e, r.start), e.setSelectionAttribute(t), !0;
          }
          {
            const n = !(r.start.isAtStart && r.end.isAtEnd),
              o = s == a;
            if ((t.deleteContent(i, {leaveUnmerged: n}), n)) {
              if (o) return ym(e, i.focus), !0;
              e.setSelection(a, 0);
            }
          }
          return !1;
        }
      }
      function ym(e, t) {
        e.split(t), e.setSelection(t.parent.nextSibling, 0);
      }
      const xm = {insertParagraph: {isSoft: !1}, insertLineBreak: {isSoft: !0}};
      class Am extends ms {
        constructor(e) {
          super(e);
          const t = this.document;
          t.on('beforeinput', (i, n) => {
            if (!this.isEnabled) return;
            const o = n.domEvent,
              r = xm[n.inputType];
            if (!r) return;
            const s = new mr(t, 'enter', n.targetRanges[0]);
            t.fire(s, new fs(e, o, {isSoft: r.isSoft})),
              s.stop.called && i.stop();
          });
        }
        observe() {}
        stopObserving() {}
      }
      class Cm extends Vn {
        static get pluginName() {
          return 'Enter';
        }
        init() {
          const e = this.editor,
            t = e.editing.view,
            i = t.document;
          t.addObserver(Am),
            e.commands.add('enter', new vm(e)),
            this.listenTo(
              i,
              'enter',
              (n, o) => {
                i.isComposing || o.preventDefault(),
                  o.isSoft || (e.execute('enter'), t.scrollToTheSelection());
              },
              {priority: 'low'}
            );
        }
      }
      class Em extends zn {
        execute() {
          const e = this.editor.model,
            t = e.document;
          e.change((i) => {
            !(function (e, t, i) {
              const n = i.isCollapsed,
                o = i.getFirstRange(),
                r = o.start.parent,
                s = o.end.parent,
                a = r == s;
              if (n) {
                const n = _m(e.schema, i.getAttributes());
                Tm(e, t, o.end),
                  t.removeSelectionAttribute(i.getAttributeKeys()),
                  t.setSelectionAttribute(n);
              } else {
                const n = !(o.start.isAtStart && o.end.isAtEnd);
                e.deleteContent(i, {leaveUnmerged: n}),
                  a ? Tm(e, t, i.focus) : n && t.setSelection(s, 0);
              }
            })(e, i, t.selection),
              this.fire('afterExecute', {writer: i});
          });
        }
        refresh() {
          const e = this.editor.model,
            t = e.document;
          this.isEnabled = (function (e, t) {
            if (t.rangeCount > 1) return !1;
            const i = t.anchor;
            if (!i || !e.checkChild(i, 'softBreak')) return !1;
            const n = t.getFirstRange(),
              o = n.start.parent,
              r = n.end.parent;
            return (!Sm(o, e) && !Sm(r, e)) || o === r;
          })(e.schema, t.selection);
        }
      }
      function Tm(e, t, i) {
        const n = t.createElement('softBreak');
        e.insertContent(n, i), t.setSelection(n, 'after');
      }
      function Sm(e, t) {
        return !e.is('rootElement') && (t.isLimit(e) || Sm(e.parent, t));
      }
      class Im extends Vn {
        static get pluginName() {
          return 'ShiftEnter';
        }
        init() {
          const e = this.editor,
            t = e.model.schema,
            i = e.conversion,
            n = e.editing.view,
            o = n.document;
          t.register('softBreak', {allowWhere: '$text', isInline: !0}),
            i.for('upcast').elementToElement({model: 'softBreak', view: 'br'}),
            i.for('downcast').elementToElement({
              model: 'softBreak',
              view: (e, {writer: t}) => t.createEmptyElement('br'),
            }),
            n.addObserver(Am),
            e.commands.add('shiftEnter', new Em(e)),
            this.listenTo(
              o,
              'enter',
              (t, i) => {
                o.isComposing || i.preventDefault(),
                  i.isSoft &&
                    (e.execute('shiftEnter'), n.scrollToTheSelection());
              },
              {priority: 'low'}
            );
        }
      }
      class Pm extends x() {
        constructor() {
          super(...arguments), (this._stack = []);
        }
        add(e, t) {
          const i = this._stack,
            n = i[0];
          this._insertDescriptor(e);
          const o = i[0];
          n === o ||
            Mm(n, o) ||
            this.fire('change:top', {
              oldDescriptor: n,
              newDescriptor: o,
              writer: t,
            });
        }
        remove(e, t) {
          const i = this._stack,
            n = i[0];
          this._removeDescriptor(e);
          const o = i[0];
          n === o ||
            Mm(n, o) ||
            this.fire('change:top', {
              oldDescriptor: n,
              newDescriptor: o,
              writer: t,
            });
        }
        _insertDescriptor(e) {
          const t = this._stack,
            i = t.findIndex((t) => t.id === e.id);
          if (Mm(e, t[i])) return;
          i > -1 && t.splice(i, 1);
          let n = 0;
          for (
            ;
            t[n] &&
            ((o = t[n]),
            (r = e),
            o.priority > r.priority ||
              (!(o.priority < r.priority) && Rm(o.classes) > Rm(r.classes)));

          )
            n++;
          var o, r;
          t.splice(n, 0, e);
        }
        _removeDescriptor(e) {
          const t = this._stack,
            i = t.findIndex((t) => t.id === e);
          i > -1 && t.splice(i, 1);
        }
      }
      function Mm(e, t) {
        return (
          e && t && e.priority == t.priority && Rm(e.classes) == Rm(t.classes)
        );
      }
      function Rm(e) {
        return Array.isArray(e) ? e.sort().join(',') : e;
      }
      var Nm =
        'export default "<svg viewBox=\\"0 0 16 16\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z\\"/><path fill-opacity=\\".256\\" d=\\"M1 1h14v14H1z\\"/><g class=\\"ck-icon__selected-indicator\\"><path d=\\"M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z\\"/><path fill-opacity=\\".254\\" d=\\"M1 1h14v14H1z\\"/></g></svg>";';
      const Om = 'ck-widget',
        Dm = 'ck-widget_selected';
      function Vm(e) {
        return !!e.is('element') && !!e.getCustomProperty('widget');
      }
      function Lm(e, t, i = {}) {
        if (!e.is('containerElement'))
          throw new f('widget-to-widget-wrong-element-type', null, {
            element: e,
          });
        return (
          t.setAttribute('contenteditable', 'false', e),
          t.addClass(Om, e),
          t.setCustomProperty('widget', !0, e),
          (e.getFillerOffset = $m),
          t.setCustomProperty('widgetLabel', [], e),
          i.label &&
            (function (e, t) {
              e.getCustomProperty('widgetLabel').push(t);
            })(e, i.label),
          i.hasSelectionHandle &&
            (function (e, t) {
              const i = t.createUIElement(
                'div',
                {class: 'ck ck-widget__selection-handle'},
                function (e) {
                  const t = this.toDomElement(e),
                    i = new Kd();
                  return (
                    i.set('content', Nm),
                    i.render(),
                    t.appendChild(i.element),
                    t
                  );
                }
              );
              t.insert(t.createPositionAt(e, 0), i),
                t.addClass(['ck-widget_with-selection-handle'], e);
            })(e, t),
          Fm(e, t),
          e
        );
      }
      function zm(e, t, i) {
        if ((t.classes && i.addClass(xn(t.classes), e), t.attributes))
          for (const n in t.attributes) i.setAttribute(n, t.attributes[n], e);
      }
      function Bm(e, t, i) {
        if ((t.classes && i.removeClass(xn(t.classes), e), t.attributes))
          for (const n in t.attributes) i.removeAttribute(n, e);
      }
      function Fm(e, t, i = zm, n = Bm) {
        const o = new Pm();
        o.on('change:top', (t, o) => {
          o.oldDescriptor && n(e, o.oldDescriptor, o.writer),
            o.newDescriptor && i(e, o.newDescriptor, o.writer);
        }),
          t.setCustomProperty('addHighlight', (e, t, i) => o.add(t, i), e),
          t.setCustomProperty(
            'removeHighlight',
            (e, t, i) => o.remove(t, i),
            e
          );
      }
      function jm(e, t, i = {}) {
        return (
          t.addClass(['ck-editor__editable', 'ck-editor__nested-editable'], e),
          t.setAttribute('role', 'textbox', e),
          i.label && t.setAttribute('aria-label', i.label, e),
          t.setAttribute('contenteditable', e.isReadOnly ? 'false' : 'true', e),
          e.on('change:isReadOnly', (i, n, o) => {
            t.setAttribute('contenteditable', o ? 'false' : 'true', e);
          }),
          e.on('change:isFocused', (i, n, o) => {
            o
              ? t.addClass('ck-editor__nested-editable_focused', e)
              : t.removeClass('ck-editor__nested-editable_focused', e);
          }),
          Fm(e, t),
          e
        );
      }
      function Hm(e, t) {
        const i = e.getSelectedElement();
        if (i) {
          const n = Wm(e);
          if (n) return t.createRange(t.createPositionAt(i, n));
        }
        return qc(e, t);
      }
      function $m() {
        return null;
      }
      const Um = 'widget-type-around';
      function Zm(e, t, i) {
        return !!e && Vm(e) && !i.isInline(t);
      }
      function Wm(e) {
        return e.getAttribute(Um);
      }
      var qm = i(6548),
        Gm = {attributes: {'data-cke': !0}};
      (Gm.setAttributes = Qn()),
        (Gm.insert = Yn().bind(null, 'head')),
        (Gm.domAPI = qn()),
        (Gm.insertStyleElement = Xn()),
        Zn()(qm.Z, Gm),
        qm.Z && qm.Z.locals && qm.Z.locals;
      const Ym = ['before', 'after'],
        Km = new DOMParser().parseFromString(
          'export default "<svg viewBox=\\"0 0 10 8\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038\\"/></svg>";',
          'image/svg+xml'
        ).firstChild,
        Qm = 'ck-widget__type-around_disabled';
      class Jm extends Vn {
        constructor() {
          super(...arguments), (this._currentFakeCaretModelElement = null);
        }
        static get pluginName() {
          return 'WidgetTypeAround';
        }
        static get requires() {
          return [Cm, am];
        }
        init() {
          const e = this.editor,
            t = e.editing.view;
          this.on('change:isEnabled', (i, n, o) => {
            t.change((e) => {
              for (const i of t.document.roots)
                o ? e.removeClass(Qm, i) : e.addClass(Qm, i);
            }),
              o ||
                e.model.change((e) => {
                  e.removeSelectionAttribute(Um);
                });
          }),
            this._enableTypeAroundUIInjection(),
            this._enableInsertingParagraphsOnButtonClick(),
            this._enableInsertingParagraphsOnEnterKeypress(),
            this._enableInsertingParagraphsOnTypingKeystroke(),
            this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),
            this._enableDeleteIntegration(),
            this._enableInsertContentIntegration(),
            this._enableInsertObjectIntegration(),
            this._enableDeleteContentIntegration();
        }
        destroy() {
          super.destroy(), (this._currentFakeCaretModelElement = null);
        }
        _insertParagraph(e, t) {
          const i = this.editor,
            n = i.editing.view,
            o = i.model.schema.getAttributesWithProperty(
              e,
              'copyOnReplace',
              !0
            );
          i.execute('insertParagraph', {
            position: i.model.createPositionAt(e, t),
            attributes: o,
          }),
            n.focus(),
            n.scrollToTheSelection();
        }
        _listenToIfEnabled(e, t, i, n) {
          this.listenTo(
            e,
            t,
            (...e) => {
              this.isEnabled && i(...e);
            },
            n
          );
        }
        _insertParagraphAccordingToFakeCaretPosition() {
          const e = this.editor.model.document.selection,
            t = Wm(e);
          if (!t) return !1;
          const i = e.getSelectedElement();
          return this._insertParagraph(i, t), !0;
        }
        _enableTypeAroundUIInjection() {
          const e = this.editor,
            t = e.model.schema,
            i = e.locale.t,
            n = {
              before: i('Insert paragraph before block'),
              after: i('Insert paragraph after block'),
            };
          e.editing.downcastDispatcher.on(
            'insert',
            (e, o, r) => {
              const s = r.mapper.toViewElement(o.item);
              s &&
                Zm(s, o.item, t) &&
                (!(function (e, t, i) {
                  const n = e.createUIElement(
                    'div',
                    {class: 'ck ck-reset_all ck-widget__type-around'},
                    function (e) {
                      const i = this.toDomElement(e);
                      return (
                        (function (e, t) {
                          for (const i of Ym) {
                            const n = new Ed({
                              tag: 'div',
                              attributes: {
                                class: [
                                  'ck',
                                  'ck-widget__type-around__button',
                                  `ck-widget__type-around__button_${i}`,
                                ],
                                title: t[i],
                                'aria-hidden': 'true',
                              },
                              children: [e.ownerDocument.importNode(Km, !0)],
                            });
                            e.appendChild(n.render());
                          }
                        })(i, t),
                        (function (e) {
                          const t = new Ed({
                            tag: 'div',
                            attributes: {
                              class: [
                                'ck',
                                'ck-widget__type-around__fake-caret',
                              ],
                            },
                          });
                          e.appendChild(t.render());
                        })(i),
                        i
                      );
                    }
                  );
                  e.insert(e.createPositionAt(i, 'end'), n);
                })(r.writer, n, s),
                s
                  .getCustomProperty('widgetLabel')
                  .push(() =>
                    this.isEnabled
                      ? i(
                          'Press Enter to type after or press Shift + Enter to type before the widget'
                        )
                      : ''
                  ));
            },
            {priority: 'low'}
          );
        }
        _enableTypeAroundFakeCaretActivationUsingKeyboardArrows() {
          const e = this.editor,
            t = e.model,
            i = t.document.selection,
            n = t.schema,
            o = e.editing.view;
          function r(e) {
            return `ck-widget_type-around_show-fake-caret_${e}`;
          }
          this._listenToIfEnabled(
            o.document,
            'arrowKey',
            (e, t) => {
              this._handleArrowKeyPress(e, t);
            },
            {context: [Vm, '$text'], priority: 'high'}
          ),
            this._listenToIfEnabled(i, 'change:range', (t, i) => {
              i.directChange &&
                e.model.change((e) => {
                  e.removeSelectionAttribute(Um);
                });
            }),
            this._listenToIfEnabled(t.document, 'change:data', () => {
              const t = i.getSelectedElement();
              (t && Zm(e.editing.mapper.toViewElement(t), t, n)) ||
                e.model.change((e) => {
                  e.removeSelectionAttribute(Um);
                });
            }),
            this._listenToIfEnabled(
              e.editing.downcastDispatcher,
              'selection',
              (e, t, i) => {
                const o = i.writer;
                if (this._currentFakeCaretModelElement) {
                  const e = i.mapper.toViewElement(
                    this._currentFakeCaretModelElement
                  );
                  e &&
                    (o.removeClass(Ym.map(r), e),
                    (this._currentFakeCaretModelElement = null));
                }
                const s = t.selection.getSelectedElement();
                if (!s) return;
                const a = i.mapper.toViewElement(s);
                if (!Zm(a, s, n)) return;
                const l = Wm(t.selection);
                l &&
                  (o.addClass(r(l), a),
                  (this._currentFakeCaretModelElement = s));
              }
            ),
            this._listenToIfEnabled(
              e.ui.focusTracker,
              'change:isFocused',
              (t, i, n) => {
                n ||
                  e.model.change((e) => {
                    e.removeSelectionAttribute(Um);
                  });
              }
            );
        }
        _handleArrowKeyPress(e, t) {
          const i = this.editor,
            n = i.model,
            o = n.document.selection,
            r = n.schema,
            s = i.editing.view,
            a = (function (e, t) {
              const i = yn(e, t);
              return 'down' === i || 'right' === i;
            })(t.keyCode, i.locale.contentLanguageDirection),
            l = s.document.selection.getSelectedElement();
          let c;
          Zm(l, i.editing.mapper.toModelElement(l), r)
            ? (c = this._handleArrowKeyPressOnSelectedWidget(a))
            : o.isCollapsed
            ? (c = this._handleArrowKeyPressWhenSelectionNextToAWidget(a))
            : t.shiftKey ||
              (c = this._handleArrowKeyPressWhenNonCollapsedSelection(a)),
            c && (t.preventDefault(), e.stop());
        }
        _handleArrowKeyPressOnSelectedWidget(e) {
          const t = this.editor.model,
            i = Wm(t.document.selection);
          return t.change((t) =>
            i
              ? i !== (e ? 'after' : 'before') &&
                (t.removeSelectionAttribute(Um), !0)
              : (t.setSelectionAttribute(Um, e ? 'after' : 'before'), !0)
          );
        }
        _handleArrowKeyPressWhenSelectionNextToAWidget(e) {
          const t = this.editor,
            i = t.model,
            n = i.schema,
            o = t.plugins.get('Widget'),
            r = o._getObjectElementNextToSelection(e);
          return (
            !!Zm(t.editing.mapper.toViewElement(r), r, n) &&
            (i.change((t) => {
              o._setSelectionOverElement(r),
                t.setSelectionAttribute(Um, e ? 'before' : 'after');
            }),
            !0)
          );
        }
        _handleArrowKeyPressWhenNonCollapsedSelection(e) {
          const t = this.editor,
            i = t.model,
            n = i.schema,
            o = t.editing.mapper,
            r = i.document.selection,
            s = e
              ? r.getLastPosition().nodeBefore
              : r.getFirstPosition().nodeAfter;
          return (
            !!Zm(o.toViewElement(s), s, n) &&
            (i.change((t) => {
              t.setSelection(s, 'on'),
                t.setSelectionAttribute(Um, e ? 'after' : 'before');
            }),
            !0)
          );
        }
        _enableInsertingParagraphsOnButtonClick() {
          const e = this.editor,
            t = e.editing.view;
          this._listenToIfEnabled(t.document, 'mousedown', (i, n) => {
            const o = n.domTarget.closest('.ck-widget__type-around__button');
            if (!o) return;
            const r = o.classList.contains(
                'ck-widget__type-around__button_before'
              )
                ? 'before'
                : 'after',
              s = (function (e, t) {
                const i = e.closest('.ck-widget');
                return t.mapDomToView(i);
              })(o, t.domConverter),
              a = e.editing.mapper.toModelElement(s);
            this._insertParagraph(a, r), n.preventDefault(), i.stop();
          });
        }
        _enableInsertingParagraphsOnEnterKeypress() {
          const e = this.editor,
            t = e.model.document.selection,
            i = e.editing.view;
          this._listenToIfEnabled(
            i.document,
            'enter',
            (i, n) => {
              if ('atTarget' != i.eventPhase) return;
              const o = t.getSelectedElement(),
                r = e.editing.mapper.toViewElement(o),
                s = e.model.schema;
              let a;
              this._insertParagraphAccordingToFakeCaretPosition()
                ? (a = !0)
                : Zm(r, o, s) &&
                  (this._insertParagraph(o, n.isSoft ? 'before' : 'after'),
                  (a = !0)),
                a && (n.preventDefault(), i.stop());
            },
            {context: Vm}
          );
        }
        _enableInsertingParagraphsOnTypingKeystroke() {
          const e = this.editor.editing.view.document;
          this._listenToIfEnabled(
            e,
            'insertText',
            (t, i) => {
              this._insertParagraphAccordingToFakeCaretPosition() &&
                (i.selection = e.selection);
            },
            {priority: 'high'}
          ),
            n.isAndroid
              ? this._listenToIfEnabled(e, 'keydown', (e, t) => {
                  229 == t.keyCode &&
                    this._insertParagraphAccordingToFakeCaretPosition();
                })
              : this._listenToIfEnabled(
                  e,
                  'compositionstart',
                  () => {
                    this._insertParagraphAccordingToFakeCaretPosition();
                  },
                  {priority: 'high'}
                );
        }
        _enableDeleteIntegration() {
          const e = this.editor,
            t = e.editing.view,
            i = e.model,
            n = i.schema;
          this._listenToIfEnabled(
            t.document,
            'delete',
            (t, o) => {
              if ('atTarget' != t.eventPhase) return;
              const r = Wm(i.document.selection);
              if (!r) return;
              const s = o.direction,
                a = i.document.selection.getSelectedElement(),
                l = 'forward' == s;
              if (('before' === r) === l)
                e.execute('delete', {selection: i.createSelection(a, 'on')});
              else {
                const t = n.getNearestSelectionRange(
                  i.createPositionAt(a, r),
                  s
                );
                if (t)
                  if (t.isCollapsed) {
                    const o = i.createSelection(t.start);
                    if (
                      (i.modifySelection(o, {direction: s}),
                      o.focus.isEqual(t.start))
                    ) {
                      const e = (function (e, t) {
                        let i = t;
                        for (const n of t.getAncestors({parentFirst: !0})) {
                          if (n.childCount > 1 || e.isLimit(n)) break;
                          i = n;
                        }
                        return i;
                      })(n, t.start.parent);
                      i.deleteContent(i.createSelection(e, 'on'), {
                        doNotAutoparagraph: !0,
                      });
                    } else
                      i.change((i) => {
                        i.setSelection(t),
                          e.execute(l ? 'deleteForward' : 'delete');
                      });
                  } else
                    i.change((i) => {
                      i.setSelection(t),
                        e.execute(l ? 'deleteForward' : 'delete');
                    });
              }
              o.preventDefault(), t.stop();
            },
            {context: Vm}
          );
        }
        _enableInsertContentIntegration() {
          const e = this.editor,
            t = this.editor.model,
            i = t.document.selection;
          this._listenToIfEnabled(
            e.model,
            'insertContent',
            (e, [n, o]) => {
              if (o && !o.is('documentSelection')) return;
              const r = Wm(i);
              return r
                ? (e.stop(),
                  t.change((e) => {
                    const o = i.getSelectedElement(),
                      s = t.createPositionAt(o, r),
                      a = e.createSelection(s),
                      l = t.insertContent(n, a);
                    return e.setSelection(a), l;
                  }))
                : void 0;
            },
            {priority: 'high'}
          );
        }
        _enableInsertObjectIntegration() {
          const e = this.editor,
            t = this.editor.model.document.selection;
          this._listenToIfEnabled(
            e.model,
            'insertObject',
            (e, i) => {
              const [, n, o = {}] = i;
              if (n && !n.is('documentSelection')) return;
              const r = Wm(t);
              r && ((o.findOptimalPosition = r), (i[3] = o));
            },
            {priority: 'high'}
          );
        }
        _enableDeleteContentIntegration() {
          const e = this.editor,
            t = this.editor.model.document.selection;
          this._listenToIfEnabled(
            e.model,
            'deleteContent',
            (e, [i]) => {
              (i && !i.is('documentSelection')) || (Wm(t) && e.stop());
            },
            {priority: 'high'}
          );
        }
      }
      function Xm(e, t, i) {
        const n = e.schema,
          o = e.createRangeIn(t.root),
          r = 'forward' == i ? 'elementStart' : 'elementEnd';
        for (const {previousPosition: e, item: s, type: a} of o.getWalker({
          startPosition: t,
          direction: i,
        })) {
          if (n.isLimit(s) && !n.isInline(s)) return e;
          if (a == r && n.isBlock(s)) return null;
        }
        return null;
      }
      function eg(e, t, i) {
        const n = 'backward' == i ? t.end : t.start;
        if (e.checkChild(n, '$text')) return n;
        for (const {nextPosition: n} of t.getWalker({direction: i}))
          if (e.checkChild(n, '$text')) return n;
        return null;
      }
      var tg = i(1053),
        ig = {attributes: {'data-cke': !0}};
      (ig.setAttributes = Qn()),
        (ig.insert = Yn().bind(null, 'head')),
        (ig.domAPI = qn()),
        (ig.insertStyleElement = Xn()),
        Zn()(tg.Z, ig),
        tg.Z && tg.Z.locals && tg.Z.locals;
      class ng extends Vn {
        constructor() {
          super(...arguments), (this._previouslySelected = new Set());
        }
        static get pluginName() {
          return 'Widget';
        }
        static get requires() {
          return [Jm, am];
        }
        init() {
          const e = this.editor,
            t = e.editing.view,
            i = t.document;
          this.editor.editing.downcastDispatcher.on('selection', (t, i, n) => {
            const o = n.writer,
              r = i.selection;
            if (r.isCollapsed) return;
            const s = r.getSelectedElement();
            if (!s) return;
            const a = e.editing.mapper.toViewElement(s);
            var l;
            Vm(a) &&
              n.consumable.consume(r, 'selection') &&
              o.setSelection(o.createRangeOn(a), {
                fake: !0,
                label:
                  ((l = a),
                  l
                    .getCustomProperty('widgetLabel')
                    .reduce(
                      (e, t) =>
                        'function' == typeof t
                          ? e
                            ? e + '. ' + t()
                            : t()
                          : e
                          ? e + '. ' + t
                          : t,
                      ''
                    )),
              });
          }),
            this.editor.editing.downcastDispatcher.on(
              'selection',
              (e, t, i) => {
                this._clearPreviouslySelectedWidgets(i.writer);
                const n = i.writer,
                  o = n.document.selection;
                let r = null;
                for (const e of o.getRanges())
                  for (const t of e) {
                    const e = t.item;
                    Vm(e) &&
                      ((s = e),
                      !(a = r) || !Array.from(s.getAncestors()).includes(a)) &&
                      (n.addClass(Dm, e),
                      this._previouslySelected.add(e),
                      (r = e));
                  }
                var s, a;
              },
              {priority: 'low'}
            ),
            t.addObserver(id),
            this.listenTo(i, 'mousedown', (...e) => this._onMousedown(...e)),
            this.listenTo(
              i,
              'arrowKey',
              (...e) => {
                this._handleSelectionChangeOnArrowKeyPress(...e);
              },
              {context: [Vm, '$text']}
            ),
            this.listenTo(
              i,
              'arrowKey',
              (...e) => {
                this._preventDefaultOnArrowKeyPress(...e);
              },
              {context: '$root'}
            ),
            this.listenTo(
              i,
              'arrowKey',
              (function (e) {
                const t = e.model;
                return (i, n) => {
                  const o = n.keyCode == bn.arrowup,
                    r = n.keyCode == bn.arrowdown,
                    s = n.shiftKey,
                    a = t.document.selection;
                  if (!o && !r) return;
                  const l = r;
                  if (
                    s &&
                    (function (e, t) {
                      return !e.isCollapsed && e.isBackward == t;
                    })(a, l)
                  )
                    return;
                  const c = (function (e, t, i) {
                    const n = e.model;
                    if (i) {
                      const e = t.isCollapsed ? t.focus : t.getLastPosition(),
                        i = Xm(n, e, 'forward');
                      if (!i) return null;
                      const o = n.createRange(e, i),
                        r = eg(n.schema, o, 'backward');
                      return r ? n.createRange(e, r) : null;
                    }
                    {
                      const e = t.isCollapsed ? t.focus : t.getFirstPosition(),
                        i = Xm(n, e, 'backward');
                      if (!i) return null;
                      const o = n.createRange(i, e),
                        r = eg(n.schema, o, 'forward');
                      return r ? n.createRange(r, e) : null;
                    }
                  })(e, a, l);
                  if (c) {
                    if (c.isCollapsed) {
                      if (a.isCollapsed) return;
                      if (s) return;
                    }
                    (c.isCollapsed ||
                      (function (e, t, i) {
                        const n = e.model,
                          o = e.view.domConverter;
                        if (i) {
                          const e = n.createSelection(t.start);
                          n.modifySelection(e),
                            e.focus.isAtEnd ||
                              t.start.isEqual(e.focus) ||
                              (t = n.createRange(e.focus, t.end));
                        }
                        const r = e.mapper.toViewRange(t),
                          s = o.viewRangeToDom(r),
                          a = Ui.getDomRangeRects(s);
                        let l;
                        for (const e of a)
                          if (void 0 !== l) {
                            if (Math.round(e.top) >= l) return !1;
                            l = Math.max(l, Math.round(e.bottom));
                          } else l = Math.round(e.bottom);
                        return !0;
                      })(e, c, l)) &&
                      (t.change((e) => {
                        const i = l ? c.end : c.start;
                        if (s) {
                          const n = t.createSelection(a.anchor);
                          n.setFocus(i), e.setSelection(n);
                        } else e.setSelection(i);
                      }),
                      i.stop(),
                      n.preventDefault(),
                      n.stopPropagation());
                  }
                };
              })(this.editor.editing),
              {context: '$text'}
            ),
            this.listenTo(
              i,
              'delete',
              (e, t) => {
                this._handleDelete('forward' == t.direction) &&
                  (t.preventDefault(), e.stop());
              },
              {context: '$root'}
            );
        }
        _onMousedown(e, t) {
          const i = this.editor,
            o = i.editing.view,
            r = o.document;
          let s = t.target;
          if (
            (function (e) {
              let t = e;
              for (; t; ) {
                if (t.is('editableElement') && !t.is('rootElement')) return !0;
                if (Vm(t)) return !1;
                t = t.parent;
              }
              return !1;
            })(s)
          ) {
            if ((n.isSafari || n.isGecko) && t.domEvent.detail >= 3) {
              const e = i.editing.mapper,
                n = s.is('attributeElement')
                  ? s.findAncestor((e) => !e.is('attributeElement'))
                  : s,
                o = e.toModelElement(n);
              t.preventDefault(),
                this.editor.model.change((e) => {
                  e.setSelection(o, 'in');
                });
            }
            return;
          }
          if (!Vm(s) && ((s = s.findAncestor(Vm)), !s)) return;
          n.isAndroid && t.preventDefault(), r.isFocused || o.focus();
          const a = i.editing.mapper.toModelElement(s);
          this._setSelectionOverElement(a);
        }
        _handleSelectionChangeOnArrowKeyPress(e, t) {
          const i = t.keyCode,
            n = this.editor.model,
            o = n.schema,
            r = n.document.selection,
            s = r.getSelectedElement(),
            a = yn(i, this.editor.locale.contentLanguageDirection),
            l = 'down' == a || 'right' == a,
            c = 'up' == a || 'down' == a;
          if (s && o.isObject(s)) {
            const i = l ? r.getLastPosition() : r.getFirstPosition(),
              s = o.getNearestSelectionRange(i, l ? 'forward' : 'backward');
            return void (
              s &&
              (n.change((e) => {
                e.setSelection(s);
              }),
              t.preventDefault(),
              e.stop())
            );
          }
          if (!r.isCollapsed && !t.shiftKey) {
            const i = r.getFirstPosition(),
              s = r.getLastPosition(),
              a = i.nodeAfter,
              c = s.nodeBefore;
            return void (
              ((a && o.isObject(a)) || (c && o.isObject(c))) &&
              (n.change((e) => {
                e.setSelection(l ? s : i);
              }),
              t.preventDefault(),
              e.stop())
            );
          }
          if (!r.isCollapsed) return;
          const d = this._getObjectElementNextToSelection(l);
          if (d && o.isObject(d)) {
            if (o.isInline(d) && c) return;
            this._setSelectionOverElement(d), t.preventDefault(), e.stop();
          }
        }
        _preventDefaultOnArrowKeyPress(e, t) {
          const i = this.editor.model,
            n = i.schema,
            o = i.document.selection.getSelectedElement();
          o && n.isObject(o) && (t.preventDefault(), e.stop());
        }
        _handleDelete(e) {
          if (this.editor.isReadOnly) return;
          const t = this.editor.model.document.selection;
          if (!t.isCollapsed) return;
          const i = this._getObjectElementNextToSelection(e);
          return i
            ? (this.editor.model.change((e) => {
                let n = t.anchor.parent;
                for (; n.isEmpty; ) {
                  const t = n;
                  (n = t.parent), e.remove(t);
                }
                this._setSelectionOverElement(i);
              }),
              !0)
            : void 0;
        }
        _setSelectionOverElement(e) {
          this.editor.model.change((t) => {
            t.setSelection(t.createRangeOn(e));
          });
        }
        _getObjectElementNextToSelection(e) {
          const t = this.editor.model,
            i = t.schema,
            n = t.document.selection,
            o = t.createSelection(n);
          if (
            (t.modifySelection(o, {direction: e ? 'forward' : 'backward'}),
            o.isEqual(n))
          )
            return null;
          const r = e ? o.focus.nodeBefore : o.focus.nodeAfter;
          return r && i.isObject(r) ? r : null;
        }
        _clearPreviouslySelectedWidgets(e) {
          for (const t of this._previouslySelected) e.removeClass(Dm, t);
          this._previouslySelected.clear();
        }
      }
      class og extends Vn {
        constructor() {
          super(...arguments), (this._toolbarDefinitions = new Map());
        }
        static get requires() {
          return [Mh];
        }
        static get pluginName() {
          return 'WidgetToolbarRepository';
        }
        init() {
          const e = this.editor;
          if (e.plugins.has('BalloonToolbar')) {
            const t = e.plugins.get('BalloonToolbar');
            this.listenTo(
              t,
              'show',
              (t) => {
                (function (e) {
                  const t = e.getSelectedElement();
                  return !(!t || !Vm(t));
                })(e.editing.view.document.selection) && t.stop();
              },
              {priority: 'high'}
            );
          }
          (this._balloon = this.editor.plugins.get('ContextualBalloon')),
            this.on('change:isEnabled', () => {
              this._updateToolbarsVisibility();
            }),
            this.listenTo(e.ui, 'update', () => {
              this._updateToolbarsVisibility();
            }),
            this.listenTo(
              e.ui.focusTracker,
              'change:isFocused',
              () => {
                this._updateToolbarsVisibility();
              },
              {priority: 'low'}
            );
        }
        destroy() {
          super.destroy();
          for (const e of this._toolbarDefinitions.values()) e.view.destroy();
        }
        register(
          e,
          {
            ariaLabel: t,
            items: i,
            getRelatedElement: n,
            balloonClassName: o = 'ck-toolbar-container',
          }
        ) {
          if (!i.length)
            return void p('widget-toolbar-no-items', {toolbarId: e});
          const r = this.editor,
            s = r.t,
            a = new Cu(r.locale);
          if (
            ((a.ariaLabel = t || s('Widget toolbar')),
            this._toolbarDefinitions.has(e))
          )
            throw new f('widget-toolbar-duplicated', this, {toolbarId: e});
          const l = {
            view: a,
            getRelatedElement: n,
            balloonClassName: o,
            itemsConfig: i,
            initialized: !1,
          };
          r.ui.addToolbar(a, {
            isContextual: !0,
            beforeFocus: () => {
              const e = n(r.editing.view.document.selection);
              e && this._showToolbar(l, e);
            },
            afterBlur: () => {
              this._hideToolbar(l);
            },
          }),
            this._toolbarDefinitions.set(e, l);
        }
        _updateToolbarsVisibility() {
          let e = 0,
            t = null,
            i = null;
          for (const n of this._toolbarDefinitions.values()) {
            const o = n.getRelatedElement(
              this.editor.editing.view.document.selection
            );
            if (this.isEnabled && o)
              if (this.editor.ui.focusTracker.isFocused) {
                const r = o.getAncestors().length;
                r > e && ((e = r), (t = o), (i = n));
              } else this._isToolbarVisible(n) && this._hideToolbar(n);
            else this._isToolbarInBalloon(n) && this._hideToolbar(n);
          }
          i && this._showToolbar(i, t);
        }
        _hideToolbar(e) {
          this._balloon.remove(e.view),
            this.stopListening(this._balloon, 'change:visibleView');
        }
        _showToolbar(e, t) {
          this._isToolbarVisible(e)
            ? rg(this.editor, t)
            : this._isToolbarInBalloon(e) ||
              (e.initialized ||
                ((e.initialized = !0),
                e.view.fillFromConfig(
                  e.itemsConfig,
                  this.editor.ui.componentFactory
                )),
              this._balloon.add({
                view: e.view,
                position: sg(this.editor, t),
                balloonClassName: e.balloonClassName,
              }),
              this.listenTo(this._balloon, 'change:visibleView', () => {
                for (const e of this._toolbarDefinitions.values())
                  if (this._isToolbarVisible(e)) {
                    const t = e.getRelatedElement(
                      this.editor.editing.view.document.selection
                    );
                    rg(this.editor, t);
                  }
              }));
        }
        _isToolbarVisible(e) {
          return this._balloon.visibleView === e.view;
        }
        _isToolbarInBalloon(e) {
          return this._balloon.hasView(e.view);
        }
      }
      function rg(e, t) {
        const i = e.plugins.get('ContextualBalloon'),
          n = sg(e, t);
        i.updatePosition(n);
      }
      function sg(e, t) {
        const i = e.editing.view,
          n = Gu.defaultPositions;
        return {
          target: i.domConverter.mapViewToDom(t),
          positions: [
            n.northArrowSouth,
            n.northArrowSouthWest,
            n.northArrowSouthEast,
            n.southArrowNorth,
            n.southArrowNorthWest,
            n.southArrowNorthEast,
            n.viewportStickyNorth,
          ],
        };
      }
      class ag extends z() {
        constructor(e) {
          super(),
            this.set('activeHandlePosition', null),
            this.set('proposedWidthPercents', null),
            this.set('proposedWidth', null),
            this.set('proposedHeight', null),
            this.set('proposedHandleHostWidth', null),
            this.set('proposedHandleHostHeight', null),
            (this._options = e),
            (this._referenceCoordinates = null);
        }
        get originalWidth() {
          return this._originalWidth;
        }
        get originalHeight() {
          return this._originalHeight;
        }
        get originalWidthPercents() {
          return this._originalWidthPercents;
        }
        get aspectRatio() {
          return this._aspectRatio;
        }
        begin(e, t, i) {
          const n = new Rect(t);
          (this.activeHandlePosition = (function (e) {
            const t = ['top-left', 'top-right', 'bottom-right', 'bottom-left'];
            for (const i of t)
              if (e.classList.contains(getResizerHandleClass(i))) return i;
          })(e)),
            (this._referenceCoordinates = (function (e, t) {
              const i = new Rect(e),
                n = t.split('-'),
                o = {
                  x: 'right' == n[1] ? i.right : i.left,
                  y: 'bottom' == n[0] ? i.bottom : i.top,
                };
              return (
                (o.x += e.ownerDocument.defaultView.scrollX),
                (o.y += e.ownerDocument.defaultView.scrollY),
                o
              );
            })(
              t,
              (function (e) {
                const t = e.split('-'),
                  i = {
                    top: 'bottom',
                    bottom: 'top',
                    left: 'right',
                    right: 'left',
                  };
                return `${i[t[0]]}-${i[t[1]]}`;
              })(this.activeHandlePosition)
            )),
            (this._originalWidth = n.width),
            (this._originalHeight = n.height),
            (this._aspectRatio = n.width / n.height);
          const o = i.style.width;
          o && o.match(/^\d+(\.\d*)?%$/)
            ? (this._originalWidthPercents = parseFloat(o))
            : (this._originalWidthPercents = (function (e, t) {
                const i = e.parentElement;
                let n = parseFloat(
                  i.ownerDocument.defaultView.getComputedStyle(i).width
                );
                let o = 0,
                  r = i;
                for (; isNaN(n); ) {
                  if ((r.parentElement, ++o > 5)) return 0;
                  parseFloat(
                    i.ownerDocument.defaultView.getComputedStyle(r).width
                  );
                }
                return (t.width / n) * 100;
              })(i, n));
        }
        update(e) {
          (this.proposedWidth = e.width),
            (this.proposedHeight = e.height),
            (this.proposedWidthPercents = e.widthPercents),
            (this.proposedHandleHostWidth = e.handleHostWidth),
            (this.proposedHandleHostHeight = e.handleHostHeight);
        }
      }
      class lg extends z() {
        constructor(e) {
          super(),
            (this._viewResizerWrapper = null),
            (this._options = e),
            this.set('isEnabled', !0),
            this.set('isSelected', !1),
            this.bind('isVisible').to(
              this,
              'isEnabled',
              this,
              'isSelected',
              (e, t) => e && t
            ),
            this.decorate('begin'),
            this.decorate('cancel'),
            this.decorate('commit'),
            this.decorate('updateSize'),
            this.on(
              'commit',
              (e) => {
                this.state.proposedWidth ||
                  this.state.proposedWidthPercents ||
                  (this._cleanup(), e.stop());
              },
              {priority: 'high'}
            );
        }
        get state() {
          return this._state;
        }
        show() {
          this._options.editor.editing.view.change((e) => {
            e.removeClass('ck-hidden', this._viewResizerWrapper);
          });
        }
        hide() {
          this._options.editor.editing.view.change((e) => {
            e.addClass('ck-hidden', this._viewResizerWrapper);
          });
        }
        attach() {
          const e = this,
            t = this._options.viewElement;
          this._options.editor.editing.view.change((i) => {
            const n = i.createUIElement(
              'div',
              {class: 'ck ck-reset_all ck-widget__resizer'},
              function (t) {
                const i = this.toDomElement(t);
                return e._appendHandles(i), e._appendSizeUI(i), i;
              }
            );
            i.insert(i.createPositionAt(t, 'end'), n),
              i.addClass('ck-widget_with-resizer', t),
              (this._viewResizerWrapper = n),
              this.isVisible || this.hide();
          }),
            this.on('change:isVisible', () => {
              this.isVisible ? (this.show(), this.redraw()) : this.hide();
            });
        }
        begin(e) {
          (this._state = new ResizeState(this._options)),
            this._sizeView._bindToState(this._options, this.state),
            (this._initialViewWidth =
              this._options.viewElement.getStyle('width')),
            this.state.begin(e, this._getHandleHost(), this._getResizeHost());
        }
        updateSize(e) {
          const t = this._proposeNewSize(e);
          this._options.editor.editing.view.change((e) => {
            const i = this._options.unit || '%',
              n = ('%' === i ? t.widthPercents : t.width) + i;
            e.setStyle('width', n, this._options.viewElement);
          });
          const i = this._getHandleHost(),
            n = new Rect(i),
            o = Math.round(n.width),
            r = Math.round(n.height),
            s = new Rect(i);
          (t.width = Math.round(s.width)),
            (t.height = Math.round(s.height)),
            this.redraw(n),
            this.state.update({...t, handleHostWidth: o, handleHostHeight: r});
        }
        commit() {
          const e = this._options.unit || '%',
            t =
              ('%' === e
                ? this.state.proposedWidthPercents
                : this.state.proposedWidth) + e;
          this._options.editor.editing.view.change(() => {
            this._cleanup(), this._options.onCommit(t);
          });
        }
        cancel() {
          this._cleanup();
        }
        destroy() {
          this.cancel();
        }
        redraw(e) {
          const t = this._domResizerWrapper;
          if (!(t && i.ownerDocument && i.ownerDocument.contains(i))) return;
          var i;
          const n = t.parentElement,
            o = this._getHandleHost(),
            r = this._viewResizerWrapper,
            s = [
              r.getStyle('width'),
              r.getStyle('height'),
              r.getStyle('left'),
              r.getStyle('top'),
            ];
          let a;
          if (n.isSameNode(o)) {
            const t = e || new Rect(o);
            t.width, t.height;
          } else o.offsetWidth, o.offsetHeight, o.offsetLeft, o.offsetTop;
          'same' !== compareArrays(s, a) &&
            this._options.editor.editing.view.change((e) => {
              e.setStyle({width: a[0], height: a[1], left: a[2], top: a[3]}, r);
            });
        }
        containsHandle(e) {
          return this._domResizerWrapper.contains(e);
        }
        static isResizeHandle(e) {
          return e.classList.contains('ck-widget__resizer__handle');
        }
        _cleanup() {
          this._sizeView._dismiss(),
            this._options.editor.editing.view.change((e) => {
              e.setStyle(
                'width',
                this._initialViewWidth,
                this._options.viewElement
              );
            });
        }
        _proposeNewSize(e) {
          const t = this.state,
            i = e.pageX,
            n = undefined.pageY;
          const o = !this._options.isCentered || this._options.isCentered(this),
            r = {
              x: t._referenceCoordinates.x - (i + t.originalWidth),
              y: n - t.originalHeight - t._referenceCoordinates.y,
            };
          o &&
            t.activeHandlePosition.endsWith('-right') &&
            (r.x = i - (t._referenceCoordinates.x + t.originalWidth)),
            o && (r.x *= 2);
          let s = Math.abs(t.originalWidth + r.x),
            a = Math.abs(t.originalHeight + r.y);
          return (
            'width' == (s / t.aspectRatio > a ? 'width' : 'height')
              ? t.aspectRatio
              : t.aspectRatio,
            {
              width: Math.round(s),
              height: Math.round(a),
              widthPercents: Math.min(
                Math.round(
                  (t.originalWidthPercents / t.originalWidth) * s * 100
                ) / 100,
                100
              ),
            }
          );
        }
        _getResizeHost() {
          const e = this._domResizerWrapper.parentElement;
          return this._options.getResizeHost(e);
        }
        _getHandleHost() {
          const e = this._domResizerWrapper.parentElement;
          return this._options.getHandleHost(e);
        }
        get _domResizerWrapper() {
          return this._options.editor.editing.view.domConverter.mapViewToDom(
            this._viewResizerWrapper
          );
        }
        _appendHandles(e) {
          const t = ['top-left', 'top-right', 'bottom-right', 'bottom-left'];
          for (const i of t)
            e.appendChild(
              new Template({
                tag: 'div',
                attributes: {
                  class:
                    'ck-widget__resizer__handle ck-widget__resizer__handle-undefined',
                },
              }).render()
            );
        }
        _appendSizeUI(e) {
          (this._sizeView = new SizeView()),
            this._sizeView.render(),
            e.appendChild(this._sizeView.element);
        }
      }
      var cg = i(8893),
        dg = {attributes: {'data-cke': !0}};
      (dg.setAttributes = Qn()),
        (dg.insert = Yn().bind(null, 'head')),
        (dg.domAPI = qn()),
        (dg.insertStyleElement = Xn()),
        Zn()(cg.Z, dg),
        cg.Z && cg.Z.locals && cg.Z.locals;
      var ug = function (e, t, i) {
          var n = !0,
            o = !0;
          if ('function' != typeof e)
            throw new TypeError('Expected a function');
          return (
            M(i) &&
              ((n = 'leading' in i ? !!i.leading : n),
              (o = 'trailing' in i ? !!i.trailing : o)),
            Is(e, t, {leading: n, maxWait: t, trailing: o})
          );
        },
        hg = i(2326),
        mg = {attributes: {'data-cke': !0}};
      (mg.setAttributes = Qn()),
        (mg.insert = Yn().bind(null, 'head')),
        (mg.domAPI = qn()),
        (mg.insertStyleElement = Xn()),
        Zn()(hg.Z, mg),
        hg.Z && hg.Z.locals && hg.Z.locals;
      class gg extends Vn {
        static get pluginName() {
          return 'DragDrop';
        }
        static get requires() {
          return [qh, ng];
        }
        init() {
          const e = this.editor,
            t = e.editing.view;
          (this._draggedRange = null),
            (this._draggingUid = ''),
            (this._draggableElement = null),
            (this._updateDropMarkerThrottled = ug(
              (e) => this._updateDropMarker(e),
              40
            )),
            (this._removeDropMarkerDelayed = bg(
              () => this._removeDropMarker(),
              40
            )),
            (this._clearDraggableAttributesDelayed = bg(
              () => this._clearDraggableAttributes(),
              40
            )),
            t.addObserver(Uh),
            t.addObserver(id),
            this._setupDragging(),
            this._setupContentInsertionIntegration(),
            this._setupClipboardInputIntegration(),
            this._setupDropMarker(),
            this._setupDraggableAttributeHandling(),
            this.listenTo(e, 'change:isReadOnly', (e, t, i) => {
              i
                ? this.forceDisabled('readOnlyMode')
                : this.clearForceDisabled('readOnlyMode');
            }),
            this.on('change:isEnabled', (e, t, i) => {
              i || this._finalizeDragging(!1);
            }),
            n.isAndroid && this.forceDisabled('noAndroidSupport');
        }
        destroy() {
          return (
            this._draggedRange &&
              (this._draggedRange.detach(), (this._draggedRange = null)),
            this._updateDropMarkerThrottled.cancel(),
            this._removeDropMarkerDelayed.cancel(),
            this._clearDraggableAttributesDelayed.cancel(),
            super.destroy()
          );
        }
        _setupDragging() {
          const e = this.editor,
            t = e.model,
            i = t.document,
            o = e.editing.view,
            r = o.document;
          this.listenTo(
            r,
            'dragstart',
            (n, o) => {
              const s = i.selection;
              if (o.target && o.target.is('editableElement'))
                return void o.preventDefault();
              const a = o.target ? kg(o.target) : null;
              if (a) {
                const i = e.editing.mapper.toModelElement(a);
                (this._draggedRange = Ma.fromRange(t.createRangeOn(i))),
                  e.plugins.has('WidgetToolbarRepository') &&
                    e.plugins
                      .get('WidgetToolbarRepository')
                      .forceDisabled('dragDrop');
              } else if (!r.selection.isCollapsed) {
                const e = r.selection.getSelectedElement();
                (e && Vm(e)) ||
                  (this._draggedRange = Ma.fromRange(s.getFirstRange()));
              }
              if (!this._draggedRange) return void o.preventDefault();
              (this._draggingUid = u()),
                (o.dataTransfer.effectAllowed = this.isEnabled
                  ? 'copyMove'
                  : 'copy'),
                o.dataTransfer.setData(
                  'application/ckeditor5-dragging-uid',
                  this._draggingUid
                );
              const l = t.createSelection(this._draggedRange.toRange()),
                c = e.data.toView(t.getSelectedContent(l));
              r.fire('clipboardOutput', {
                dataTransfer: o.dataTransfer,
                content: c,
                method: 'dragstart',
              }),
                this.isEnabled ||
                  (this._draggedRange.detach(),
                  (this._draggedRange = null),
                  (this._draggingUid = ''));
            },
            {priority: 'low'}
          ),
            this.listenTo(
              r,
              'dragend',
              (e, t) => {
                this._finalizeDragging(
                  !t.dataTransfer.isCanceled &&
                    'move' == t.dataTransfer.dropEffect
                );
              },
              {priority: 'low'}
            ),
            this.listenTo(r, 'dragenter', () => {
              this.isEnabled && o.focus();
            }),
            this.listenTo(r, 'dragleave', () => {
              this._removeDropMarkerDelayed();
            }),
            this.listenTo(
              r,
              'dragging',
              (t, i) => {
                if (!this.isEnabled)
                  return void (i.dataTransfer.dropEffect = 'none');
                this._removeDropMarkerDelayed.cancel();
                const o = fg(e, i.targetRanges, i.target);
                this._draggedRange || (i.dataTransfer.dropEffect = 'copy'),
                  n.isGecko ||
                    ('copy' == i.dataTransfer.effectAllowed
                      ? (i.dataTransfer.dropEffect = 'copy')
                      : ['all', 'copyMove'].includes(
                          i.dataTransfer.effectAllowed
                        ) && (i.dataTransfer.dropEffect = 'move')),
                  o && this._updateDropMarkerThrottled(o);
              },
              {priority: 'low'}
            );
        }
        _setupClipboardInputIntegration() {
          const e = this.editor,
            t = e.editing.view.document;
          this.listenTo(
            t,
            'clipboardInput',
            (t, i) => {
              if ('drop' != i.method) return;
              const n = fg(e, i.targetRanges, i.target);
              return (
                this._removeDropMarker(),
                n
                  ? (this._draggedRange &&
                      this._draggingUid !=
                        i.dataTransfer.getData(
                          'application/ckeditor5-dragging-uid'
                        ) &&
                      (this._draggedRange.detach(),
                      (this._draggedRange = null),
                      (this._draggingUid = '')),
                    'move' == pg(i.dataTransfer) &&
                    this._draggedRange &&
                    this._draggedRange.containsRange(n, !0)
                      ? (this._finalizeDragging(!1), void t.stop())
                      : void (i.targetRanges = [
                          e.editing.mapper.toViewRange(n),
                        ]))
                  : (this._finalizeDragging(!1), void t.stop())
              );
            },
            {priority: 'high'}
          );
        }
        _setupContentInsertionIntegration() {
          const e = this.editor.plugins.get(qh);
          e.on(
            'contentInsertion',
            (e, t) => {
              if (!this.isEnabled || 'drop' !== t.method) return;
              const i = t.targetRanges.map((e) =>
                this.editor.editing.mapper.toModelRange(e)
              );
              this.editor.model.change((e) => e.setSelection(i));
            },
            {priority: 'high'}
          ),
            e.on(
              'contentInsertion',
              (e, t) => {
                if (!this.isEnabled || 'drop' !== t.method) return;
                const i = 'move' == pg(t.dataTransfer),
                  n = !t.resultRange || !t.resultRange.isCollapsed;
                this._finalizeDragging(n && i);
              },
              {priority: 'lowest'}
            );
        }
        _setupDraggableAttributeHandling() {
          const e = this.editor,
            t = e.editing.view,
            i = t.document;
          this.listenTo(i, 'mousedown', (o, r) => {
            if (n.isAndroid || !r) return;
            this._clearDraggableAttributesDelayed.cancel();
            let s = kg(r.target);
            if (n.isBlink && !e.isReadOnly && !s && !i.selection.isCollapsed) {
              const e = i.selection.getSelectedElement();
              (e && Vm(e)) || (s = i.selection.editableElement);
            }
            s &&
              (t.change((e) => {
                e.setAttribute('draggable', 'true', s);
              }),
              (this._draggableElement = e.editing.mapper.toModelElement(s)));
          }),
            this.listenTo(i, 'mouseup', () => {
              n.isAndroid || this._clearDraggableAttributesDelayed();
            });
        }
        _clearDraggableAttributes() {
          const e = this.editor.editing;
          e.view.change((t) => {
            this._draggableElement &&
              '$graveyard' != this._draggableElement.root.rootName &&
              t.removeAttribute(
                'draggable',
                e.mapper.toViewElement(this._draggableElement)
              ),
              (this._draggableElement = null);
          });
        }
        _setupDropMarker() {
          const e = this.editor;
          e.conversion.for('editingDowncast').markerToHighlight({
            model: 'drop-target',
            view: {classes: ['ck-clipboard-drop-target-range']},
          }),
            e.conversion.for('editingDowncast').markerToElement({
              model: 'drop-target',
              view: (t, {writer: i}) => {
                if (e.model.schema.checkChild(t.markerRange.start, '$text'))
                  return i.createUIElement(
                    'span',
                    {class: 'ck ck-clipboard-drop-target-position'},
                    function (e) {
                      const t = this.toDomElement(e);
                      return t.append('⁠', e.createElement('span'), '⁠'), t;
                    }
                  );
              },
            });
        }
        _updateDropMarker(e) {
          const t = this.editor,
            i = t.model.markers;
          t.model.change((t) => {
            i.has('drop-target')
              ? i.get('drop-target').getRange().isEqual(e) ||
                t.updateMarker('drop-target', {range: e})
              : t.addMarker('drop-target', {
                  range: e,
                  usingOperation: !1,
                  affectsData: !1,
                });
          });
        }
        _removeDropMarker() {
          const e = this.editor.model;
          this._removeDropMarkerDelayed.cancel(),
            this._updateDropMarkerThrottled.cancel(),
            e.markers.has('drop-target') &&
              e.change((e) => {
                e.removeMarker('drop-target');
              });
        }
        _finalizeDragging(e) {
          const t = this.editor,
            i = t.model;
          this._removeDropMarker(),
            this._clearDraggableAttributes(),
            t.plugins.has('WidgetToolbarRepository') &&
              t.plugins
                .get('WidgetToolbarRepository')
                .clearForceDisabled('dragDrop'),
            (this._draggingUid = ''),
            this._draggedRange &&
              (e &&
                this.isEnabled &&
                i.deleteContent(i.createSelection(this._draggedRange), {
                  doNotAutoparagraph: !0,
                }),
              this._draggedRange.detach(),
              (this._draggedRange = null));
        }
      }
      function fg(e, t, i) {
        const o = e.model,
          r = e.editing.mapper;
        let s = null;
        const a = t ? t[0].start : null;
        if (
          (i.is('uiElement') && (i = i.parent),
          (s = (function (e, t) {
            const i = e.model,
              n = e.editing.mapper;
            if (Vm(t)) return i.createRangeOn(n.toModelElement(t));
            if (!t.is('editableElement')) {
              const e = t.findAncestor((e) => Vm(e) || e.is('editableElement'));
              if (Vm(e)) return i.createRangeOn(n.toModelElement(e));
            }
            return null;
          })(e, i)),
          s)
        )
          return s;
        const l = (function (e, t) {
            const i = e.editing.mapper,
              n = e.editing.view,
              o = i.toModelElement(t);
            if (o) return o;
            const r = n.createPositionBefore(t),
              s = i.findMappedViewAncestor(r);
            return i.toModelElement(s);
          })(e, i),
          c = a ? r.toModelPosition(a) : null;
        return c
          ? ((s = (function (e, t, i) {
              const n = e.model;
              if (!n.schema.checkChild(i, '$block')) return null;
              const o = n.createPositionAt(i, 0),
                r = t.path.slice(0, o.path.length),
                s = n.createPositionFromPath(t.root, r).nodeAfter;
              return s && n.schema.isObject(s) ? n.createRangeOn(s) : null;
            })(e, c, l)),
            s ||
              ((s = o.schema.getNearestSelectionRange(
                c,
                n.isGecko ? 'forward' : 'backward'
              )),
              s ||
                (function (e, t) {
                  const i = e.model;
                  let n = t;
                  for (; n; ) {
                    if (i.schema.isObject(n)) return i.createRangeOn(n);
                    n = n.parent;
                  }
                  return null;
                })(e, c.parent)))
          : (function (e, t) {
              const i = e.model,
                n = i.schema,
                o = i.createPositionAt(t, 0);
              return n.getNearestSelectionRange(o, 'forward');
            })(e, l);
      }
      function pg(e) {
        return n.isGecko
          ? e.dropEffect
          : ['all', 'copyMove'].includes(e.effectAllowed)
          ? 'move'
          : 'copy';
      }
      function bg(e, t) {
        let i;
        function n(...o) {
          n.cancel(), (i = setTimeout(() => e(...o), t));
        }
        return (
          (n.cancel = () => {
            clearTimeout(i);
          }),
          n
        );
      }
      function kg(e) {
        if (e.is('editableElement')) return null;
        if (e.hasClass('ck-widget__selection-handle'))
          return e.findAncestor(Vm);
        if (Vm(e)) return e;
        const t = e.findAncestor((e) => Vm(e) || e.is('editableElement'));
        return Vm(t) ? t : null;
      }
      class wg extends Vn {
        static get pluginName() {
          return 'PastePlainText';
        }
        static get requires() {
          return [qh];
        }
        init() {
          const e = this.editor,
            t = e.model,
            i = e.editing.view,
            n = i.document,
            o = t.document.selection;
          let r = !1;
          i.addObserver(Uh),
            this.listenTo(n, 'keydown', (e, t) => {
              r = t.shiftKey;
            }),
            e.plugins.get(qh).on('contentInsertion', (e, i) => {
              (r ||
                (function (e, t) {
                  if (e.childCount > 1) return !1;
                  const i = e.getChild(0);
                  return (
                    !t.isObject(i) &&
                    0 == Array.from(i.getAttributeKeys()).length
                  );
                })(i.content, t.schema)) &&
                t.change((e) => {
                  const n = Array.from(o.getAttributes()).filter(
                    ([e]) => t.schema.getAttributeProperties(e).isFormatting
                  );
                  o.isCollapsed || t.deleteContent(o, {doNotAutoparagraph: !0}),
                    n.push(...o.getAttributes());
                  const r = e.createRangeIn(i.content);
                  for (const t of r.getItems())
                    t.is('$textProxy') && e.setAttributes(n, t);
                });
            });
        }
      }
      class _g extends Vn {
        static get pluginName() {
          return 'Clipboard';
        }
        static get requires() {
          return [qh, gg, wg];
        }
      }
      class vg extends zn {
        constructor(e) {
          super(e),
            (this._stack = []),
            (this._createdBatches = new WeakSet()),
            this.refresh(),
            this.listenTo(
              e.data,
              'set',
              (e, t) => {
                t[1] = {...t[1]};
                const i = t[1];
                i.batchType || (i.batchType = {isUndoable: !1});
              },
              {priority: 'high'}
            ),
            this.listenTo(e.data, 'set', (e, t) => {
              t[1].batchType.isUndoable || this.clearStack();
            });
        }
        refresh() {
          this.isEnabled = this._stack.length > 0;
        }
        get createdBatches() {
          return this._createdBatches;
        }
        addBatch(e) {
          const t = this.editor.model.document.selection,
            i = {
              ranges: t.hasOwnRange ? Array.from(t.getRanges()) : [],
              isBackward: t.isBackward,
            };
          this._stack.push({batch: e, selection: i}), this.refresh();
        }
        clearStack() {
          (this._stack = []), this.refresh();
        }
        _restoreSelection(e, t, i) {
          const n = this.editor.model,
            o = n.document,
            r = [],
            s = e.map((e) => e.getTransformedByOperations(i)),
            a = s.flat();
          for (const e of s) {
            const t = e
              .filter((e) => e.root != o.graveyard)
              .filter((e) => !xg(e, a));
            t.length && (yg(t), r.push(t[0]));
          }
          r.length &&
            n.change((e) => {
              e.setSelection(r, {backward: t});
            });
        }
        _undo(e, t) {
          const i = this.editor.model,
            n = i.document;
          this._createdBatches.add(t);
          const o = e.operations.slice().filter((e) => e.isDocumentOperation);
          o.reverse();
          for (const e of o) {
            const o = e.baseVersion + 1,
              r = Array.from(n.history.getOperations(o)),
              s = sc([e.getReversed()], r, {
                useRelations: !0,
                document: this.editor.model.document,
                padWithNoOps: !1,
                forceWeakRemove: !0,
              }).operationsA;
            for (const o of s)
              t.addOperation(o),
                i.applyOperation(o),
                n.history.setOperationAsUndone(e, o);
          }
        }
      }
      function yg(e) {
        e.sort((e, t) => (e.start.isBefore(t.start) ? -1 : 1));
        for (let t = 1; t < e.length; t++) {
          const i = e[t - 1].getJoined(e[t], !0);
          i && (t--, e.splice(t, 2, i));
        }
      }
      function xg(e, t) {
        return t.some((t) => t !== e && t.containsRange(e, !0));
      }
      class Ag extends vg {
        execute(e = null) {
          const t = e
              ? this._stack.findIndex((t) => t.batch == e)
              : this._stack.length - 1,
            i = this._stack.splice(t, 1)[0],
            n = this.editor.model.createBatch({isUndo: !0});
          this.editor.model.enqueueChange(n, () => {
            this._undo(i.batch, n);
            const e = this.editor.model.document.history.getOperations(
              i.batch.baseVersion
            );
            this._restoreSelection(
              i.selection.ranges,
              i.selection.isBackward,
              e
            ),
              this.fire('revert', i.batch, n);
          }),
            this.refresh();
        }
      }
      class Cg extends vg {
        execute() {
          const e = this._stack.pop(),
            t = this.editor.model.createBatch({isUndo: !0});
          this.editor.model.enqueueChange(t, () => {
            const i =
                e.batch.operations[e.batch.operations.length - 1].baseVersion +
                1,
              n = this.editor.model.document.history.getOperations(i);
            this._restoreSelection(
              e.selection.ranges,
              e.selection.isBackward,
              n
            ),
              this._undo(e.batch, t);
          }),
            this.refresh();
        }
      }
      class Eg extends Vn {
        constructor() {
          super(...arguments), (this._batchRegistry = new WeakSet());
        }
        static get pluginName() {
          return 'UndoEditing';
        }
        init() {
          const e = this.editor;
          (this._undoCommand = new Ag(e)),
            (this._redoCommand = new Cg(e)),
            e.commands.add('undo', this._undoCommand),
            e.commands.add('redo', this._redoCommand),
            this.listenTo(
              e.model,
              'applyOperation',
              (e, t) => {
                const i = t[0];
                if (!i.isDocumentOperation) return;
                const n = i.batch,
                  o = this._redoCommand.createdBatches.has(n),
                  r = this._undoCommand.createdBatches.has(n);
                this._batchRegistry.has(n) ||
                  (this._batchRegistry.add(n),
                  n.isUndoable &&
                    (o
                      ? this._undoCommand.addBatch(n)
                      : r ||
                        (this._undoCommand.addBatch(n),
                        this._redoCommand.clearStack())));
              },
              {priority: 'highest'}
            ),
            this.listenTo(this._undoCommand, 'revert', (e, t, i) => {
              this._redoCommand.addBatch(i);
            }),
            e.keystrokes.set('CTRL+Z', 'undo'),
            e.keystrokes.set('CTRL+Y', 'redo'),
            e.keystrokes.set('CTRL+SHIFT+Z', 'redo');
        }
      }
      var Tg =
          'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z\\"/></svg>";',
        Sg =
          'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z\\"/></svg>";';
      class Ig extends Vn {
        static get pluginName() {
          return 'UndoUI';
        }
        init() {
          const e = this.editor,
            t = e.locale,
            i = e.t,
            n = 'ltr' == t.uiLanguageDirection ? Tg : Sg,
            o = 'ltr' == t.uiLanguageDirection ? Sg : Tg;
          this._addButton('undo', i('Undo'), 'CTRL+Z', n),
            this._addButton('redo', i('Redo'), 'CTRL+Y', o);
        }
        _addButton(e, t, i, n) {
          const o = this.editor;
          o.ui.componentFactory.add(e, (r) => {
            const s = o.commands.get(e),
              a = new Xd(r);
            return (
              a.set({label: t, icon: n, keystroke: i, tooltip: !0}),
              a.bind('isEnabled').to(s, 'isEnabled'),
              this.listenTo(a, 'execute', () => {
                o.execute(e), o.editing.view.focus();
              }),
              a
            );
          });
        }
      }
      class Pg extends Vn {
        static get requires() {
          return [Eg, Ig];
        }
        static get pluginName() {
          return 'Undo';
        }
      }
      function Mg(e) {
        return e.createContainerElement('figure', {class: 'image'}, [
          e.createEmptyElement('img'),
          e.createSlot('children'),
        ]);
      }
      function Rg(e, t) {
        const i = e.plugins.get('ImageUtils'),
          n =
            e.plugins.has('ImageInlineEditing') &&
            e.plugins.has('ImageBlockEditing');
        return (e) =>
          i.isInlineImageView(e)
            ? n &&
              ('block' == e.getStyle('display') ||
              e.findAncestor(i.isBlockImageView)
                ? 'imageBlock'
                : 'imageInline') !== t
              ? null
              : o(e)
            : null;
        function o(e) {
          const t = {name: !0};
          return e.hasAttribute('src') && (t.attributes = ['src']), t;
        }
      }
      function Ng(e, t) {
        const i = Sn(t.getSelectedBlocks());
        return !i || e.isObject(i) || (i.isEmpty && 'listItem' != i.name)
          ? 'imageBlock'
          : 'imageInline';
      }
      class Og extends Vn {
        static get pluginName() {
          return 'ImageUtils';
        }
        isImage(e) {
          return this.isInlineImage(e) || this.isBlockImage(e);
        }
        isInlineImageView(e) {
          return !!e && e.is('element', 'img');
        }
        isBlockImageView(e) {
          return !!e && e.is('element', 'figure') && e.hasClass('image');
        }
        insertImage(e = {}, t = null, i = null) {
          const n = this.editor,
            o = n.model,
            r = o.document.selection;
          (i = Dg(n, t || r, i)),
            (e = {...Object.fromEntries(r.getAttributes()), ...e});
          for (const t in e) o.schema.checkAttribute(i, t) || delete e[t];
          return o.change((n) => {
            const r = n.createElement(i, e);
            return (
              o.insertObject(r, t, null, {
                setSelection: 'on',
                findOptimalPosition: t || 'imageInline' == i ? void 0 : 'auto',
              }),
              r.parent ? r : null
            );
          });
        }
        getClosestSelectedImageWidget(e) {
          const t = e.getFirstPosition();
          if (!t) return null;
          const i = e.getSelectedElement();
          if (i && this.isImageWidget(i)) return i;
          let n = t.parent;
          for (; n; ) {
            if (n.is('element') && this.isImageWidget(n)) return n;
            n = n.parent;
          }
          return null;
        }
        getClosestSelectedImageElement(e) {
          const t = e.getSelectedElement();
          return this.isImage(t)
            ? t
            : e.getFirstPosition().findAncestor('imageBlock');
        }
        isImageAllowed() {
          const e = this.editor.model.document.selection;
          return (
            (function (e, t) {
              if ('imageBlock' == Dg(e, t, null)) {
                const i = (function (e, t) {
                  const i = Hm(e, t).start.parent;
                  return i.isEmpty && !i.is('element', '$root') ? i.parent : i;
                })(t, e.model);
                if (e.model.schema.checkChild(i, 'imageBlock')) return !0;
              } else if (e.model.schema.checkChild(t.focus, 'imageInline'))
                return !0;
              return !1;
            })(this.editor, e) &&
            (function (e) {
              return [...e.focus.getAncestors()].every(
                (e) => !e.is('element', 'imageBlock')
              );
            })(e)
          );
        }
        toImageWidget(e, t, i) {
          return (
            t.setCustomProperty('image', !0, e),
            Lm(e, t, {
              label: () => {
                const t = this.findViewImgElement(e).getAttribute('alt');
                return t ? `${t} ${i}` : i;
              },
            })
          );
        }
        isImageWidget(e) {
          return !!e.getCustomProperty('image') && Vm(e);
        }
        isBlockImage(e) {
          return !!e && e.is('element', 'imageBlock');
        }
        isInlineImage(e) {
          return !!e && e.is('element', 'imageInline');
        }
        findViewImgElement(e) {
          if (this.isInlineImageView(e)) return e;
          const t = this.editor.editing.view;
          for (const {item: i} of t.createRangeIn(e))
            if (this.isInlineImageView(i)) return i;
        }
      }
      function Dg(e, t, i) {
        const n = e.model.schema,
          o = e.config.get('image.insert.type');
        return e.plugins.has('ImageBlockEditing')
          ? e.plugins.has('ImageInlineEditing')
            ? i ||
              ('inline' === o
                ? 'imageInline'
                : 'block' === o
                ? 'imageBlock'
                : t.is('selection')
                ? Ng(n, t)
                : n.checkChild(t, 'imageInline')
                ? 'imageInline'
                : 'imageBlock')
            : 'imageBlock'
          : 'imageInline';
      }
      const Vg = new RegExp(
        String(
          /^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source +
            /\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source +
            /(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source +
            /(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source
        )
      );
      class Lg extends Vn {
        static get requires() {
          return [_g, Og, Pg, am];
        }
        static get pluginName() {
          return 'AutoImage';
        }
        constructor(e) {
          super(e), (this._timeoutId = null), (this._positionToInsert = null);
        }
        init() {
          const e = this.editor,
            t = e.model.document,
            i = e.plugins.get('ClipboardPipeline');
          this.listenTo(i, 'inputTransformation', () => {
            const e = t.selection.getFirstRange(),
              i = mc.fromPosition(e.start);
            i.stickiness = 'toPrevious';
            const n = mc.fromPosition(e.end);
            (n.stickiness = 'toNext'),
              t.once(
                'change:data',
                () => {
                  this._embedImageBetweenPositions(i, n),
                    i.detach(),
                    n.detach();
                },
                {priority: 'high'}
              );
          }),
            e.commands.get('undo').on(
              'execute',
              () => {
                this._timeoutId &&
                  (zi.window.clearTimeout(this._timeoutId),
                  this._positionToInsert.detach(),
                  (this._timeoutId = null),
                  (this._positionToInsert = null));
              },
              {priority: 'high'}
            );
        }
        _embedImageBetweenPositions(e, t) {
          const i = this.editor,
            n = new Ma(e, t),
            o = n.getWalker({ignoreElementEnd: !0}),
            r = Object.fromEntries(i.model.document.selection.getAttributes()),
            s = this.editor.plugins.get('ImageUtils');
          let a = '';
          for (const e of o) e.item.is('$textProxy') && (a += e.item.data);
          (a = a.trim()),
            a.match(Vg)
              ? ((this._positionToInsert = mc.fromPosition(e)),
                (this._timeoutId = setTimeout(() => {
                  i.commands.get('insertImage').isEnabled
                    ? (i.model.change((e) => {
                        let t;
                        (this._timeoutId = null),
                          e.remove(n),
                          n.detach(),
                          '$graveyard' !==
                            this._positionToInsert.root.rootName &&
                            (t = this._positionToInsert.toPosition()),
                          s.insertImage({...r, src: a}, t),
                          this._positionToInsert.detach(),
                          (this._positionToInsert = null);
                      }),
                      i.plugins.get('Delete').requestUndoOnBackspace())
                    : n.detach();
                }, 100)))
              : n.detach();
        }
      }
      class zg extends zn {
        refresh() {
          const e = this.editor.plugins
            .get('ImageUtils')
            .getClosestSelectedImageElement(
              this.editor.model.document.selection
            );
          (this.isEnabled = !!e),
            this.isEnabled && e.hasAttribute('alt')
              ? (this.value = e.getAttribute('alt'))
              : (this.value = !1);
        }
        execute(e) {
          const t = this.editor,
            i = t.plugins.get('ImageUtils'),
            n = t.model,
            o = i.getClosestSelectedImageElement(n.document.selection);
          n.change((t) => {
            t.setAttribute('alt', e.newValue, o);
          });
        }
      }
      class Bg extends Vn {
        static get requires() {
          return [Og];
        }
        static get pluginName() {
          return 'ImageTextAlternativeEditing';
        }
        init() {
          this.editor.commands.add('imageTextAlternative', new zg(this.editor));
        }
      }
      var Fg = i(6443),
        jg = {attributes: {'data-cke': !0}};
      (jg.setAttributes = Qn()),
        (jg.insert = Yn().bind(null, 'head')),
        (jg.domAPI = qn()),
        (jg.insertStyleElement = Xn()),
        Zn()(Fg.Z, jg),
        Fg.Z && Fg.Z.locals && Fg.Z.locals;
      var Hg = i(3494),
        $g = {attributes: {'data-cke': !0}};
      ($g.setAttributes = Qn()),
        ($g.insert = Yn().bind(null, 'head')),
        ($g.domAPI = qn()),
        ($g.insertStyleElement = Xn()),
        Zn()(Hg.Z, $g),
        Hg.Z && Hg.Z.locals && Hg.Z.locals;
      class Ug extends Cd {
        constructor(e) {
          super(e);
          const t = this.locale.t;
          (this.focusTracker = new In()),
            (this.keystrokes = new Pn()),
            (this.labeledInput = this._createLabeledInputView()),
            (this.saveButtonView = this._createButton(
              t('Save'),
              dd.check,
              'ck-button-save'
            )),
            (this.saveButtonView.type = 'submit'),
            (this.cancelButtonView = this._createButton(
              t('Cancel'),
              dd.cancel,
              'ck-button-cancel',
              'cancel'
            )),
            (this._focusables = new yd()),
            (this._focusCycler = new pu({
              focusables: this._focusables,
              focusTracker: this.focusTracker,
              keystrokeHandler: this.keystrokes,
              actions: {focusPrevious: 'shift + tab', focusNext: 'tab'},
            })),
            this.setTemplate({
              tag: 'form',
              attributes: {
                class: ['ck', 'ck-text-alternative-form', 'ck-responsive-form'],
                tabindex: '-1',
              },
              children: [
                this.labeledInput,
                this.saveButtonView,
                this.cancelButtonView,
              ],
            });
        }
        render() {
          super.render(),
            this.keystrokes.listenTo(this.element),
            _d({view: this}),
            [
              this.labeledInput,
              this.saveButtonView,
              this.cancelButtonView,
            ].forEach((e) => {
              this._focusables.add(e), this.focusTracker.add(e.element);
            });
        }
        destroy() {
          super.destroy(),
            this.focusTracker.destroy(),
            this.keystrokes.destroy();
        }
        _createButton(e, t, i, n) {
          const o = new Xd(this.locale);
          return (
            o.set({label: e, icon: t, tooltip: !0}),
            o.extendTemplate({attributes: {class: i}}),
            n && o.delegate('execute').to(this, n),
            o
          );
        }
        _createLabeledInputView() {
          const e = this.locale.t,
            t = new yh(this.locale, xh);
          return (t.label = e('Text alternative')), t;
        }
      }
      function Zg(e) {
        const t = e.editing.view,
          i = Gu.defaultPositions,
          n = e.plugins.get('ImageUtils');
        return {
          target: t.domConverter.mapViewToDom(
            n.getClosestSelectedImageWidget(t.document.selection)
          ),
          positions: [
            i.northArrowSouth,
            i.northArrowSouthWest,
            i.northArrowSouthEast,
            i.southArrowNorth,
            i.southArrowNorthWest,
            i.southArrowNorthEast,
            i.viewportStickyNorth,
          ],
        };
      }
      class Wg extends Vn {
        static get requires() {
          return [Mh];
        }
        static get pluginName() {
          return 'ImageTextAlternativeUI';
        }
        init() {
          this._createButton();
        }
        destroy() {
          super.destroy(), this._form && this._form.destroy();
        }
        _createButton() {
          const e = this.editor,
            t = e.t;
          e.ui.componentFactory.add('imageTextAlternative', (i) => {
            const n = e.commands.get('imageTextAlternative'),
              o = new Xd(i);
            return (
              o.set({
                label: t('Change image text alternative'),
                icon: dd.lowVision,
                tooltip: !0,
              }),
              o.bind('isEnabled').to(n, 'isEnabled'),
              o.bind('isOn').to(n, 'value', (e) => !!e),
              this.listenTo(o, 'execute', () => {
                this._showForm();
              }),
              o
            );
          });
        }
        _createForm() {
          const e = this.editor,
            t = e.editing.view.document,
            i = e.plugins.get('ImageUtils');
          (this._balloon = this.editor.plugins.get('ContextualBalloon')),
            (this._form = new (wd(Ug))(e.locale)),
            this._form.render(),
            this.listenTo(this._form, 'submit', () => {
              e.execute('imageTextAlternative', {
                newValue: this._form.labeledInput.fieldView.element.value,
              }),
                this._hideForm(!0);
            }),
            this.listenTo(this._form, 'cancel', () => {
              this._hideForm(!0);
            }),
            this._form.keystrokes.set('Esc', (e, t) => {
              this._hideForm(!0), t();
            }),
            this.listenTo(e.ui, 'update', () => {
              i.getClosestSelectedImageWidget(t.selection)
                ? this._isVisible &&
                  (function (e) {
                    const t = e.plugins.get('ContextualBalloon');
                    if (
                      e.plugins
                        .get('ImageUtils')
                        .getClosestSelectedImageWidget(
                          e.editing.view.document.selection
                        )
                    ) {
                      const i = Zg(e);
                      t.updatePosition(i);
                    }
                  })(e)
                : this._hideForm(!0);
            }),
            kd({
              emitter: this._form,
              activator: () => this._isVisible,
              contextElements: () => [this._balloon.view.element],
              callback: () => this._hideForm(),
            });
        }
        _showForm() {
          if (this._isVisible) return;
          this._form || this._createForm();
          const e = this.editor,
            t = e.commands.get('imageTextAlternative'),
            i = this._form.labeledInput;
          this._form.disableCssTransitions(),
            this._isInBalloon ||
              this._balloon.add({view: this._form, position: Zg(e)}),
            (i.fieldView.value = i.fieldView.element.value = t.value || ''),
            this._form.labeledInput.fieldView.select(),
            this._form.enableCssTransitions();
        }
        _hideForm(e = !1) {
          this._isInBalloon &&
            (this._form.focusTracker.isFocused &&
              this._form.saveButtonView.focus(),
            this._balloon.remove(this._form),
            e && this.editor.editing.view.focus());
        }
        get _isVisible() {
          return !!this._balloon && this._balloon.visibleView === this._form;
        }
        get _isInBalloon() {
          return !!this._balloon && this._balloon.hasView(this._form);
        }
      }
      class qg extends Vn {
        static get requires() {
          return [Bg, Wg];
        }
        static get pluginName() {
          return 'ImageTextAlternative';
        }
      }
      function Gg(e, t) {
        const i = (t, i, n) => {
          if (!n.consumable.consume(i.item, t.name)) return;
          const o = n.writer,
            r = n.mapper.toViewElement(i.item),
            s = e.findViewImgElement(r);
          if (null === i.attributeNewValue) {
            const e = i.attributeOldValue;
            e &&
              e.data &&
              (o.removeAttribute('srcset', s),
              o.removeAttribute('sizes', s),
              e.width && o.removeAttribute('width', s));
          } else {
            const e = i.attributeNewValue;
            e &&
              e.data &&
              (o.setAttribute('srcset', e.data, s),
              o.setAttribute('sizes', '100vw', s),
              e.width && o.setAttribute('width', e.width, s));
          }
        };
        return (e) => {
          e.on(`attribute:srcset:${t}`, i);
        };
      }
      function Yg(e, t, i) {
        const n = (t, i, n) => {
          if (!n.consumable.consume(i.item, t.name)) return;
          const o = n.writer,
            r = n.mapper.toViewElement(i.item),
            s = e.findViewImgElement(r);
          o.setAttribute(i.attributeKey, i.attributeNewValue || '', s);
        };
        return (e) => {
          e.on(`attribute:${i}:${t}`, n);
        };
      }
      class Kg extends ms {
        observe(e) {
          this.listenTo(
            e,
            'load',
            (e, t) => {
              const i = t.target;
              this.checkShouldIgnoreEventFromTarget(i) ||
                ('IMG' == i.tagName && this._fireEvents(t));
            },
            {useCapture: !0}
          );
        }
        stopObserving(e) {
          this.stopListening(e);
        }
        _fireEvents(e) {
          this.isEnabled &&
            (this.document.fire('layoutChanged'),
            this.document.fire('imageLoaded', e));
        }
      }
      class Qg extends zn {
        constructor(e) {
          super(e);
          const t = e.config.get('image.insert.type');
          e.plugins.has('ImageBlockEditing') ||
            ('block' === t && p('image-block-plugin-required')),
            e.plugins.has('ImageInlineEditing') ||
              ('inline' === t && p('image-inline-plugin-required'));
        }
        refresh() {
          const e = this.editor.plugins.get('ImageUtils');
          this.isEnabled = e.isImageAllowed();
        }
        execute(e) {
          const t = xn(e.source),
            i = this.editor.model.document.selection,
            n = this.editor.plugins.get('ImageUtils'),
            o = Object.fromEntries(i.getAttributes());
          t.forEach((e, t) => {
            const r = i.getSelectedElement();
            if (
              ('string' == typeof e && (e = {src: e}), t && r && n.isImage(r))
            ) {
              const t = this.editor.model.createPositionAfter(r);
              n.insertImage({...e, ...o}, t);
            } else n.insertImage({...e, ...o});
          });
        }
      }
      class Jg extends zn {
        refresh() {
          const e = this.editor.plugins.get('ImageUtils'),
            t = this.editor.model.document.selection.getSelectedElement();
          (this.isEnabled = e.isImage(t)),
            (this.value = this.isEnabled ? t.getAttribute('src') : null);
        }
        execute(e) {
          const t = this.editor.model.document.selection.getSelectedElement();
          this.editor.model.change((i) => {
            i.setAttribute('src', e.source, t),
              i.removeAttribute('srcset', t),
              i.removeAttribute('sizes', t);
          });
        }
      }
      class Xg extends Vn {
        static get requires() {
          return [Og];
        }
        static get pluginName() {
          return 'ImageEditing';
        }
        init() {
          const e = this.editor,
            t = e.conversion;
          e.editing.view.addObserver(Kg),
            t
              .for('upcast')
              .attributeToAttribute({
                view: {name: 'img', key: 'alt'},
                model: 'alt',
              })
              .attributeToAttribute({
                view: {name: 'img', key: 'srcset'},
                model: {
                  key: 'srcset',
                  value: (e) => {
                    const t = {data: e.getAttribute('srcset')};
                    return (
                      e.hasAttribute('width') &&
                        (t.width = e.getAttribute('width')),
                      t
                    );
                  },
                },
              });
          const i = new Qg(e),
            n = new Jg(e);
          e.commands.add('insertImage', i),
            e.commands.add('replaceImageSource', n),
            e.commands.add('imageInsert', i);
        }
      }
      class ef extends zn {
        constructor(e, t) {
          super(e), (this._modelElementName = t);
        }
        refresh() {
          const e = this.editor.plugins.get('ImageUtils'),
            t = e.getClosestSelectedImageElement(
              this.editor.model.document.selection
            );
          'imageBlock' === this._modelElementName
            ? (this.isEnabled = e.isInlineImage(t))
            : (this.isEnabled = e.isBlockImage(t));
        }
        execute() {
          const e = this.editor,
            t = this.editor.model,
            i = e.plugins.get('ImageUtils'),
            n = i.getClosestSelectedImageElement(t.document.selection),
            o = Object.fromEntries(n.getAttributes());
          return o.src || o.uploadId
            ? t.change((e) => {
                const r = Array.from(t.markers).filter((e) =>
                    e.getRange().containsItem(n)
                  ),
                  s = i.insertImage(
                    o,
                    t.createSelection(n, 'on'),
                    this._modelElementName
                  );
                if (!s) return null;
                const a = e.createRangeOn(s);
                for (const t of r) {
                  const i = t.getRange(),
                    n =
                      '$graveyard' != i.root.rootName ? i.getJoined(a, !0) : a;
                  e.updateMarker(t, {range: n});
                }
                return {oldElement: n, newElement: s};
              })
            : null;
        }
      }
      class tf extends Vn {
        static get requires() {
          return [Xg, Og, qh];
        }
        static get pluginName() {
          return 'ImageBlockEditing';
        }
        init() {
          const e = this.editor;
          e.model.schema.register('imageBlock', {
            inheritAllFrom: '$blockObject',
            allowAttributes: ['alt', 'src', 'srcset'],
          }),
            this._setupConversion(),
            e.plugins.has('ImageInlineEditing') &&
              (e.commands.add(
                'imageTypeBlock',
                new ef(this.editor, 'imageBlock')
              ),
              this._setupClipboardIntegration());
        }
        _setupConversion() {
          const e = this.editor,
            t = e.t,
            i = e.conversion,
            n = e.plugins.get('ImageUtils');
          i.for('dataDowncast').elementToStructure({
            model: 'imageBlock',
            view: (e, {writer: t}) => Mg(t),
          }),
            i.for('editingDowncast').elementToStructure({
              model: 'imageBlock',
              view: (e, {writer: i}) =>
                n.toImageWidget(Mg(i), i, t('image widget')),
            }),
            i
              .for('downcast')
              .add(Yg(n, 'imageBlock', 'src'))
              .add(Yg(n, 'imageBlock', 'alt'))
              .add(Gg(n, 'imageBlock')),
            i
              .for('upcast')
              .elementToElement({
                view: Rg(e, 'imageBlock'),
                model: (e, {writer: t}) =>
                  t.createElement(
                    'imageBlock',
                    e.hasAttribute('src')
                      ? {src: e.getAttribute('src')}
                      : void 0
                  ),
              })
              .add(
                (function (e) {
                  const t = (t, i, n) => {
                    if (
                      !n.consumable.test(i.viewItem, {
                        name: !0,
                        classes: 'image',
                      })
                    )
                      return;
                    const o = e.findViewImgElement(i.viewItem);
                    if (!o || !n.consumable.test(o, {name: !0})) return;
                    n.consumable.consume(i.viewItem, {
                      name: !0,
                      classes: 'image',
                    });
                    const r = Sn(
                      n.convertItem(o, i.modelCursor).modelRange.getItems()
                    );
                    r
                      ? (n.convertChildren(i.viewItem, r),
                        n.updateConversionResult(r, i))
                      : n.consumable.revert(i.viewItem, {
                          name: !0,
                          classes: 'image',
                        });
                  };
                  return (e) => {
                    e.on('element:figure', t);
                  };
                })(n)
              );
        }
        _setupClipboardIntegration() {
          const e = this.editor,
            t = e.model,
            i = e.editing.view,
            n = e.plugins.get('ImageUtils'),
            o = e.plugins.get('ClipboardPipeline');
          this.listenTo(o, 'inputTransformation', (o, r) => {
            const s = Array.from(r.content.getChildren());
            let a;
            if (!s.every(n.isInlineImageView)) return;
            a = r.targetRanges
              ? e.editing.mapper.toModelRange(r.targetRanges[0])
              : t.document.selection.getFirstRange();
            const l = t.createSelection(a);
            if ('imageBlock' === Ng(t.schema, l)) {
              const e = new nd(i.document),
                t = s.map((t) =>
                  e.createElement('figure', {class: 'image'}, t)
                );
              r.content = e.createDocumentFragment(t);
            }
          });
        }
      }
      var nf = i(9505),
        of = {attributes: {'data-cke': !0}};
      (of.setAttributes = Qn()),
        (of.insert = Yn().bind(null, 'head')),
        (of.domAPI = qn()),
        (of.insertStyleElement = Xn()),
        Zn()(nf.Z, of),
        nf.Z && nf.Z.locals && nf.Z.locals;
      class rf extends Vn {
        static get requires() {
          return [tf, ng, qg];
        }
        static get pluginName() {
          return 'ImageBlock';
        }
      }
      class sf extends Vn {
        static get requires() {
          return [Xg, Og, qh];
        }
        static get pluginName() {
          return 'ImageInlineEditing';
        }
        init() {
          const e = this.editor,
            t = e.model.schema;
          t.register('imageInline', {
            inheritAllFrom: '$inlineObject',
            allowAttributes: ['alt', 'src', 'srcset'],
          }),
            t.addChildCheck((e, t) => {
              if (e.endsWith('caption') && 'imageInline' === t.name) return !1;
            }),
            this._setupConversion(),
            e.plugins.has('ImageBlockEditing') &&
              (e.commands.add(
                'imageTypeInline',
                new ef(this.editor, 'imageInline')
              ),
              this._setupClipboardIntegration());
        }
        _setupConversion() {
          const e = this.editor,
            t = e.t,
            i = e.conversion,
            n = e.plugins.get('ImageUtils');
          i.for('dataDowncast').elementToElement({
            model: 'imageInline',
            view: (e, {writer: t}) => t.createEmptyElement('img'),
          }),
            i.for('editingDowncast').elementToStructure({
              model: 'imageInline',
              view: (e, {writer: i}) =>
                n.toImageWidget(
                  (function (e) {
                    return e.createContainerElement(
                      'span',
                      {class: 'image-inline'},
                      e.createEmptyElement('img')
                    );
                  })(i),
                  i,
                  t('image widget')
                ),
            }),
            i
              .for('downcast')
              .add(Yg(n, 'imageInline', 'src'))
              .add(Yg(n, 'imageInline', 'alt'))
              .add(Gg(n, 'imageInline')),
            i.for('upcast').elementToElement({
              view: Rg(e, 'imageInline'),
              model: (e, {writer: t}) =>
                t.createElement(
                  'imageInline',
                  e.hasAttribute('src') ? {src: e.getAttribute('src')} : void 0
                ),
            });
        }
        _setupClipboardIntegration() {
          const e = this.editor,
            t = e.model,
            i = e.editing.view,
            n = e.plugins.get('ImageUtils'),
            o = e.plugins.get('ClipboardPipeline');
          this.listenTo(o, 'inputTransformation', (o, r) => {
            const s = Array.from(r.content.getChildren());
            let a;
            if (!s.every(n.isBlockImageView)) return;
            a = r.targetRanges
              ? e.editing.mapper.toModelRange(r.targetRanges[0])
              : t.document.selection.getFirstRange();
            const l = t.createSelection(a);
            if ('imageInline' === Ng(t.schema, l)) {
              const e = new nd(i.document),
                t = s.map((t) =>
                  1 === t.childCount
                    ? (Array.from(t.getAttributes()).forEach((i) =>
                        e.setAttribute(...i, n.findViewImgElement(t))
                      ),
                      t.getChild(0))
                    : t
                );
              r.content = e.createDocumentFragment(t);
            }
          });
        }
      }
      class af extends Vn {
        static get requires() {
          return [sf, ng, qg];
        }
        static get pluginName() {
          return 'ImageInline';
        }
      }
      class lf extends Vn {
        static get requires() {
          return [rf, af];
        }
        static get pluginName() {
          return 'Image';
        }
      }
      class cf extends Vn {
        static get pluginName() {
          return 'ImageCaptionUtils';
        }
        static get requires() {
          return [Og];
        }
        getCaptionFromImageModelElement(e) {
          for (const t of e.getChildren())
            if (t && t.is('element', 'caption')) return t;
          return null;
        }
        getCaptionFromModelSelection(e) {
          const t = this.editor.plugins.get('ImageUtils'),
            i = e.getFirstPosition().findAncestor('caption');
          return i && t.isBlockImage(i.parent) ? i : null;
        }
        matchImageCaptionViewElement(e) {
          const t = this.editor.plugins.get('ImageUtils');
          return 'figcaption' == e.name && t.isBlockImageView(e.parent)
            ? {name: !0}
            : null;
        }
      }
      class df extends zn {
        refresh() {
          const e = this.editor,
            t = e.plugins.get('ImageCaptionUtils'),
            i = e.plugins.get('ImageUtils');
          if (!e.plugins.has(tf))
            return (this.isEnabled = !1), void (this.value = !1);
          const n = e.model.document.selection,
            o = n.getSelectedElement();
          if (!o) {
            const e = t.getCaptionFromModelSelection(n);
            return (this.isEnabled = !!e), void (this.value = !!e);
          }
          (this.isEnabled = i.isImage(o)),
            this.isEnabled
              ? (this.value = !!t.getCaptionFromImageModelElement(o))
              : (this.value = !1);
        }
        execute(e = {}) {
          const {focusCaptionOnShow: t} = e;
          this.editor.model.change((e) => {
            this.value
              ? this._hideImageCaption(e)
              : this._showImageCaption(e, t);
          });
        }
        _showImageCaption(e, t) {
          const i = this.editor.model.document.selection,
            n = this.editor.plugins.get('ImageCaptionEditing'),
            o = this.editor.plugins.get('ImageUtils');
          let r = i.getSelectedElement();
          const s = n._getSavedCaption(r);
          o.isInlineImage(r) &&
            (this.editor.execute('imageTypeBlock'),
            (r = i.getSelectedElement()));
          const a = s || e.createElement('caption');
          e.append(a, r), t && e.setSelection(a, 'in');
        }
        _hideImageCaption(e) {
          const t = this.editor,
            i = t.model.document.selection,
            n = t.plugins.get('ImageCaptionEditing'),
            o = t.plugins.get('ImageCaptionUtils');
          let r,
            s = i.getSelectedElement();
          s
            ? (r = o.getCaptionFromImageModelElement(s))
            : ((r = o.getCaptionFromModelSelection(i)), (s = r.parent)),
            n._saveCaption(s, r),
            e.setSelection(s, 'on'),
            e.remove(r);
        }
      }
      class uf extends Vn {
        static get requires() {
          return [Og, cf];
        }
        static get pluginName() {
          return 'ImageCaptionEditing';
        }
        constructor(e) {
          super(e), (this._savedCaptionsMap = new WeakMap());
        }
        init() {
          const e = this.editor,
            t = e.model.schema;
          t.isRegistered('caption')
            ? t.extend('caption', {allowIn: 'imageBlock'})
            : t.register('caption', {
                allowIn: 'imageBlock',
                allowContentOf: '$block',
                isLimit: !0,
              }),
            e.commands.add('toggleImageCaption', new df(this.editor)),
            this._setupConversion(),
            this._setupImageTypeCommandsIntegration(),
            this._registerCaptionReconversion();
        }
        _setupConversion() {
          const e = this.editor,
            t = e.editing.view,
            i = e.plugins.get('ImageUtils'),
            n = e.plugins.get('ImageCaptionUtils'),
            o = e.t;
          e.conversion.for('upcast').elementToElement({
            view: (e) => n.matchImageCaptionViewElement(e),
            model: 'caption',
          }),
            e.conversion.for('dataDowncast').elementToElement({
              model: 'caption',
              view: (e, {writer: t}) =>
                i.isBlockImage(e.parent)
                  ? t.createContainerElement('figcaption')
                  : null,
            }),
            e.conversion.for('editingDowncast').elementToElement({
              model: 'caption',
              view: (e, {writer: n}) => {
                if (!i.isBlockImage(e.parent)) return null;
                const r = n.createEditableElement('figcaption');
                n.setCustomProperty('imageCaption', !0, r),
                  no({
                    view: t,
                    element: r,
                    text: o('Enter image caption'),
                    keepOnFocus: !0,
                  });
                const s = e.parent.getAttribute('alt');
                return jm(r, n, {
                  label: s
                    ? o('Caption for image: %0', [s])
                    : o('Caption for the image'),
                });
              },
            });
        }
        _setupImageTypeCommandsIntegration() {
          const e = this.editor,
            t = e.plugins.get('ImageUtils'),
            i = e.plugins.get('ImageCaptionUtils'),
            n = e.commands.get('imageTypeInline'),
            o = e.commands.get('imageTypeBlock'),
            r = (e) => {
              if (!e.return) return;
              const {oldElement: n, newElement: o} = e.return;
              if (!n) return;
              if (t.isBlockImage(n)) {
                const e = i.getCaptionFromImageModelElement(n);
                if (e) return void this._saveCaption(o, e);
              }
              const r = this._getSavedCaption(n);
              r && this._saveCaption(o, r);
            };
          n && this.listenTo(n, 'execute', r, {priority: 'low'}),
            o && this.listenTo(o, 'execute', r, {priority: 'low'});
        }
        _getSavedCaption(e) {
          const t = this._savedCaptionsMap.get(e);
          return t ? da.fromJSON(t) : null;
        }
        _saveCaption(e, t) {
          this._savedCaptionsMap.set(e, t.toJSON());
        }
        _registerCaptionReconversion() {
          const e = this.editor,
            t = e.model,
            i = e.plugins.get('ImageUtils'),
            n = e.plugins.get('ImageCaptionUtils');
          t.document.on('change:data', () => {
            const o = t.document.differ.getChanges();
            for (const t of o) {
              if ('alt' !== t.attributeKey) continue;
              const o = t.range.start.nodeAfter;
              if (i.isBlockImage(o)) {
                const t = n.getCaptionFromImageModelElement(o);
                if (!t) return;
                e.editing.reconvertItem(t);
              }
            }
          });
        }
      }
      class hf extends Vn {
        static get requires() {
          return [cf];
        }
        static get pluginName() {
          return 'ImageCaptionUI';
        }
        init() {
          const e = this.editor,
            t = e.editing.view,
            i = e.plugins.get('ImageCaptionUtils'),
            n = e.t;
          e.ui.componentFactory.add('toggleImageCaption', (o) => {
            const r = e.commands.get('toggleImageCaption'),
              s = new Xd(o);
            return (
              s.set({icon: dd.caption, tooltip: !0, isToggleable: !0}),
              s.bind('isOn', 'isEnabled').to(r, 'value', 'isEnabled'),
              s
                .bind('label')
                .to(r, 'value', (e) =>
                  n(e ? 'Toggle caption off' : 'Toggle caption on')
                ),
              this.listenTo(s, 'execute', () => {
                e.execute('toggleImageCaption', {focusCaptionOnShow: !0});
                const n = i.getCaptionFromModelSelection(
                  e.model.document.selection
                );
                if (n) {
                  const i = e.editing.mapper.toViewElement(n);
                  t.scrollToTheSelection(),
                    t.change((e) => {
                      e.addClass('image__caption_highlighted', i);
                    });
                }
                e.editing.view.focus();
              }),
              s
            );
          });
        }
      }
      var mf = i(6353),
        gf = {attributes: {'data-cke': !0}};
      (gf.setAttributes = Qn()),
        (gf.insert = Yn().bind(null, 'head')),
        (gf.domAPI = qn()),
        (gf.insertStyleElement = Xn()),
        Zn()(mf.Z, gf),
        mf.Z && mf.Z.locals && mf.Z.locals;
      class ff extends Vn {
        static get requires() {
          return [uf, hf];
        }
        static get pluginName() {
          return 'ImageCaption';
        }
      }
      class pf extends z() {
        constructor() {
          super();
          const e = new window.FileReader();
          (this._reader = e),
            (this._data = void 0),
            this.set('loaded', 0),
            (e.onprogress = (e) => {
              this.loaded = e.loaded;
            });
        }
        get error() {
          return this._reader.error;
        }
        get data() {
          return this._data;
        }
        read(e) {
          const t = this._reader;
          return (
            (this.total = e.size),
            new Promise((i, n) => {
              (t.onload = () => {
                const e = t.result;
                (this._data = e), i(e);
              }),
                (t.onerror = () => {
                  n('error');
                }),
                (t.onabort = () => {
                  n('aborted');
                }),
                this._reader.readAsDataURL(e);
            })
          );
        }
        abort() {
          this._reader.abort();
        }
      }
      class bf extends z() {
        constructor(e, t) {
          super(),
            (this.id = uid()),
            (this._filePromiseWrapper = this._createFilePromiseWrapper(e)),
            (this._adapter = t(this)),
            (this._reader = new FileReader()),
            this.set('status', 'idle'),
            this.set('uploaded', 0),
            this.set('uploadTotal', null),
            this.bind('uploadedPercent').to(
              this,
              'uploaded',
              this,
              'uploadTotal',
              (e, t) => (t ? (e / t) * 100 : 0)
            ),
            this.set('uploadResponse', null);
        }
        get file() {
          return this._filePromiseWrapper
            ? this._filePromiseWrapper.promise.then((e) =>
                this._filePromiseWrapper ? e : null
              )
            : Promise.resolve(null);
        }
        get data() {
          return this._reader.data;
        }
        read() {
          if ('idle' != this.status)
            throw new CKEditorError('filerepository-read-wrong-status', this);
          return (
            (this.status = 'reading'),
            this.file
              .then((e) => this._reader.read(e))
              .then((e) => {
                if ('reading' !== this.status) throw this.status;
                return (this.status = 'idle'), e;
              })
              .catch((e) => {
                if ('aborted' === e)
                  throw ((this.status = 'aborted'), 'aborted');
                throw (
                  ((this.status = 'error'),
                  this._reader.error ? this._reader.error : e)
                );
              })
          );
        }
        upload() {
          if ('idle' != this.status)
            throw new CKEditorError('filerepository-upload-wrong-status', this);
          return (
            (this.status = 'uploading'),
            this.file
              .then(() => this._adapter.upload())
              .then(
                (e) => ((this.uploadResponse = e), (this.status = 'idle'), e)
              )
              .catch((e) => {
                if ('aborted' === this.status) throw 'aborted';
                throw ((this.status = 'error'), e);
              })
          );
        }
        abort() {
          const e = this.status;
          (this.status = 'aborted'),
            this._filePromiseWrapper.isFulfilled
              ? 'reading' == e
                ? this._reader.abort()
                : 'uploading' == e &&
                  this._adapter.abort &&
                  this._adapter.abort()
              : (this._filePromiseWrapper.promise.catch(() => {}),
                this._filePromiseWrapper.rejecter('aborted')),
            this._destroy();
        }
        _destroy() {
          (this._filePromiseWrapper = void 0),
            (this._reader = void 0),
            (this._adapter = void 0),
            (this.uploadResponse = void 0);
        }
        _createFilePromiseWrapper(e) {
          const t = {};
          return (
            (t.promise = new Promise((i, n) => {
              (t.rejecter = n),
                (t.isFulfilled = !1),
                e
                  .then((e) => {
                    (t.isFulfilled = !0), i(e);
                  })
                  .catch((e) => {
                    (t.isFulfilled = !0), n(e);
                  });
            })),
            t
          );
        }
      }
      var kf = i(5007),
        wf = {attributes: {'data-cke': !0}};
      (wf.setAttributes = Qn()),
        (wf.insert = Yn().bind(null, 'head')),
        (wf.domAPI = qn()),
        (wf.insertStyleElement = Xn()),
        Zn()(kf.Z, wf),
        kf.Z && kf.Z.locals && kf.Z.locals;
      var _f = i(232),
        vf = {attributes: {'data-cke': !0}};
      (vf.setAttributes = Qn()),
        (vf.insert = Yn().bind(null, 'head')),
        (vf.domAPI = qn()),
        (vf.insertStyleElement = Xn()),
        Zn()(_f.Z, vf),
        _f.Z && _f.Z.locals && _f.Z.locals;
      var yf = i(8682),
        xf = {attributes: {'data-cke': !0}};
      (xf.setAttributes = Qn()),
        (xf.insert = Yn().bind(null, 'head')),
        (xf.domAPI = qn()),
        (xf.insertStyleElement = Xn()),
        Zn()(yf.Z, xf),
        yf.Z && yf.Z.locals && yf.Z.locals;
      var Af = i(1618),
        Cf = {attributes: {'data-cke': !0}};
      (Cf.setAttributes = Qn()),
        (Cf.insert = Yn().bind(null, 'head')),
        (Cf.domAPI = qn()),
        (Cf.insertStyleElement = Xn()),
        Zn()(Af.Z, Cf),
        Af.Z && Af.Z.locals && Af.Z.locals;
      class Ef extends Cd {
        constructor(e, t = {}) {
          super(e);
          const i = this.bindTemplate;
          this.set('class', t.class || null),
            (this.children = this.createCollection()),
            t.children && t.children.forEach((e) => this.children.add(e)),
            this.set('_role', null),
            this.set('_ariaLabelledBy', null),
            t.labelView &&
              this.set({_role: 'group', _ariaLabelledBy: t.labelView.id}),
            this.setTemplate({
              tag: 'div',
              attributes: {
                class: ['ck', 'ck-form__row', i.to('class')],
                role: i.to('_role'),
                'aria-labelledby': i.to('_ariaLabelledBy'),
              },
              children: this.children,
            });
        }
      }
      var Tf = i(444),
        Sf = {attributes: {'data-cke': !0}};
      (Sf.setAttributes = Qn()),
        (Sf.insert = Yn().bind(null, 'head')),
        (Sf.domAPI = qn()),
        (Sf.insertStyleElement = Xn()),
        Zn()(Tf.Z, Sf),
        Tf.Z && Tf.Z.locals && Tf.Z.locals;
      class If extends Cd {
        constructor(e, t = {}) {
          super(e);
          const {insertButtonView: i, cancelButtonView: n} =
            this._createActionButtons(e);
          (this.insertButtonView = i),
            (this.cancelButtonView = n),
            this.set('imageURLInputValue', ''),
            (this.focusTracker = new In()),
            (this.keystrokes = new Pn()),
            (this._focusables = new yd()),
            (this._focusCycler = new pu({
              focusables: this._focusables,
              focusTracker: this.focusTracker,
              keystrokeHandler: this.keystrokes,
              actions: {focusPrevious: 'shift + tab', focusNext: 'tab'},
            })),
            this.set('_integrations', new Tn());
          for (const [e, i] of Object.entries(t))
            'insertImageViaUrl' === e &&
              (i.fieldView
                .bind('value')
                .to(this, 'imageURLInputValue', (e) => e || ''),
              i.fieldView.on('input', () => {
                this.imageURLInputValue = i.fieldView.element.value.trim();
              })),
              (i.name = e),
              this._integrations.add(i);
          this.setTemplate({
            tag: 'form',
            attributes: {class: ['ck', 'ck-image-insert-form'], tabindex: '-1'},
            children: [
              ...this._integrations,
              new Ef(e, {
                children: [this.insertButtonView, this.cancelButtonView],
                class: 'ck-image-insert-form__action-row',
              }),
            ],
          });
        }
        render() {
          super.render(), _d({view: this});
          const e = [
            ...this._integrations,
            this.insertButtonView,
            this.cancelButtonView,
          ];
          e.forEach((e) => {
            this._focusables.add(e), this.focusTracker.add(e.element);
          }),
            this.keystrokes.listenTo(this.element);
          const t = (e) => e.stopPropagation();
          this.keystrokes.set('arrowright', t),
            this.keystrokes.set('arrowleft', t),
            this.keystrokes.set('arrowup', t),
            this.keystrokes.set('arrowdown', t),
            this.listenTo(
              e[0].element,
              'selectstart',
              (e, t) => {
                t.stopPropagation();
              },
              {priority: 'high'}
            );
        }
        destroy() {
          super.destroy(),
            this.focusTracker.destroy(),
            this.keystrokes.destroy();
        }
        getIntegration(e) {
          return this._integrations.find((t) => t.name === e);
        }
        _createActionButtons(e) {
          const t = e.t,
            i = new Xd(e),
            n = new Xd(e);
          return (
            i.set({
              label: t('Insert'),
              icon: dd.check,
              class: 'ck-button-save',
              type: 'submit',
              withText: !0,
              isEnabled: this.imageURLInputValue,
            }),
            n.set({
              label: t('Cancel'),
              icon: dd.cancel,
              class: 'ck-button-cancel',
              withText: !0,
            }),
            i.bind('isEnabled').to(this, 'imageURLInputValue', (e) => !!e),
            i.delegate('execute').to(this, 'submit'),
            n.delegate('execute').to(this, 'cancel'),
            {insertButtonView: i, cancelButtonView: n}
          );
        }
        focus() {
          this._focusCycler.focusFirst();
        }
      }
      function Pf(e) {
        const t = e.t,
          i = new yh(e, xh);
        return (
          i.set({label: t('Insert image via URL')}),
          (i.fieldView.placeholder = 'https://example.com/image.png'),
          i
        );
      }
      class Mf extends Vn {
        static get pluginName() {
          return 'ImageInsertUI';
        }
        init() {
          const e = this.editor,
            t = (e) => this._createDropdownView(e);
          e.ui.componentFactory.add('insertImage', t),
            e.ui.componentFactory.add('imageInsert', t);
        }
        _createDropdownView(e) {
          const t = this.editor,
            i = e.t,
            n = t.commands.get('uploadImage'),
            o = t.commands.get('insertImage');
          this.dropdownView = zu(e, n ? fu : void 0);
          const r = this.dropdownView.buttonView,
            s = this.dropdownView.panelView;
          if (
            (r.set({label: i('Insert image'), icon: dd.image, tooltip: !0}),
            s.extendTemplate({attributes: {class: 'ck-image-insert__panel'}}),
            n)
          ) {
            const e = this.dropdownView.buttonView;
            (e.actionView = t.ui.componentFactory.create('uploadImage')),
              e.actionView.extendTemplate({
                attributes: {class: 'ck ck-button ck-splitbutton__action'},
              });
          }
          return this._setUpDropdown(n || o);
        }
        _setUpDropdown(e) {
          const t = this.editor,
            i = t.t,
            n = this.dropdownView,
            o = n.panelView,
            r = this.editor.plugins.get('ImageUtils'),
            s = t.commands.get('replaceImageSource');
          let a;
          function l() {
            t.editing.view.focus(), (n.isOpen = !1);
          }
          return (
            n.bind('isEnabled').to(e),
            n.once('change:isOpen', () => {
              (a = new If(
                t.locale,
                (function (e) {
                  const t = e.config.get('image.insert.integrations'),
                    i = e.plugins.get('ImageInsertUI'),
                    n = {insertImageViaUrl: Pf(e.locale)};
                  if (!t) return n;
                  if (
                    t.find((e) => 'openCKFinder' === e) &&
                    e.ui.componentFactory.has('ckfinder')
                  ) {
                    const t = e.ui.componentFactory.create('ckfinder');
                    t.set({
                      withText: !0,
                      class: 'ck-image-insert__ck-finder-button',
                    }),
                      t.delegate('execute').to(i, 'cancel'),
                      (n.openCKFinder = t);
                  }
                  return t.reduce(
                    (t, i) => (
                      n[i]
                        ? (t[i] = n[i])
                        : e.ui.componentFactory.has(i) &&
                          (t[i] = e.ui.componentFactory.create(i)),
                      t
                    ),
                    {}
                  );
                })(t)
              )),
                a.delegate('submit', 'cancel').to(n),
                o.children.add(a);
            }),
            n.on(
              'change:isOpen',
              () => {
                const e = t.model.document.selection.getSelectedElement(),
                  o = a.insertButtonView,
                  l = a.getIntegration('insertImageViaUrl');
                n.isOpen &&
                  (r.isImage(e)
                    ? ((a.imageURLInputValue = s.value),
                      (o.label = i('Update')),
                      (l.label = i('Update image URL')))
                    : ((a.imageURLInputValue = ''),
                      (o.label = i('Insert')),
                      (l.label = i('Insert image via URL'))));
              },
              {priority: 'low'}
            ),
            this.delegate('cancel').to(n),
            n.on('submit', () => {
              l(),
                (function () {
                  const e = t.model.document.selection.getSelectedElement();
                  r.isImage(e)
                    ? t.execute('replaceImageSource', {
                        source: a.imageURLInputValue,
                      })
                    : t.execute('insertImage', {source: a.imageURLInputValue});
                })();
            }),
            n.on('cancel', () => {
              l();
            }),
            n
          );
        }
      }
      dd.objectSizeSmall,
        dd.objectSizeMedium,
        dd.objectSizeLarge,
        dd.objectSizeFull;
      var Rf = i(786),
        Nf = {attributes: {'data-cke': !0}};
      (Nf.setAttributes = Qn()),
        (Nf.insert = Yn().bind(null, 'head')),
        (Nf.domAPI = qn()),
        (Nf.insertStyleElement = Xn()),
        Zn()(Rf.Z, Nf),
        Rf.Z && Rf.Z.locals && Rf.Z.locals;
      class Of extends zn {
        constructor(e, t) {
          super(e),
            (this._defaultStyles = {imageBlock: !1, imageInline: !1}),
            (this._styles = new Map(
              t.map((e) => {
                if (e.isDefault)
                  for (const t of e.modelElements)
                    this._defaultStyles[t] = e.name;
                return [e.name, e];
              })
            ));
        }
        refresh() {
          const e = this.editor.plugins
            .get('ImageUtils')
            .getClosestSelectedImageElement(
              this.editor.model.document.selection
            );
          (this.isEnabled = !!e),
            this.isEnabled
              ? e.hasAttribute('imageStyle')
                ? (this.value = e.getAttribute('imageStyle'))
                : (this.value = this._defaultStyles[e.name])
              : (this.value = !1);
        }
        execute(e = {}) {
          const t = this.editor,
            i = t.model,
            n = t.plugins.get('ImageUtils');
          i.change((t) => {
            const o = e.value;
            let r = n.getClosestSelectedImageElement(i.document.selection);
            o &&
              this.shouldConvertImageType(o, r) &&
              (this.editor.execute(
                n.isBlockImage(r) ? 'imageTypeInline' : 'imageTypeBlock'
              ),
              (r = n.getClosestSelectedImageElement(i.document.selection))),
              !o || this._styles.get(o).isDefault
                ? t.removeAttribute('imageStyle', r)
                : t.setAttribute('imageStyle', o, r);
          });
        }
        shouldConvertImageType(e, t) {
          return !this._styles.get(e).modelElements.includes(t.name);
        }
      }
      const {
          objectFullWidth: Df,
          objectInline: Vf,
          objectLeft: Lf,
          objectRight: zf,
          objectCenter: Bf,
          objectBlockLeft: Ff,
          objectBlockRight: jf,
        } = dd,
        Hf = {
          get inline() {
            return {
              name: 'inline',
              title: 'In line',
              icon: Vf,
              modelElements: ['imageInline'],
              isDefault: !0,
            };
          },
          get alignLeft() {
            return {
              name: 'alignLeft',
              title: 'Left aligned image',
              icon: Lf,
              modelElements: ['imageBlock', 'imageInline'],
              className: 'image-style-align-left',
            };
          },
          get alignBlockLeft() {
            return {
              name: 'alignBlockLeft',
              title: 'Left aligned image',
              icon: Ff,
              modelElements: ['imageBlock'],
              className: 'image-style-block-align-left',
            };
          },
          get alignCenter() {
            return {
              name: 'alignCenter',
              title: 'Centered image',
              icon: Bf,
              modelElements: ['imageBlock'],
              className: 'image-style-align-center',
            };
          },
          get alignRight() {
            return {
              name: 'alignRight',
              title: 'Right aligned image',
              icon: zf,
              modelElements: ['imageBlock', 'imageInline'],
              className: 'image-style-align-right',
            };
          },
          get alignBlockRight() {
            return {
              name: 'alignBlockRight',
              title: 'Right aligned image',
              icon: jf,
              modelElements: ['imageBlock'],
              className: 'image-style-block-align-right',
            };
          },
          get block() {
            return {
              name: 'block',
              title: 'Centered image',
              icon: Bf,
              modelElements: ['imageBlock'],
              isDefault: !0,
            };
          },
          get side() {
            return {
              name: 'side',
              title: 'Side image',
              icon: zf,
              modelElements: ['imageBlock'],
              className: 'image-style-side',
            };
          },
        },
        $f = {
          full: Df,
          left: Ff,
          right: jf,
          center: Bf,
          inlineLeft: Lf,
          inlineRight: zf,
          inline: Vf,
        },
        Uf = [
          {
            name: 'imageStyle:wrapText',
            title: 'Wrap text',
            defaultItem: 'imageStyle:alignLeft',
            items: ['imageStyle:alignLeft', 'imageStyle:alignRight'],
          },
          {
            name: 'imageStyle:breakText',
            title: 'Break text',
            defaultItem: 'imageStyle:block',
            items: [
              'imageStyle:alignBlockLeft',
              'imageStyle:block',
              'imageStyle:alignBlockRight',
            ],
          },
        ];
      function Zf(e) {
        p('image-style-configuration-definition-invalid', e);
      }
      var Wf = {
        normalizeStyles: function (e) {
          const t = (e.configuredStyles.options || [])
            .map((e) => {
              return (
                (t =
                  'string' == typeof (t = e)
                    ? Hf[t]
                      ? {...Hf[t]}
                      : {name: t}
                    : (function (e, t) {
                        const i = {...t};
                        for (const n in e)
                          Object.prototype.hasOwnProperty.call(t, n) ||
                            (i[n] = e[n]);
                        return i;
                      })(Hf[t.name], t)),
                'string' == typeof t.icon && (t.icon = $f[t.icon] || t.icon),
                t
              );
              var t;
            })
            .filter((t) =>
              (function (e, {isBlockPluginLoaded: t, isInlinePluginLoaded: i}) {
                const {modelElements: n, name: o} = e;
                if (!(n && n.length && o)) return Zf({style: e}), !1;
                {
                  const o = [t ? 'imageBlock' : null, i ? 'imageInline' : null];
                  if (!n.some((e) => o.includes(e)))
                    return (
                      p('image-style-missing-dependency', {
                        style: e,
                        missingPlugins: n.map((e) =>
                          'imageBlock' === e
                            ? 'ImageBlockEditing'
                            : 'ImageInlineEditing'
                        ),
                      }),
                      !1
                    );
                }
                return !0;
              })(t, e)
            );
          return t;
        },
        getDefaultStylesConfiguration: function (e, t) {
          return e && t
            ? {
                options: [
                  'inline',
                  'alignLeft',
                  'alignRight',
                  'alignCenter',
                  'alignBlockLeft',
                  'alignBlockRight',
                  'block',
                  'side',
                ],
              }
            : e
            ? {options: ['block', 'side']}
            : t
            ? {options: ['inline', 'alignLeft', 'alignRight']}
            : {};
        },
        getDefaultDropdownDefinitions: function (e) {
          return e.has('ImageBlockEditing') && e.has('ImageInlineEditing')
            ? [...Uf]
            : [];
        },
        warnInvalidStyle: Zf,
        DEFAULT_OPTIONS: Hf,
        DEFAULT_ICONS: $f,
        DEFAULT_DROPDOWN_DEFINITIONS: Uf,
      };
      function qf(e, t) {
        for (const i of t) if (i.name === e) return i;
      }
      class Gf extends Vn {
        static get pluginName() {
          return 'ImageStyleEditing';
        }
        static get requires() {
          return [Og];
        }
        init() {
          const {normalizeStyles: e, getDefaultStylesConfiguration: t} = Wf,
            i = this.editor,
            n = i.plugins.has('ImageBlockEditing'),
            o = i.plugins.has('ImageInlineEditing');
          i.config.define('image.styles', t(n, o)),
            (this.normalizedStyles = e({
              configuredStyles: i.config.get('image.styles'),
              isBlockPluginLoaded: n,
              isInlinePluginLoaded: o,
            })),
            this._setupConversion(n, o),
            this._setupPostFixer(),
            i.commands.add('imageStyle', new Of(i, this.normalizedStyles));
        }
        _setupConversion(e, t) {
          const i = this.editor,
            n = i.model.schema,
            o =
              ((r = this.normalizedStyles),
              (e, t, i) => {
                if (!i.consumable.consume(t.item, e.name)) return;
                const n = qf(t.attributeNewValue, r),
                  o = qf(t.attributeOldValue, r),
                  s = i.mapper.toViewElement(t.item),
                  a = i.writer;
                o && a.removeClass(o.className, s),
                  n && a.addClass(n.className, s);
              });
          var r;
          const s = (function (e) {
            const t = {
              imageInline: e.filter(
                (e) => !e.isDefault && e.modelElements.includes('imageInline')
              ),
              imageBlock: e.filter(
                (e) => !e.isDefault && e.modelElements.includes('imageBlock')
              ),
            };
            return (e, i, n) => {
              if (!i.modelRange) return;
              const o = i.viewItem,
                r = Sn(i.modelRange.getItems());
              if (r && n.schema.checkAttribute(r, 'imageStyle'))
                for (const e of t[r.name])
                  n.consumable.consume(o, {classes: e.className}) &&
                    n.writer.setAttribute('imageStyle', e.name, r);
            };
          })(this.normalizedStyles);
          i.editing.downcastDispatcher.on('attribute:imageStyle', o),
            i.data.downcastDispatcher.on('attribute:imageStyle', o),
            e &&
              (n.extend('imageBlock', {allowAttributes: 'imageStyle'}),
              i.data.upcastDispatcher.on('element:figure', s, {
                priority: 'low',
              })),
            t &&
              (n.extend('imageInline', {allowAttributes: 'imageStyle'}),
              i.data.upcastDispatcher.on('element:img', s, {priority: 'low'}));
        }
        _setupPostFixer() {
          const e = this.editor,
            t = e.model.document,
            i = e.plugins.get(Og),
            n = new Map(this.normalizedStyles.map((e) => [e.name, e]));
          t.registerPostFixer((e) => {
            let o = !1;
            for (const r of t.differ.getChanges())
              if (
                'insert' == r.type ||
                ('attribute' == r.type && 'imageStyle' == r.attributeKey)
              ) {
                let t =
                  'insert' == r.type
                    ? r.position.nodeAfter
                    : r.range.start.nodeAfter;
                if (
                  (t &&
                    t.is('element', 'paragraph') &&
                    t.childCount > 0 &&
                    (t = t.getChild(0)),
                  !i.isImage(t))
                )
                  continue;
                const s = t.getAttribute('imageStyle');
                if (!s) continue;
                const a = n.get(s);
                (a && a.modelElements.includes(t.name)) ||
                  (e.removeAttribute('imageStyle', t), (o = !0));
              }
            return o;
          });
        }
      }
      var Yf = i(1862),
        Kf = {attributes: {'data-cke': !0}};
      (Kf.setAttributes = Qn()),
        (Kf.insert = Yn().bind(null, 'head')),
        (Kf.domAPI = qn()),
        (Kf.insertStyleElement = Xn()),
        Zn()(Yf.Z, Kf),
        Yf.Z && Yf.Z.locals && Yf.Z.locals;
      class Qf extends Vn {
        static get requires() {
          return [Gf];
        }
        static get pluginName() {
          return 'ImageStyleUI';
        }
        get localizedDefaultStylesTitles() {
          const e = this.editor.t;
          return {
            'Wrap text': e('Wrap text'),
            'Break text': e('Break text'),
            'In line': e('In line'),
            'Full size image': e('Full size image'),
            'Side image': e('Side image'),
            'Left aligned image': e('Left aligned image'),
            'Centered image': e('Centered image'),
            'Right aligned image': e('Right aligned image'),
          };
        }
        init() {
          const e = this.editor.plugins,
            t = this.editor.config.get('image.toolbar') || [],
            i = Jf(
              e.get('ImageStyleEditing').normalizedStyles,
              this.localizedDefaultStylesTitles
            );
          for (const e of i) this._createButton(e);
          const n = Jf(
            [...t.filter(M), ...Wf.getDefaultDropdownDefinitions(e)],
            this.localizedDefaultStylesTitles
          );
          for (const e of n) this._createDropdown(e, i);
        }
        _createDropdown(e, t) {
          const i = this.editor.ui.componentFactory;
          i.add(e.name, (n) => {
            let o;
            const {defaultItem: r, items: s, title: a} = e,
              l = s
                .filter((e) => t.find(({name: t}) => Xf(t) === e))
                .map((e) => {
                  const t = i.create(e);
                  return e === r && (o = t), t;
                });
            s.length !== l.length && Wf.warnInvalidStyle({dropdown: e});
            const c = zu(n, fu),
              d = c.buttonView,
              u = d.arrowView;
            return (
              Bu(c, l, {enableActiveItemFocusOnDropdownOpen: !0}),
              d.set({label: ep(a, o.label), class: null, tooltip: !0}),
              u.unbind('label'),
              u.set({label: a}),
              d.bind('icon').toMany(l, 'isOn', (...e) => {
                const t = e.findIndex(jo);
                return t < 0 ? o.icon : l[t].icon;
              }),
              d.bind('label').toMany(l, 'isOn', (...e) => {
                const t = e.findIndex(jo);
                return ep(a, t < 0 ? o.label : l[t].label);
              }),
              d.bind('isOn').toMany(l, 'isOn', (...e) => e.some(jo)),
              d
                .bind('class')
                .toMany(l, 'isOn', (...e) =>
                  e.some(jo) ? 'ck-splitbutton_flatten' : void 0
                ),
              d.on('execute', () => {
                l.some(({isOn: e}) => e)
                  ? (c.isOpen = !c.isOpen)
                  : o.fire('execute');
              }),
              c.bind('isEnabled').toMany(l, 'isEnabled', (...e) => e.some(jo)),
              this.listenTo(c, 'execute', () => {
                this.editor.editing.view.focus();
              }),
              c
            );
          });
        }
        _createButton(e) {
          const t = e.name;
          this.editor.ui.componentFactory.add(Xf(t), (i) => {
            const n = this.editor.commands.get('imageStyle'),
              o = new Xd(i);
            return (
              o.set({
                label: e.title,
                icon: e.icon,
                tooltip: !0,
                isToggleable: !0,
              }),
              o.bind('isEnabled').to(n, 'isEnabled'),
              o.bind('isOn').to(n, 'value', (e) => e === t),
              o.on('execute', this._executeCommand.bind(this, t)),
              o
            );
          });
        }
        _executeCommand(e) {
          this.editor.execute('imageStyle', {value: e}),
            this.editor.editing.view.focus();
        }
      }
      function Jf(e, t) {
        for (const i of e) t[i.title] && (i.title = t[i.title]);
        return e;
      }
      function Xf(e) {
        return `imageStyle:${e}`;
      }
      function ep(e, t) {
        return (e ? e + ': ' : '') + t;
      }
      class tp extends Vn {
        static get requires() {
          return [Gf, Qf];
        }
        static get pluginName() {
          return 'ImageStyle';
        }
      }
      class ip extends Vn {
        static get requires() {
          return [og, Og];
        }
        static get pluginName() {
          return 'ImageToolbar';
        }
        afterInit() {
          const e = this.editor,
            t = e.t,
            i = e.plugins.get(og),
            n = e.plugins.get('ImageUtils');
          var o;
          i.register('image', {
            ariaLabel: t('Image toolbar'),
            items:
              ((o = e.config.get('image.toolbar') || []),
              o.map((e) => (M(e) ? e.name : e))),
            getRelatedElement: (e) => n.getClosestSelectedImageWidget(e),
          });
        }
      }
      function np(e, t, i, n) {
        let o,
          r = null;
        'function' == typeof n
          ? (o = n)
          : ((r = e.commands.get(n)),
            (o = () => {
              e.execute(n);
            })),
          e.model.document.on('change:data', (s, a) => {
            if ((r && !r.isEnabled) || !t.isEnabled) return;
            const l = Sn(e.model.document.selection.getRanges());
            if (!l.isCollapsed) return;
            if (a.isUndo || !a.isLocal) return;
            const c = Array.from(e.model.document.differ.getChanges()),
              d = c[0];
            if (
              1 != c.length ||
              'insert' !== d.type ||
              '$text' != d.name ||
              1 != d.length
            )
              return;
            const u = d.position.parent;
            if (u.is('element', 'codeBlock')) return;
            if (
              u.is('element', 'listItem') &&
              'function' != typeof n &&
              !['numberedList', 'bulletedList', 'todoList'].includes(n)
            )
              return;
            if (r && !0 === r.value) return;
            const h = u.getChild(0),
              m = e.model.createRangeOn(h);
            if (!m.containsRange(l) && !l.end.isEqual(m.end)) return;
            const g = i.exec(h.data.substr(0, l.end.offset));
            g &&
              e.model.enqueueChange((t) => {
                const i = t.createPositionAt(u, 0),
                  n = t.createPositionAt(u, g[0].length),
                  r = new Ma(i, n);
                if (!1 !== o({match: g})) {
                  t.remove(r);
                  const i = e.model.document.selection.getFirstRange(),
                    n = t.createRangeIn(u);
                  !u.isEmpty ||
                    n.isEqual(i) ||
                    n.containsRange(i, !0) ||
                    t.remove(u);
                }
                r.detach(),
                  e.model.enqueueChange(() => {
                    e.plugins.get('Delete').requestUndoOnBackspace();
                  });
              });
          });
      }
      function op(e, t, i, n) {
        let o, r;
        i instanceof RegExp ? (o = i) : (r = i),
          (r =
            r ||
            ((e) => {
              let t;
              const i = [],
                n = [];
              for (; null !== (t = o.exec(e)) && !(t && t.length < 4); ) {
                let {index: e, 1: o, 2: r, 3: s} = t;
                const a = o + r + s;
                e += t[0].length - a.length;
                const l = [e, e + o.length],
                  c = [
                    e + o.length + r.length,
                    e + o.length + r.length + s.length,
                  ];
                i.push(l),
                  i.push(c),
                  n.push([e + o.length, e + o.length + r.length]);
              }
              return {remove: i, format: n};
            })),
          e.model.document.on('change:data', (i, o) => {
            if (o.isUndo || !o.isLocal || !t.isEnabled) return;
            const s = e.model,
              a = s.document.selection;
            if (!a.isCollapsed) return;
            const l = Array.from(s.document.differ.getChanges()),
              c = l[0];
            if (
              1 != l.length ||
              'insert' !== c.type ||
              '$text' != c.name ||
              1 != c.length
            )
              return;
            const d = a.focus,
              u = d.parent,
              {text: h, range: m} = (function (e, t) {
                let i = e.start;
                return {
                  text: Array.from(e.getItems()).reduce(
                    (e, n) =>
                      (!n.is('$text') && !n.is('$textProxy')) ||
                      n.getAttribute('code')
                        ? ((i = t.createPositionAfter(n)), '')
                        : e + n.data,
                    ''
                  ),
                  range: t.createRange(i, e.end),
                };
              })(s.createRange(s.createPositionAt(u, 0), d), s),
              g = r(h),
              f = rp(m.start, g.format, s),
              p = rp(m.start, g.remove, s);
            f.length &&
              p.length &&
              s.enqueueChange((t) => {
                if (!1 !== n(t, f)) {
                  for (const e of p.reverse()) t.remove(e);
                  s.enqueueChange(() => {
                    e.plugins.get('Delete').requestUndoOnBackspace();
                  });
                }
              });
          });
      }
      function rp(e, t, i) {
        return t
          .filter((e) => void 0 !== e[0] && void 0 !== e[1])
          .map((t) =>
            i.createRange(e.getShiftedBy(t[0]), e.getShiftedBy(t[1]))
          );
      }
      class sp extends Vn {
        static get requires() {
          return [am];
        }
        static get pluginName() {
          return 'Autoformat';
        }
        afterInit() {
          this._addListAutoformats(),
            this._addBasicStylesAutoformats(),
            this._addHeadingAutoformats(),
            this._addBlockQuoteAutoformats(),
            this._addCodeBlockAutoformats(),
            this._addHorizontalLineAutoformats();
        }
        _addListAutoformats() {
          const e = this.editor.commands;
          e.get('bulletedList') &&
            np(this.editor, this, /^[*-]\s$/, 'bulletedList'),
            e.get('numberedList') &&
              np(this.editor, this, /^1[.|)]\s$/, 'numberedList'),
            e.get('todoList') &&
              np(this.editor, this, /^\[\s?\]\s$/, 'todoList'),
            e.get('checkTodoList') &&
              np(this.editor, this, /^\[\s?x\s?\]\s$/, () => {
                this.editor.execute('todoList'),
                  this.editor.execute('checkTodoList');
              });
        }
        _addBasicStylesAutoformats() {
          const e = this.editor.commands;
          if (e.get('bold')) {
            const e = ap(this.editor, 'bold');
            op(this.editor, this, /(?:^|\s)(\*\*)([^*]+)(\*\*)$/g, e),
              op(this.editor, this, /(?:^|\s)(__)([^_]+)(__)$/g, e);
          }
          if (e.get('italic')) {
            const e = ap(this.editor, 'italic');
            op(this.editor, this, /(?:^|\s)(\*)([^*_]+)(\*)$/g, e),
              op(this.editor, this, /(?:^|\s)(_)([^_]+)(_)$/g, e);
          }
          if (e.get('code')) {
            const e = ap(this.editor, 'code');
            op(this.editor, this, /(`)([^`]+)(`)$/g, e);
          }
          if (e.get('strikethrough')) {
            const e = ap(this.editor, 'strikethrough');
            op(this.editor, this, /(~~)([^~]+)(~~)$/g, e);
          }
        }
        _addHeadingAutoformats() {
          const e = this.editor.commands.get('heading');
          e &&
            e.modelElements
              .filter((e) => e.match(/^heading[1-6]$/))
              .forEach((t) => {
                const i = t[7],
                  n = new RegExp(`^(#{${i}})\\s$`);
                np(this.editor, this, n, () => {
                  if (!e.isEnabled || e.value === t) return !1;
                  this.editor.execute('heading', {value: t});
                });
              });
        }
        _addBlockQuoteAutoformats() {
          this.editor.commands.get('blockQuote') &&
            np(this.editor, this, /^>\s$/, 'blockQuote');
        }
        _addCodeBlockAutoformats() {
          const e = this.editor,
            t = e.model.document.selection;
          e.commands.get('codeBlock') &&
            np(e, this, /^```$/, () => {
              if (t.getFirstPosition().parent.is('element', 'listItem'))
                return !1;
              this.editor.execute('codeBlock', {usePreviousLanguageChoice: !0});
            });
        }
        _addHorizontalLineAutoformats() {
          this.editor.commands.get('horizontalLine') &&
            np(this.editor, this, /^---$/, 'horizontalLine');
        }
      }
      function ap(e, t) {
        return (i, n) => {
          if (!e.commands.get(t).isEnabled) return !1;
          const o = e.model.schema.getValidRanges(n, t);
          for (const e of o) i.setAttribute(t, !0, e);
          i.removeSelectionAttribute(t);
        };
      }
      class lp extends zn {
        refresh() {
          (this.value = this._getValue()),
            (this.isEnabled = this._checkEnabled());
        }
        execute(e = {}) {
          const t = this.editor.model,
            i = t.schema,
            n = t.document.selection,
            o = Array.from(n.getSelectedBlocks()),
            r = void 0 === e.forceValue ? !this.value : e.forceValue;
          t.change((e) => {
            if (r) {
              const t = o.filter((e) => cp(e) || up(i, e));
              this._applyQuote(e, t);
            } else this._removeQuote(e, o.filter(cp));
          });
        }
        _getValue() {
          const e = Sn(
            this.editor.model.document.selection.getSelectedBlocks()
          );
          return !(!e || !cp(e));
        }
        _checkEnabled() {
          if (this.value) return !0;
          const e = this.editor.model.document.selection,
            t = this.editor.model.schema,
            i = Sn(e.getSelectedBlocks());
          return !!i && up(t, i);
        }
        _removeQuote(e, t) {
          dp(e, t)
            .reverse()
            .forEach((t) => {
              if (t.start.isAtStart && t.end.isAtEnd)
                return void e.unwrap(t.start.parent);
              if (t.start.isAtStart) {
                const i = e.createPositionBefore(t.start.parent);
                return void e.move(t, i);
              }
              t.end.isAtEnd || e.split(t.end);
              const i = e.createPositionAfter(t.end.parent);
              e.move(t, i);
            });
        }
        _applyQuote(e, t) {
          const i = [];
          dp(e, t)
            .reverse()
            .forEach((t) => {
              let n = cp(t.start);
              n || ((n = e.createElement('blockQuote')), e.wrap(t, n)),
                i.push(n);
            }),
            i
              .reverse()
              .reduce((t, i) =>
                t.nextSibling == i ? (e.merge(e.createPositionAfter(t)), t) : i
              );
        }
      }
      function cp(e) {
        return 'blockQuote' == e.parent.name ? e.parent : null;
      }
      function dp(e, t) {
        let i,
          n = 0;
        const o = [];
        for (; n < t.length; ) {
          const r = t[n],
            s = t[n + 1];
          i || (i = e.createPositionBefore(r)),
            (s && r.nextSibling == s) ||
              (o.push(e.createRange(i, e.createPositionAfter(r))), (i = null)),
            n++;
        }
        return o;
      }
      function up(e, t) {
        const i = e.checkChild(t.parent, 'blockQuote'),
          n = e.checkChild(['$root', 'blockQuote'], t);
        return i && n;
      }
      class hp extends Vn {
        static get pluginName() {
          return 'BlockQuoteEditing';
        }
        static get requires() {
          return [Cm, am];
        }
        init() {
          const e = this.editor,
            t = e.model.schema;
          e.commands.add('blockQuote', new lp(e)),
            t.register('blockQuote', {inheritAllFrom: '$container'}),
            e.conversion.elementToElement({
              model: 'blockQuote',
              view: 'blockquote',
            }),
            e.model.document.registerPostFixer((i) => {
              const n = e.model.document.differ.getChanges();
              for (const e of n)
                if ('insert' == e.type) {
                  const n = e.position.nodeAfter;
                  if (!n) continue;
                  if (n.is('element', 'blockQuote') && n.isEmpty)
                    return i.remove(n), !0;
                  if (
                    n.is('element', 'blockQuote') &&
                    !t.checkChild(e.position, n)
                  )
                    return i.unwrap(n), !0;
                  if (n.is('element')) {
                    const e = i.createRangeIn(n);
                    for (const n of e.getItems())
                      if (
                        n.is('element', 'blockQuote') &&
                        !t.checkChild(i.createPositionBefore(n), n)
                      )
                        return i.unwrap(n), !0;
                  }
                } else if ('remove' == e.type) {
                  const t = e.position.parent;
                  if (t.is('element', 'blockQuote') && t.isEmpty)
                    return i.remove(t), !0;
                }
              return !1;
            });
          const i = this.editor.editing.view.document,
            n = e.model.document.selection,
            o = e.commands.get('blockQuote');
          this.listenTo(
            i,
            'enter',
            (t, i) => {
              n.isCollapsed &&
                o.value &&
                n.getLastPosition().parent.isEmpty &&
                (e.execute('blockQuote'),
                e.editing.view.scrollToTheSelection(),
                i.preventDefault(),
                t.stop());
            },
            {context: 'blockquote'}
          ),
            this.listenTo(
              i,
              'delete',
              (t, i) => {
                if ('backward' != i.direction || !n.isCollapsed || !o.value)
                  return;
                const r = n.getLastPosition().parent;
                r.isEmpty &&
                  !r.previousSibling &&
                  (e.execute('blockQuote'),
                  e.editing.view.scrollToTheSelection(),
                  i.preventDefault(),
                  t.stop());
              },
              {context: 'blockquote'}
            );
        }
      }
      var mp = i(1974),
        gp = {attributes: {'data-cke': !0}};
      (gp.setAttributes = Qn()),
        (gp.insert = Yn().bind(null, 'head')),
        (gp.domAPI = qn()),
        (gp.insertStyleElement = Xn()),
        Zn()(mp.Z, gp),
        mp.Z && mp.Z.locals && mp.Z.locals;
      class fp extends Vn {
        static get pluginName() {
          return 'BlockQuoteUI';
        }
        init() {
          const e = this.editor,
            t = e.t;
          e.ui.componentFactory.add('blockQuote', (i) => {
            const n = e.commands.get('blockQuote'),
              o = new Xd(i);
            return (
              o.set({
                label: t('Block quote'),
                icon: dd.quote,
                tooltip: !0,
                isToggleable: !0,
              }),
              o.bind('isOn', 'isEnabled').to(n, 'value', 'isEnabled'),
              this.listenTo(o, 'execute', () => {
                e.execute('blockQuote'), e.editing.view.focus();
              }),
              o
            );
          });
        }
      }
      class pp extends Vn {
        static get requires() {
          return [hp, fp];
        }
        static get pluginName() {
          return 'BlockQuote';
        }
      }
      class bp extends zn {
        constructor(e, t) {
          super(e), (this.attributeKey = t);
        }
        refresh() {
          const e = this.editor.model,
            t = e.document;
          (this.value = this._getValueFromFirstAllowedNode()),
            (this.isEnabled = e.schema.checkAttributeInSelection(
              t.selection,
              this.attributeKey
            ));
        }
        execute(e = {}) {
          const t = this.editor.model,
            i = t.document.selection,
            n = void 0 === e.forceValue ? !this.value : e.forceValue;
          t.change((e) => {
            if (i.isCollapsed)
              n
                ? e.setSelectionAttribute(this.attributeKey, !0)
                : e.removeSelectionAttribute(this.attributeKey);
            else {
              const o = t.schema.getValidRanges(
                i.getRanges(),
                this.attributeKey
              );
              for (const t of o)
                n
                  ? e.setAttribute(this.attributeKey, n, t)
                  : e.removeAttribute(this.attributeKey, t);
            }
          });
        }
        _getValueFromFirstAllowedNode() {
          const e = this.editor.model,
            t = e.schema,
            i = e.document.selection;
          if (i.isCollapsed) return i.hasAttribute(this.attributeKey);
          for (const e of i.getRanges())
            for (const i of e.getItems())
              if (t.checkAttribute(i, this.attributeKey))
                return i.hasAttribute(this.attributeKey);
          return !1;
        }
      }
      const kp = 'bold';
      class wp extends Vn {
        static get pluginName() {
          return 'BoldEditing';
        }
        init() {
          const e = this.editor;
          e.model.schema.extend('$text', {allowAttributes: kp}),
            e.model.schema.setAttributeProperties(kp, {
              isFormatting: !0,
              copyOnEnter: !0,
            }),
            e.conversion.attributeToElement({
              model: kp,
              view: 'strong',
              upcastAlso: [
                'b',
                (e) => {
                  const t = e.getStyle('font-weight');
                  return t && ('bold' == t || Number(t) >= 600)
                    ? {name: !0, styles: ['font-weight']}
                    : null;
                },
              ],
            }),
            e.commands.add(kp, new bp(e, kp)),
            e.keystrokes.set('CTRL+B', kp);
        }
      }
      const _p = 'bold';
      class vp extends Vn {
        static get pluginName() {
          return 'BoldUI';
        }
        init() {
          const e = this.editor,
            t = e.t;
          e.ui.componentFactory.add(_p, (i) => {
            const n = e.commands.get(_p),
              o = new Xd(i);
            return (
              o.set({
                label: t('Bold'),
                icon: dd.bold,
                keystroke: 'CTRL+B',
                tooltip: !0,
                isToggleable: !0,
              }),
              o.bind('isOn', 'isEnabled').to(n, 'value', 'isEnabled'),
              this.listenTo(o, 'execute', () => {
                e.execute(_p), e.editing.view.focus();
              }),
              o
            );
          });
        }
      }
      class yp extends Vn {
        static get requires() {
          return [wp, vp];
        }
        static get pluginName() {
          return 'Bold';
        }
      }
      const xp = 'code';
      class Ap extends Vn {
        static get pluginName() {
          return 'CodeEditing';
        }
        static get requires() {
          return [um];
        }
        init() {
          const e = this.editor;
          e.model.schema.extend('$text', {allowAttributes: xp}),
            e.model.schema.setAttributeProperties(xp, {
              isFormatting: !0,
              copyOnEnter: !1,
            }),
            e.conversion.attributeToElement({
              model: xp,
              view: 'code',
              upcastAlso: {styles: {'word-wrap': 'break-word'}},
            }),
            e.commands.add(xp, new bp(e, xp)),
            e.plugins.get(um).registerAttribute(xp),
            wm(e, xp, 'code', 'ck-code_selected');
        }
      }
      var Cp = i(8942),
        Ep = {attributes: {'data-cke': !0}};
      (Ep.setAttributes = Qn()),
        (Ep.insert = Yn().bind(null, 'head')),
        (Ep.domAPI = qn()),
        (Ep.insertStyleElement = Xn()),
        Zn()(Cp.Z, Ep),
        Cp.Z && Cp.Z.locals && Cp.Z.locals;
      const Tp = 'code';
      class Sp extends Vn {
        static get pluginName() {
          return 'CodeUI';
        }
        init() {
          const e = this.editor,
            t = e.t;
          e.ui.componentFactory.add(Tp, (i) => {
            const n = e.commands.get(Tp),
              o = new Xd(i);
            return (
              o.set({
                label: t('Code'),
                icon: 'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z\\"/></svg>";',
                tooltip: !0,
                isToggleable: !0,
              }),
              o.bind('isOn', 'isEnabled').to(n, 'value', 'isEnabled'),
              this.listenTo(o, 'execute', () => {
                e.execute(Tp), e.editing.view.focus();
              }),
              o
            );
          });
        }
      }
      class Ip extends Vn {
        static get requires() {
          return [Ap, Sp];
        }
        static get pluginName() {
          return 'Code';
        }
      }
      const Pp = 'italic';
      class Mp extends Vn {
        static get pluginName() {
          return 'ItalicEditing';
        }
        init() {
          const e = this.editor;
          e.model.schema.extend('$text', {allowAttributes: Pp}),
            e.model.schema.setAttributeProperties(Pp, {
              isFormatting: !0,
              copyOnEnter: !0,
            }),
            e.conversion.attributeToElement({
              model: Pp,
              view: 'i',
              upcastAlso: ['em', {styles: {'font-style': 'italic'}}],
            }),
            e.commands.add(Pp, new bp(e, Pp)),
            e.keystrokes.set('CTRL+I', Pp);
        }
      }
      const Rp = 'italic';
      class Np extends Vn {
        static get pluginName() {
          return 'ItalicUI';
        }
        init() {
          const e = this.editor,
            t = e.t;
          e.ui.componentFactory.add(Rp, (i) => {
            const n = e.commands.get(Rp),
              o = new Xd(i);
            return (
              o.set({
                label: t('Italic'),
                icon: 'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z\\"/></svg>";',
                keystroke: 'CTRL+I',
                tooltip: !0,
                isToggleable: !0,
              }),
              o.bind('isOn', 'isEnabled').to(n, 'value', 'isEnabled'),
              this.listenTo(o, 'execute', () => {
                e.execute(Rp), e.editing.view.focus();
              }),
              o
            );
          });
        }
      }
      class Op extends Vn {
        static get requires() {
          return [Mp, Np];
        }
        static get pluginName() {
          return 'Italic';
        }
      }
      const Dp = 'strikethrough';
      class Vp extends Vn {
        static get pluginName() {
          return 'StrikethroughEditing';
        }
        init() {
          const e = this.editor;
          e.model.schema.extend('$text', {allowAttributes: Dp}),
            e.model.schema.setAttributeProperties(Dp, {
              isFormatting: !0,
              copyOnEnter: !0,
            }),
            e.conversion.attributeToElement({
              model: Dp,
              view: 's',
              upcastAlso: [
                'del',
                'strike',
                {styles: {'text-decoration': 'line-through'}},
              ],
            }),
            e.commands.add(Dp, new bp(e, Dp)),
            e.keystrokes.set('CTRL+SHIFT+X', 'strikethrough');
        }
      }
      const Lp = 'strikethrough';
      class zp extends Vn {
        static get pluginName() {
          return 'StrikethroughUI';
        }
        init() {
          const e = this.editor,
            t = e.t;
          e.ui.componentFactory.add(Lp, (i) => {
            const n = e.commands.get(Lp),
              o = new Xd(i);
            return (
              o.set({
                label: t('Strikethrough'),
                icon: 'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z\\"/><path d=\\"M3 10.5V9h14v1.5z\\"/></svg>";',
                keystroke: 'CTRL+SHIFT+X',
                tooltip: !0,
                isToggleable: !0,
              }),
              o.bind('isOn', 'isEnabled').to(n, 'value', 'isEnabled'),
              this.listenTo(o, 'execute', () => {
                e.execute(Lp), e.editing.view.focus();
              }),
              o
            );
          });
        }
      }
      class Bp extends Vn {
        static get requires() {
          return [Vp, zp];
        }
        static get pluginName() {
          return 'Strikethrough';
        }
      }
      const Fp = 'subscript';
      class jp extends Vn {
        static get pluginName() {
          return 'SubscriptEditing';
        }
        init() {
          const e = this.editor;
          e.model.schema.extend('$text', {allowAttributes: Fp}),
            e.model.schema.setAttributeProperties(Fp, {
              isFormatting: !0,
              copyOnEnter: !0,
            }),
            e.conversion.attributeToElement({
              model: Fp,
              view: 'sub',
              upcastAlso: [{styles: {'vertical-align': 'sub'}}],
            }),
            e.commands.add(Fp, new bp(e, Fp));
        }
      }
      const Hp = 'subscript';
      class $p extends Vn {
        static get pluginName() {
          return 'SubscriptUI';
        }
        init() {
          const e = this.editor,
            t = e.t;
          e.ui.componentFactory.add(Hp, (i) => {
            const n = e.commands.get(Hp),
              o = new Xd(i);
            return (
              o.set({
                label: t('Subscript'),
                icon: 'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"m7.03 10.349 3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82zm8.147 7.829h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309z\\"/></svg>";',
                tooltip: !0,
                isToggleable: !0,
              }),
              o.bind('isOn', 'isEnabled').to(n, 'value', 'isEnabled'),
              this.listenTo(o, 'execute', () => {
                e.execute(Hp), e.editing.view.focus();
              }),
              o
            );
          });
        }
      }
      class Up extends Vn {
        static get requires() {
          return [jp, $p];
        }
        static get pluginName() {
          return 'Subscript';
        }
      }
      const Zp = 'superscript';
      class Wp extends Vn {
        static get pluginName() {
          return 'SuperscriptEditing';
        }
        init() {
          const e = this.editor;
          e.model.schema.extend('$text', {allowAttributes: Zp}),
            e.model.schema.setAttributeProperties(Zp, {
              isFormatting: !0,
              copyOnEnter: !0,
            }),
            e.conversion.attributeToElement({
              model: Zp,
              view: 'sup',
              upcastAlso: [{styles: {'vertical-align': 'super'}}],
            }),
            e.commands.add(Zp, new bp(e, Zp));
        }
      }
      const qp = 'superscript';
      class Gp extends Vn {
        static get pluginName() {
          return 'SuperscriptUI';
        }
        init() {
          const e = this.editor,
            t = e.t;
          e.ui.componentFactory.add(qp, (i) => {
            const n = e.commands.get(qp),
              o = new Xd(i);
            return (
              o.set({
                label: t('Superscript'),
                icon: 'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M15.677 8.678h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309zM7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82z\\"/></svg>";',
                tooltip: !0,
                isToggleable: !0,
              }),
              o.bind('isOn', 'isEnabled').to(n, 'value', 'isEnabled'),
              this.listenTo(o, 'execute', () => {
                e.execute(qp), e.editing.view.focus();
              }),
              o
            );
          });
        }
      }
      class Yp extends Vn {
        static get requires() {
          return [Wp, Gp];
        }
        static get pluginName() {
          return 'Superscript';
        }
      }
      const Kp = 'underline';
      class Qp extends Vn {
        static get pluginName() {
          return 'UnderlineEditing';
        }
        init() {
          const e = this.editor;
          e.model.schema.extend('$text', {allowAttributes: Kp}),
            e.model.schema.setAttributeProperties(Kp, {
              isFormatting: !0,
              copyOnEnter: !0,
            }),
            e.conversion.attributeToElement({
              model: Kp,
              view: 'u',
              upcastAlso: {styles: {'text-decoration': 'underline'}},
            }),
            e.commands.add(Kp, new bp(e, Kp)),
            e.keystrokes.set('CTRL+U', 'underline');
        }
      }
      const Jp = 'underline';
      class Xp extends Vn {
        static get pluginName() {
          return 'UnderlineUI';
        }
        init() {
          const e = this.editor,
            t = e.t;
          e.ui.componentFactory.add(Jp, (i) => {
            const n = e.commands.get(Jp),
              o = new Xd(i);
            return (
              o.set({
                label: t('Underline'),
                icon: 'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z\\"/></svg>";',
                keystroke: 'CTRL+U',
                tooltip: !0,
                isToggleable: !0,
              }),
              o.bind('isOn', 'isEnabled').to(n, 'value', 'isEnabled'),
              this.listenTo(o, 'execute', () => {
                e.execute(Jp), e.editing.view.focus();
              }),
              o
            );
          });
        }
      }
      class eb extends Vn {
        static get requires() {
          return [Qp, Xp];
        }
        static get pluginName() {
          return 'Underline';
        }
      }
      class tb extends ih {
        constructor(e, t) {
          super(e),
            (this.view = t),
            (this._toolbarConfig = _u(e.config.get('toolbar'))),
            (this._elementReplacer = new U());
        }
        get element() {
          return this.view.element;
        }
        init(e) {
          const t = this.editor,
            i = this.view,
            n = t.editing.view,
            o = i.editable,
            r = n.document.getRoot();
          (o.name = r.rootName), i.render();
          const s = o.element;
          this.setEditableElement(o.name, s),
            i.editable.bind('isFocused').to(this.focusTracker),
            n.attachDomRoot(s),
            e && this._elementReplacer.replace(e, this.element),
            this._initPlaceholder(),
            this._initToolbar(),
            this.fire('ready');
        }
        destroy() {
          super.destroy();
          const e = this.view,
            t = this.editor.editing.view;
          this._elementReplacer.restore(),
            t.detachDomRoot(e.editable.name),
            e.destroy();
        }
        _initToolbar() {
          const e = this.view;
          e.stickyPanel.bind('isActive').to(this.focusTracker, 'isFocused'),
            (e.stickyPanel.limiterElement = e.element),
            e.stickyPanel
              .bind('viewportTopOffset')
              .to(this, 'viewportOffset', ({top: e}) => e || 0),
            e.toolbar.fillFromConfig(
              this._toolbarConfig,
              this.componentFactory
            ),
            this.addToolbar(e.toolbar);
        }
        _initPlaceholder() {
          const e = this.editor,
            t = e.editing.view,
            i = t.document.getRoot(),
            n = e.sourceElement;
          let o;
          const r = e.config.get('placeholder');
          r && (o = 'string' == typeof r ? r : r[this.view.editable.name]),
            !o &&
              n &&
              'textarea' === n.tagName.toLowerCase() &&
              (o = n.getAttribute('placeholder')),
            o &&
              no({
                view: t,
                element: i,
                text: o,
                isDirectHost: !1,
                keepOnFocus: !0,
              });
        }
      }
      var ib = i(6086),
        nb = {attributes: {'data-cke': !0}};
      (nb.setAttributes = Qn()),
        (nb.insert = Yn().bind(null, 'head')),
        (nb.domAPI = qn()),
        (nb.insertStyleElement = Xn()),
        Zn()(ib.Z, nb),
        ib.Z && ib.Z.locals && ib.Z.locals;
      class ob extends dh {
        constructor(e, t, i = {}) {
          super(e),
            (this.stickyPanel = new Lh(e)),
            (this.toolbar = new Cu(e, {
              shouldGroupWhenFull: i.shouldToolbarGroupWhenFull,
            })),
            (this.editable = new hh(e, t));
        }
        render() {
          super.render(),
            this.stickyPanel.content.add(this.toolbar),
            this.top.add(this.stickyPanel),
            this.main.add(this.editable);
        }
      }
      class rb {
        constructor(e) {
          if (
            ((this.crashes = []),
            (this.state = 'initializing'),
            (this._now = Date.now),
            (this.crashes = []),
            (this._crashNumberLimit =
              'number' == typeof e.crashNumberLimit ? e.crashNumberLimit : 3),
            (this._minimumNonErrorTimePeriod =
              'number' == typeof e.minimumNonErrorTimePeriod
                ? e.minimumNonErrorTimePeriod
                : 5e3),
            (this._boundErrorHandler = (e) => {
              const t = 'error' in e ? e.error : e.reason;
              t instanceof Error && this._handleError(t, e);
            }),
            (this._listeners = {}),
            !this._restart)
          )
            throw new Error(
              'The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.'
            );
        }
        destroy() {
          this._stopErrorHandling(), (this._listeners = {});
        }
        on(e, t) {
          this._listeners[e] || (this._listeners[e] = []),
            this._listeners[e].push(t);
        }
        off(e, t) {
          this._listeners[e] = this._listeners[e].filter((e) => e !== t);
        }
        _fire(e, ...t) {
          const i = this._listeners[e] || [];
          for (const e of i) e.apply(this, [null, ...t]);
        }
        _startErrorHandling() {
          window.addEventListener('error', this._boundErrorHandler),
            window.addEventListener(
              'unhandledrejection',
              this._boundErrorHandler
            );
        }
        _stopErrorHandling() {
          window.removeEventListener('error', this._boundErrorHandler),
            window.removeEventListener(
              'unhandledrejection',
              this._boundErrorHandler
            );
        }
        _handleError(e, t) {
          if (this._shouldReactToError(e)) {
            this.crashes.push({
              message: e.message,
              stack: e.stack,
              filename: t instanceof ErrorEvent ? t.filename : void 0,
              lineno: t instanceof ErrorEvent ? t.lineno : void 0,
              colno: t instanceof ErrorEvent ? t.colno : void 0,
              date: this._now(),
            });
            const i = this._shouldRestart();
            (this.state = 'crashed'),
              this._fire('stateChange'),
              this._fire('error', {error: e, causesRestart: i}),
              i
                ? this._restart()
                : ((this.state = 'crashedPermanently'),
                  this._fire('stateChange'));
          }
        }
        _shouldReactToError(e) {
          return (
            e.is &&
            e.is('CKEditorError') &&
            void 0 !== e.context &&
            null !== e.context &&
            'ready' === this.state &&
            this._isErrorComingFromThisItem(e)
          );
        }
        _shouldRestart() {
          return (
            this.crashes.length <= this._crashNumberLimit ||
            (this.crashes[this.crashes.length - 1].date -
              this.crashes[this.crashes.length - 1 - this._crashNumberLimit]
                .date) /
              this._crashNumberLimit >
              this._minimumNonErrorTimePeriod
          );
        }
      }
      function sb(e, t = new Set()) {
        const i = [e],
          n = new Set();
        let o = 0;
        for (; i.length > o; ) {
          const e = i[o++];
          if (!n.has(e) && ab(e) && !t.has(e))
            if ((n.add(e), Symbol.iterator in e))
              try {
                for (const t of e) i.push(t);
              } catch (e) {}
            else for (const t in e) 'defaultValue' !== t && i.push(e[t]);
        }
        return n;
      }
      function ab(e) {
        const t = Object.prototype.toString.call(e),
          i = typeof e;
        return !(
          'number' === i ||
          'boolean' === i ||
          'string' === i ||
          'symbol' === i ||
          'function' === i ||
          '[object Date]' === t ||
          '[object RegExp]' === t ||
          '[object Module]' === t ||
          null == e ||
          e._watchdogExcluded ||
          e instanceof EventTarget ||
          e instanceof Event
        );
      }
      function lb(e, t, i = new Set()) {
        if (e === t && 'object' == typeof (n = e) && null !== n) return !0;
        var n;
        const o = sb(e, i),
          r = sb(t, i);
        for (const e of o) if (r.has(e)) return !0;
        return !1;
      }
      class cb extends rb {
        constructor(e, t = {}) {
          super(t),
            (this._editor = null),
            (this._throttledSave = ug(
              this._save.bind(this),
              'number' == typeof t.saveInterval ? t.saveInterval : 5e3
            )),
            e && (this._creator = (t, i) => e.create(t, i)),
            (this._destructor = (e) => e.destroy());
        }
        get editor() {
          return this._editor;
        }
        get _item() {
          return this._editor;
        }
        setCreator(e) {
          this._creator = e;
        }
        setDestructor(e) {
          this._destructor = e;
        }
        _restart() {
          return Promise.resolve()
            .then(
              () => (
                (this.state = 'initializing'),
                this._fire('stateChange'),
                this._destroy()
              )
            )
            .catch((e) => {
              console.error(
                'An error happened during the editor destroying.',
                e
              );
            })
            .then(() => {
              if ('string' == typeof this._elementOrData)
                return this.create(
                  this._data,
                  this._config,
                  this._config.context
                );
              {
                const e = Object.assign({}, this._config, {
                  initialData: this._data,
                });
                return this.create(this._elementOrData, e, e.context);
              }
            })
            .then(() => {
              this._fire('restart');
            });
        }
        create(e = this._elementOrData, t = this._config, i) {
          return Promise.resolve()
            .then(
              () => (
                super._startErrorHandling(),
                (this._elementOrData = e),
                (this._config = this._cloneEditorConfiguration(t) || {}),
                (this._config.context = i),
                this._creator(e, this._config)
              )
            )
            .then((e) => {
              (this._editor = e),
                e.model.document.on('change:data', this._throttledSave),
                (this._lastDocumentVersion = e.model.document.version),
                (this._data = this._getData()),
                (this.state = 'ready'),
                this._fire('stateChange');
            });
        }
        destroy() {
          return Promise.resolve().then(
            () => (
              (this.state = 'destroyed'),
              this._fire('stateChange'),
              super.destroy(),
              this._destroy()
            )
          );
        }
        _destroy() {
          return Promise.resolve().then(() => {
            this._stopErrorHandling(), this._throttledSave.flush();
            const e = this._editor;
            return (
              (this._editor = null),
              e.model.document.off('change:data', this._throttledSave),
              this._destructor(e)
            );
          });
        }
        _save() {
          const e = this._editor.model.document.version;
          try {
            (this._data = this._getData()), (this._lastDocumentVersion = e);
          } catch (e) {
            console.error(
              e,
              'An error happened during restoring editor data. Editor will be restored from the previously saved data.'
            );
          }
        }
        _setExcludedProperties(e) {
          this._excludedProps = e;
        }
        _getData() {
          const e = {};
          for (const t of this._editor.model.document.getRootNames())
            e[t] = this._editor.data.get({rootName: t});
          return e;
        }
        _isErrorComingFromThisItem(e) {
          return lb(this._editor, e.context, this._excludedProps);
        }
        _cloneEditorConfiguration(e) {
          return Ei(e, (e, t) => (Ti(e) || 'context' === t ? e : void 0));
        }
      }
      const db = Symbol('MainQueueId');
      class ub {
        constructor() {
          (this._onEmptyCallbacks = []),
            (this._queues = new Map()),
            (this._activeActions = 0);
        }
        onEmpty(e) {
          this._onEmptyCallbacks.push(e);
        }
        enqueue(e, t) {
          const i = e === db;
          this._activeActions++,
            this._queues.get(e) || this._queues.set(e, Promise.resolve());
          const n = (
              i
                ? Promise.all(this._queues.values())
                : Promise.all([this._queues.get(db), this._queues.get(e)])
            ).then(t),
            o = n.catch(() => {});
          return (
            this._queues.set(e, o),
            n.finally(() => {
              this._activeActions--,
                this._queues.get(e) === o &&
                  0 === this._activeActions &&
                  this._onEmptyCallbacks.forEach((e) => e());
            })
          );
        }
      }
      function hb(e) {
        return Array.isArray(e) ? e : [e];
      }
      class mb extends ad(ld(sd)) {
        constructor(e, t = {}) {
          if (!gb(e) && void 0 !== t.initialData)
            throw new f('editor-create-initial-data', null);
          super(t),
            void 0 === this.config.get('initialData') &&
              this.config.set(
                'initialData',
                (function (e) {
                  return gb(e)
                    ? (t = e) instanceof HTMLTextAreaElement
                      ? t.value
                      : t.innerHTML
                    : e;
                  var t;
                })(e)
              ),
            gb(e) && (this.sourceElement = e),
            this.model.document.createRoot();
          const i = !this.config.get('toolbar.shouldNotGroupWhenFull'),
            n = new ob(this.locale, this.editing.view, {
              shouldToolbarGroupWhenFull: i,
            });
          (this.ui = new tb(this, n)),
            (function (e) {
              if (!ye(e.updateSourceElement))
                throw new f('attachtoform-missing-elementapi-interface', e);
              const t = e.sourceElement;
              if (
                (function (e) {
                  return !!e && 'textarea' === e.tagName.toLowerCase();
                })(t) &&
                t.form
              ) {
                let i;
                const n = t.form,
                  o = () => e.updateSourceElement();
                ye(n.submit) &&
                  ((i = n.submit),
                  (n.submit = () => {
                    o(), i.apply(n);
                  })),
                  n.addEventListener('submit', o),
                  e.on('destroy', () => {
                    n.removeEventListener('submit', o), i && (n.submit = i);
                  });
              }
            })(this);
        }
        destroy() {
          return (
            this.sourceElement && this.updateSourceElement(),
            this.ui.destroy(),
            super.destroy()
          );
        }
        static create(e, t = {}) {
          return new Promise((i) => {
            const n = new this(e, t);
            i(
              n
                .initPlugins()
                .then(() => n.ui.init(gb(e) ? e : null))
                .then(() => n.data.init(n.config.get('initialData')))
                .then(() => n.fire('ready'))
                .then(() => n)
            );
          });
        }
      }
      function gb(e) {
        return Ti(e);
      }
      function fb(e) {
        const t = e.t,
          i = e.config.get('codeBlock.languages');
        for (const e of i)
          'Plain text' === e.label && (e.label = t('Plain text')),
            void 0 === e.class && (e.class = `language-${e.language}`);
        return i;
      }
      function pb(e, t, i) {
        const n = {};
        for (const o of e)
          'class' === t
            ? (n[o[t].split(' ').shift()] = o[i])
            : (n[o[t]] = o[i]);
        return n;
      }
      function bb(e) {
        return e.data.match(/^(\s*)/)[0];
      }
      function kb(e) {
        const t = e.document.selection,
          i = [];
        if (t.isCollapsed) return [t.anchor];
        const n = t
          .getFirstRange()
          .getWalker({ignoreElementEnd: !0, direction: 'backward'});
        for (const {item: t} of n) {
          if (!t.is('$textProxy')) continue;
          const {parent: n, startOffset: o} = t.textNode;
          if (!n.is('element', 'codeBlock')) continue;
          const r = bb(t.textNode),
            s = e.createPositionAt(n, o + r.length);
          i.push(s);
        }
        return i;
      }
      function wb(e) {
        const t = Sn(e.getSelectedBlocks());
        return !!t && t.is('element', 'codeBlock');
      }
      function _b(e, t) {
        return (
          !t.is('rootElement') &&
          !e.isLimit(t) &&
          e.checkChild(t.parent, 'codeBlock')
        );
      }
      (mb.Context = Hn),
        (mb.EditorWatchdog = cb),
        (mb.ContextWatchdog = class extends rb {
          constructor(e, t = {}) {
            super(t),
              (this._watchdogs = new Map()),
              (this._context = null),
              (this._contextProps = new Set()),
              (this._actionQueues = new ub()),
              (this._watchdogConfig = t),
              (this._creator = (t) => e.create(t)),
              (this._destructor = (e) => e.destroy()),
              this._actionQueues.onEmpty(() => {
                'initializing' === this.state &&
                  ((this.state = 'ready'), this._fire('stateChange'));
              });
          }
          setCreator(e) {
            this._creator = e;
          }
          setDestructor(e) {
            this._destructor = e;
          }
          get context() {
            return this._context;
          }
          create(e = {}) {
            return this._actionQueues.enqueue(
              db,
              () => ((this._contextConfig = e), this._create())
            );
          }
          getItem(e) {
            return this._getWatchdog(e)._item;
          }
          getItemState(e) {
            return this._getWatchdog(e).state;
          }
          add(e) {
            const t = hb(e);
            return Promise.all(
              t.map((e) =>
                this._actionQueues.enqueue(e.id, () => {
                  if ('destroyed' === this.state)
                    throw new Error('Cannot add items to destroyed watchdog.');
                  if (!this._context)
                    throw new Error(
                      'Context was not created yet. You should call the `ContextWatchdog#create()` method first.'
                    );
                  let t;
                  if (this._watchdogs.has(e.id))
                    throw new Error(
                      `Item with the given id is already added: '${e.id}'.`
                    );
                  if ('editor' === e.type)
                    return (
                      (t = new cb(null, this._watchdogConfig)),
                      t.setCreator(e.creator),
                      t._setExcludedProperties(this._contextProps),
                      e.destructor && t.setDestructor(e.destructor),
                      this._watchdogs.set(e.id, t),
                      t.on('error', (i, {error: n, causesRestart: o}) => {
                        this._fire('itemError', {itemId: e.id, error: n}),
                          o &&
                            this._actionQueues.enqueue(
                              e.id,
                              () =>
                                new Promise((i) => {
                                  const n = () => {
                                    t.off('restart', n),
                                      this._fire('itemRestart', {itemId: e.id}),
                                      i();
                                  };
                                  t.on('restart', n);
                                })
                            );
                      }),
                      t.create(e.sourceElementOrData, e.config, this._context)
                    );
                  throw new Error(`Not supported item type: '${e.type}'.`);
                })
              )
            );
          }
          remove(e) {
            const t = hb(e);
            return Promise.all(
              t.map((e) =>
                this._actionQueues.enqueue(e, () => {
                  const t = this._getWatchdog(e);
                  return this._watchdogs.delete(e), t.destroy();
                })
              )
            );
          }
          destroy() {
            return this._actionQueues.enqueue(
              db,
              () => (
                (this.state = 'destroyed'),
                this._fire('stateChange'),
                super.destroy(),
                this._destroy()
              )
            );
          }
          _restart() {
            return this._actionQueues.enqueue(
              db,
              () => (
                (this.state = 'initializing'),
                this._fire('stateChange'),
                this._destroy()
                  .catch((e) => {
                    console.error(
                      'An error happened during destroying the context or items.',
                      e
                    );
                  })
                  .then(() => this._create())
                  .then(() => this._fire('restart'))
              )
            );
          }
          _create() {
            return Promise.resolve()
              .then(
                () => (
                  this._startErrorHandling(), this._creator(this._contextConfig)
                )
              )
              .then(
                (e) => (
                  (this._context = e),
                  (this._contextProps = sb(this._context)),
                  Promise.all(
                    Array.from(this._watchdogs.values()).map(
                      (e) => (
                        e._setExcludedProperties(this._contextProps),
                        e.create(void 0, void 0, this._context)
                      )
                    )
                  )
                )
              );
          }
          _destroy() {
            return Promise.resolve().then(() => {
              this._stopErrorHandling();
              const e = this._context;
              return (
                (this._context = null),
                (this._contextProps = new Set()),
                Promise.all(
                  Array.from(this._watchdogs.values()).map((e) => e.destroy())
                ).then(() => this._destructor(e))
              );
            });
          }
          _getWatchdog(e) {
            const t = this._watchdogs.get(e);
            if (!t)
              throw new Error(
                `Item with the given id was not registered: ${e}.`
              );
            return t;
          }
          _isErrorComingFromThisItem(e) {
            for (const t of this._watchdogs.values())
              if (t._isErrorComingFromThisItem(e)) return !1;
            return lb(this._context, e.context);
          }
        });
      class vb extends zn {
        constructor(e) {
          super(e), (this._lastLanguage = null);
        }
        refresh() {
          (this.value = this._getValue()),
            (this.isEnabled = this._checkEnabled());
        }
        execute(e = {}) {
          const t = this.editor,
            i = t.model,
            n = i.document.selection,
            o = fb(t)[0],
            r = Array.from(n.getSelectedBlocks()),
            s = null == e.forceValue ? !this.value : e.forceValue,
            a = (function (e, t, i) {
              return e.language
                ? e.language
                : e.usePreviousLanguageChoice && t
                ? t
                : i;
            })(e, this._lastLanguage, o.language);
          i.change((e) => {
            s ? this._applyCodeBlock(e, r, a) : this._removeCodeBlock(e, r);
          });
        }
        _getValue() {
          const e = Sn(
            this.editor.model.document.selection.getSelectedBlocks()
          );
          return (
            !(!e || !e.is('element', 'codeBlock')) && e.getAttribute('language')
          );
        }
        _checkEnabled() {
          if (this.value) return !0;
          const e = this.editor.model.document.selection,
            t = this.editor.model.schema,
            i = Sn(e.getSelectedBlocks());
          return !!i && _b(t, i);
        }
        _applyCodeBlock(e, t, i) {
          this._lastLanguage = i;
          const n = this.editor.model.schema,
            o = t.filter((e) => _b(n, e));
          for (const t of o)
            e.rename(t, 'codeBlock'),
              e.setAttribute('language', i, t),
              n.removeDisallowedAttributes([t], e),
              Array.from(t.getChildren())
                .filter((e) => !n.checkChild(t, e))
                .forEach((t) => e.remove(t));
          o.reverse().forEach((t, i) => {
            const n = o[i + 1];
            t.previousSibling === n &&
              (e.appendElement('softBreak', n),
              e.merge(e.createPositionBefore(t)));
          });
        }
        _removeCodeBlock(e, t) {
          const i = t.filter((e) => e.is('element', 'codeBlock'));
          for (const t of i) {
            const i = e.createRangeOn(t);
            for (const t of Array.from(i.getItems()).reverse())
              if (
                t.is('element', 'softBreak') &&
                t.parent.is('element', 'codeBlock')
              ) {
                const {position: i} = e.split(e.createPositionBefore(t)),
                  n = i.nodeAfter;
                e.rename(n, 'paragraph'),
                  e.removeAttribute('language', n),
                  e.remove(t);
              }
            e.rename(t, 'paragraph'), e.removeAttribute('language', t);
          }
        }
      }
      class yb extends zn {
        constructor(e) {
          super(e),
            (this._indentSequence = e.config.get('codeBlock.indentSequence'));
        }
        refresh() {
          this.isEnabled = this._checkEnabled();
        }
        execute() {
          const e = this.editor.model;
          e.change((t) => {
            const i = kb(e);
            for (const n of i) {
              const i = t.createText(this._indentSequence);
              e.insertContent(i, n);
            }
          });
        }
        _checkEnabled() {
          return (
            !!this._indentSequence && wb(this.editor.model.document.selection)
          );
        }
      }
      class xb extends zn {
        constructor(e) {
          super(e),
            (this._indentSequence = e.config.get('codeBlock.indentSequence'));
        }
        refresh() {
          this.isEnabled = this._checkEnabled();
        }
        execute() {
          const e = this.editor.model;
          e.change(() => {
            const t = kb(e);
            for (const i of t) {
              const t = Ab(e, i, this._indentSequence);
              t && e.deleteContent(e.createSelection(t));
            }
          });
        }
        _checkEnabled() {
          if (!this._indentSequence) return !1;
          const e = this.editor.model;
          return (
            !!wb(e.document.selection) &&
            kb(e).some((t) => Ab(e, t, this._indentSequence))
          );
        }
      }
      function Ab(e, t, i) {
        const n = (function (e) {
          let t = e.parent.getChild(e.index);
          return (
            (t && !t.is('element', 'softBreak')) || (t = e.nodeBefore),
            !t || t.is('element', 'softBreak') ? null : t
          );
        })(t);
        if (!n) return null;
        const o = bb(n),
          r = o.lastIndexOf(i);
        if (r + i.length !== o.length) return null;
        if (-1 === r) return null;
        const {parent: s, startOffset: a} = n;
        return e.createRange(
          e.createPositionAt(s, a + r),
          e.createPositionAt(s, a + r + i.length)
        );
      }
      function Cb(e, t, i = !1) {
        const n = pb(t, 'language', 'class'),
          o = pb(t, 'language', 'label');
        return (t, r, s) => {
          const {writer: a, mapper: l, consumable: c} = s;
          if (!c.consume(r.item, 'insert')) return;
          const d = r.item.getAttribute('language'),
            u = l.toViewPosition(e.createPositionBefore(r.item)),
            h = {};
          i && ((h['data-language'] = o[d]), (h.spellcheck = 'false'));
          const m = n[d] ? {class: n[d]} : void 0,
            g = a.createContainerElement('code', m),
            f = a.createContainerElement('pre', h, g);
          a.insert(u, f), l.bindElements(r.item, g);
        };
      }
      const Eb = 'paragraph';
      class Tb extends Vn {
        static get pluginName() {
          return 'CodeBlockEditing';
        }
        static get requires() {
          return [Im];
        }
        constructor(e) {
          super(e),
            e.config.define('codeBlock', {
              languages: [
                {language: 'plaintext', label: 'Plain text'},
                {language: 'c', label: 'C'},
                {language: 'cs', label: 'C#'},
                {language: 'cpp', label: 'C++'},
                {language: 'css', label: 'CSS'},
                {language: 'diff', label: 'Diff'},
                {language: 'html', label: 'HTML'},
                {language: 'java', label: 'Java'},
                {language: 'javascript', label: 'JavaScript'},
                {language: 'php', label: 'PHP'},
                {language: 'python', label: 'Python'},
                {language: 'ruby', label: 'Ruby'},
                {language: 'typescript', label: 'TypeScript'},
                {language: 'xml', label: 'XML'},
              ],
              indentSequence: '\t',
            });
        }
        init() {
          const e = this.editor,
            t = e.model.schema,
            i = e.model,
            n = e.editing.view,
            o = e.plugins.has('DocumentListEditing'),
            r = fb(e);
          e.commands.add('codeBlock', new vb(e)),
            e.commands.add('indentCodeBlock', new yb(e)),
            e.commands.add('outdentCodeBlock', new xb(e)),
            this.listenTo(
              n.document,
              'tab',
              (t, i) => {
                const n = i.shiftKey ? 'outdentCodeBlock' : 'indentCodeBlock';
                e.commands.get(n).isEnabled &&
                  (e.execute(n),
                  i.stopPropagation(),
                  i.preventDefault(),
                  t.stop());
              },
              {context: 'pre'}
            ),
            t.register('codeBlock', {
              allowWhere: '$block',
              allowChildren: '$text',
              isBlock: !0,
              allowAttributes: ['language'],
            }),
            t.addAttributeCheck((e, t) => {
              const i =
                e.endsWith('codeBlock') && t.startsWith('list') && 'list' !== t;
              return !(!o || !i) || (!e.endsWith('codeBlock $text') && void 0);
            }),
            e.model.schema.addChildCheck((e, t) => {
              if (e.endsWith('codeBlock') && t.isObject) return !1;
            }),
            e.editing.downcastDispatcher.on('insert:codeBlock', Cb(i, r, !0)),
            e.data.downcastDispatcher.on('insert:codeBlock', Cb(i, r)),
            e.data.downcastDispatcher.on(
              'insert:softBreak',
              (function (e) {
                return (t, i, n) => {
                  if ('codeBlock' !== i.item.parent.name) return;
                  const {writer: o, mapper: r, consumable: s} = n;
                  if (!s.consume(i.item, 'insert')) return;
                  const a = r.toViewPosition(e.createPositionBefore(i.item));
                  o.insert(a, o.createText('\n'));
                };
              })(i),
              {priority: 'high'}
            ),
            e.data.upcastDispatcher.on(
              'element:code',
              (function (e, t) {
                const i = pb(t, 'class', 'language'),
                  n = t[0].language;
                return (e, t, o) => {
                  const r = t.viewItem,
                    s = r.parent;
                  if (!s || !s.is('element', 'pre')) return;
                  if (t.modelCursor.findAncestor('codeBlock')) return;
                  const {consumable: a, writer: l} = o;
                  if (!a.test(r, {name: !0})) return;
                  const c = l.createElement('codeBlock'),
                    d = [...r.getClassNames()];
                  d.length || d.push('');
                  for (const e of d) {
                    const t = i[e];
                    if (t) {
                      l.setAttribute('language', t, c);
                      break;
                    }
                  }
                  c.hasAttribute('language') ||
                    l.setAttribute('language', n, c),
                    o.convertChildren(r, c),
                    o.safeInsert(c, t.modelCursor) &&
                      (a.consume(r, {name: !0}),
                      o.updateConversionResult(c, t));
                };
              })(0, r)
            ),
            e.data.upcastDispatcher.on(
              'text',
              (e, t, {consumable: i, writer: n}) => {
                let o = t.modelCursor;
                if (!i.test(t.viewItem)) return;
                if (!o.findAncestor('codeBlock')) return;
                i.consume(t.viewItem);
                const r = t.viewItem.data
                    .split('\n')
                    .map((e) => n.createText(e)),
                  s = r[r.length - 1];
                for (const e of r)
                  if (
                    (n.insert(e, o),
                    (o = o.getShiftedBy(e.offsetSize)),
                    e !== s)
                  ) {
                    const e = n.createElement('softBreak');
                    n.insert(e, o), (o = n.createPositionAfter(e));
                  }
                (t.modelRange = n.createRange(t.modelCursor, o)),
                  (t.modelCursor = o);
              }
            ),
            e.data.upcastDispatcher.on(
              'element:pre',
              (e, t, {consumable: i}) => {
                const n = t.viewItem;
                if (n.findAncestor('pre')) return;
                const o = Array.from(n.getChildren()),
                  r = o.find((e) => e.is('element', 'code'));
                if (r)
                  for (const e of o)
                    e !== r && e.is('$text') && i.consume(e, {name: !0});
              },
              {priority: 'high'}
            ),
            this.listenTo(e.editing.view.document, 'clipboardInput', (t, n) => {
              let o = i.createRange(i.document.selection.anchor);
              if (
                (n.targetRanges &&
                  (o = e.editing.mapper.toModelRange(n.targetRanges[0])),
                !o.start.parent.is('element', 'codeBlock'))
              )
                return;
              const r = n.dataTransfer.getData('text/plain'),
                s = new nd(e.editing.view.document);
              n.content = (function (e, t) {
                const i = e.createDocumentFragment(),
                  n = t.split('\n'),
                  o = n.reduce(
                    (t, i, o) => (
                      t.push(i),
                      o < n.length - 1 && t.push(e.createElement('br')),
                      t
                    ),
                    []
                  );
                return e.appendChild(o, i), i;
              })(s, r);
            }),
            this.listenTo(i, 'getSelectedContent', (e, [n]) => {
              const o = n.anchor;
              !n.isCollapsed &&
                o.parent.is('element', 'codeBlock') &&
                o.hasSameParentAs(n.focus) &&
                i.change((i) => {
                  const r = e.return;
                  if (
                    o.parent.is('element') &&
                    (r.childCount > 1 || n.containsEntireContent(o.parent))
                  ) {
                    const t = i.createElement(
                      'codeBlock',
                      o.parent.getAttributes()
                    );
                    i.append(r, t);
                    const n = i.createDocumentFragment();
                    return i.append(t, n), void (e.return = n);
                  }
                  const s = r.getChild(0);
                  t.checkAttribute(s, 'code') && i.setAttribute('code', !0, s);
                });
            });
        }
        afterInit() {
          const e = this.editor,
            t = e.commands,
            i = t.get('indent'),
            n = t.get('outdent');
          i &&
            i.registerChildCommand(t.get('indentCodeBlock'), {
              priority: 'highest',
            }),
            n && n.registerChildCommand(t.get('outdentCodeBlock')),
            this.listenTo(
              e.editing.view.document,
              'enter',
              (t, i) => {
                e.model.document.selection
                  .getLastPosition()
                  .parent.is('element', 'codeBlock') &&
                  ((function (e, t) {
                    const i = e.model.document,
                      n = e.editing.view,
                      o = i.selection.getLastPosition(),
                      r = o.nodeAfter;
                    return (
                      !(t || !i.selection.isCollapsed || !o.isAtStart) &&
                      !!Ib(r) &&
                      (e.model.change((t) => {
                        e.execute('enter');
                        const n = i.selection.anchor.parent.previousSibling;
                        t.rename(n, Eb),
                          t.setSelection(n, 'in'),
                          e.model.schema.removeDisallowedAttributes([n], t),
                          t.remove(r);
                      }),
                      n.scrollToTheSelection(),
                      !0)
                    );
                  })(e, i.isSoft) ||
                    (function (e, t) {
                      const i = e.model,
                        n = i.document,
                        o = e.editing.view,
                        r = n.selection.getLastPosition(),
                        s = r.nodeBefore;
                      let a;
                      if (
                        t ||
                        !n.selection.isCollapsed ||
                        !r.isAtEnd ||
                        !s ||
                        !s.previousSibling
                      )
                        return !1;
                      if (Ib(s) && Ib(s.previousSibling))
                        a = i.createRange(
                          i.createPositionBefore(s.previousSibling),
                          i.createPositionAfter(s)
                        );
                      else if (
                        Sb(s) &&
                        Ib(s.previousSibling) &&
                        Ib(s.previousSibling.previousSibling)
                      )
                        a = i.createRange(
                          i.createPositionBefore(
                            s.previousSibling.previousSibling
                          ),
                          i.createPositionAfter(s)
                        );
                      else {
                        if (
                          !(
                            Sb(s) &&
                            Ib(s.previousSibling) &&
                            Sb(s.previousSibling.previousSibling) &&
                            s.previousSibling.previousSibling &&
                            Ib(
                              s.previousSibling.previousSibling.previousSibling
                            )
                          )
                        )
                          return !1;
                        a = i.createRange(
                          i.createPositionBefore(
                            s.previousSibling.previousSibling.previousSibling
                          ),
                          i.createPositionAfter(s)
                        );
                      }
                      return (
                        e.model.change((t) => {
                          t.remove(a), e.execute('enter');
                          const i = n.selection.anchor.parent;
                          t.rename(i, Eb),
                            e.model.schema.removeDisallowedAttributes([i], t);
                        }),
                        o.scrollToTheSelection(),
                        !0
                      );
                    })(e, i.isSoft) ||
                    (function (e) {
                      const t = e.model.document,
                        i = t.selection.getLastPosition(),
                        n = i.nodeBefore || i.textNode;
                      let o;
                      n && n.is('$text') && (o = bb(n)),
                        e.model.change((i) => {
                          e.execute('shiftEnter'),
                            o && i.insertText(o, t.selection.anchor);
                        });
                    })(e),
                  i.preventDefault(),
                  t.stop());
              },
              {context: 'pre'}
            );
        }
      }
      function Sb(e) {
        return e && e.is('$text') && !e.data.match(/\S/);
      }
      function Ib(e) {
        return e && e.is('element', 'softBreak');
      }
      var Pb = i(7102),
        Mb = {attributes: {'data-cke': !0}};
      (Mb.setAttributes = Qn()),
        (Mb.insert = Yn().bind(null, 'head')),
        (Mb.domAPI = qn()),
        (Mb.insertStyleElement = Xn()),
        Zn()(Pb.Z, Mb),
        Pb.Z && Pb.Z.locals && Pb.Z.locals;
      class Rb extends Vn {
        static get pluginName() {
          return 'CodeBlockUI';
        }
        init() {
          const e = this.editor,
            t = e.t,
            i = e.ui.componentFactory,
            n = fb(e);
          i.add('codeBlock', (i) => {
            const o = e.commands.get('codeBlock'),
              r = zu(i, fu),
              s = r.buttonView;
            return (
              s.set({
                label: t('Insert code block'),
                tooltip: !0,
                icon: 'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z\\"/></svg>";',
                isToggleable: !0,
              }),
              s.bind('isOn').to(o, 'value', (e) => !!e),
              s.on('execute', () => {
                e.execute('codeBlock', {usePreviousLanguageChoice: !0}),
                  e.editing.view.focus();
              }),
              r.on('execute', (t) => {
                e.execute('codeBlock', {
                  language: t.source._codeBlockLanguage,
                  forceValue: !0,
                }),
                  e.editing.view.focus();
              }),
              (r.class = 'ck-code-block-dropdown'),
              r.bind('isEnabled').to(o),
              ju(r, () => this._getLanguageListItemDefinitions(n)),
              r
            );
          });
        }
        _getLanguageListItemDefinitions(e) {
          const t = this.editor.commands.get('codeBlock'),
            i = new Tn();
          for (const n of e) {
            const e = {
              type: 'button',
              model: new Ah({
                _codeBlockLanguage: n.language,
                label: n.label,
                withText: !0,
              }),
            };
            e.model
              .bind('isOn')
              .to(t, 'value', (t) => t === e.model._codeBlockLanguage),
              i.add(e);
          }
          return i;
        }
      }
      class Nb extends Vn {
        static get requires() {
          return [Tb, Rb];
        }
        static get pluginName() {
          return 'CodeBlock';
        }
      }
      class Ob extends zn {
        constructor(e) {
          super(e), (this.affectsData = !1);
        }
        execute() {
          const e = this.editor.model,
            t = e.document.selection;
          let i = e.schema.getLimitElement(t);
          if (t.containsEntireContent(i) || !Db(e.schema, i))
            do {
              if (((i = i.parent), !i)) return;
            } while (!Db(e.schema, i));
          e.change((e) => {
            e.setSelection(i, 'in');
          });
        }
      }
      function Db(e, t) {
        return (
          e.isLimit(t) &&
          (e.checkChild(t, '$text') || e.checkChild(t, 'paragraph'))
        );
      }
      const Vb = _n('Ctrl+A');
      class Lb extends Vn {
        static get pluginName() {
          return 'SelectAllEditing';
        }
        init() {
          const e = this.editor,
            t = e.editing.view.document;
          e.commands.add('selectAll', new Ob(e)),
            this.listenTo(t, 'keydown', (t, i) => {
              wn(i) === Vb && (e.execute('selectAll'), i.preventDefault());
            });
        }
      }
      class zb extends Vn {
        static get pluginName() {
          return 'SelectAllUI';
        }
        init() {
          const e = this.editor;
          e.ui.componentFactory.add('selectAll', (t) => {
            const i = e.commands.get('selectAll'),
              n = new Xd(t),
              o = t.t;
            return (
              n.set({
                label: o('Select all'),
                icon: 'export default "<svg xmlns=\\"http://www.w3.org/2000/svg\\" viewBox=\\"0 0 20 20\\"><path d=\\"M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z\\"/></svg>";',
                keystroke: 'Ctrl+A',
                tooltip: !0,
              }),
              n.bind('isEnabled').to(i, 'isEnabled'),
              this.listenTo(n, 'execute', () => {
                e.execute('selectAll'), e.editing.view.focus();
              }),
              n
            );
          });
        }
      }
      class Bb extends Vn {
        static get requires() {
          return [Lb, zb];
        }
        static get pluginName() {
          return 'SelectAll';
        }
      }
      class Fb extends Vn {
        static get requires() {
          return [_g, Cm, Bb, Im, lm, Pg];
        }
        static get pluginName() {
          return 'Essentials';
        }
      }
      var jb = i(2523),
        Hb = {attributes: {'data-cke': !0}};
      (Hb.setAttributes = Qn()),
        (Hb.insert = Yn().bind(null, 'head')),
        (Hb.domAPI = qn()),
        (Hb.insertStyleElement = Xn()),
        Zn()(jb.Z, Hb),
        jb.Z && jb.Z.locals && jb.Z.locals;
      class $b extends Cd {
        constructor(e) {
          super(e);
          const t = e.t;
          this.set('matchCount', 0),
            this.set('highlightOffset', 0),
            this.set('isDirty', !1),
            this.set('_areCommandsEnabled', {}),
            this.set('_resultsCounterText', ''),
            this.set('_matchCase', !1),
            this.set('_wholeWordsOnly', !1),
            this.bind('_searchResultsFound').to(
              this,
              'matchCount',
              this,
              'isDirty',
              (e, t) => e > 0 && !t
            ),
            (this._findInputView = this._createInputField(t('Find in text…'))),
            (this._replaceInputView = this._createInputField(
              t('Replace with…')
            )),
            (this._findButtonView = this._createButton({
              label: t('Find'),
              class: 'ck-button-find ck-button-action',
              withText: !0,
            })),
            (this._findPrevButtonView = this._createButton({
              label: t('Previous result'),
              class: 'ck-button-prev',
              icon: Ch,
              keystroke: 'Shift+F3',
              tooltip: !0,
            })),
            (this._findNextButtonView = this._createButton({
              label: t('Next result'),
              class: 'ck-button-next',
              icon: Ch,
              keystroke: 'F3',
              tooltip: !0,
            })),
            (this._optionsDropdown = this._createOptionsDropdown()),
            (this._replaceButtonView = this._createButton({
              label: t('Replace'),
              class: 'ck-button-replace',
              withText: !0,
            })),
            (this._replaceAllButtonView = this._createButton({
              label: t('Replace all'),
              class: 'ck-button-replaceall',
              withText: !0,
            })),
            (this._findFieldsetView = this._createFindFieldset()),
            (this._replaceFieldsetView = this._createReplaceFieldset()),
            (this._focusTracker = new In()),
            (this._keystrokes = new Pn()),
            (this._focusables = new yd()),
            (this._focusCycler = new pu({
              focusables: this._focusables,
              focusTracker: this._focusTracker,
              keystrokeHandler: this._keystrokes,
              actions: {focusPrevious: 'shift + tab', focusNext: 'tab'},
            })),
            this.setTemplate({
              tag: 'form',
              attributes: {
                class: ['ck', 'ck-find-and-replace-form'],
                tabindex: '-1',
              },
              children: [
                new fh(e, {label: t('Find and replace')}),
                this._findFieldsetView,
                this._replaceFieldsetView,
              ],
            });
        }
        render() {
          super.render(),
            _d({view: this}),
            this._initFocusCycling(),
            this._initKeystrokeHandling();
        }
        destroy() {
          super.destroy(),
            this._focusTracker.destroy(),
            this._keystrokes.destroy();
        }
        focus() {
          this._focusCycler.focusFirst();
        }
        reset() {
          (this._findInputView.errorText = null), (this.isDirty = !0);
        }
        get _textToFind() {
          return this._findInputView.fieldView.element.value;
        }
        get _textToReplace() {
          return this._replaceInputView.fieldView.element.value;
        }
        _createFindFieldset() {
          const e = this.locale,
            t = new Cd(e);
          return (
            this._findInputView.fieldView.on('input', () => {
              this.isDirty = !0;
            }),
            this._findButtonView.on(
              'execute',
              this._onFindButtonExecute.bind(this)
            ),
            this._findPrevButtonView
              .delegate('execute')
              .to(this, 'findPrevious'),
            this._findNextButtonView.delegate('execute').to(this, 'findNext'),
            this._findPrevButtonView
              .bind('isEnabled')
              .to(this, '_areCommandsEnabled', ({findPrevious: e}) => e),
            this._findNextButtonView
              .bind('isEnabled')
              .to(this, '_areCommandsEnabled', ({findNext: e}) => e),
            this._injectFindResultsCounter(),
            t.setTemplate({
              tag: 'fieldset',
              attributes: {class: ['ck', 'ck-find-and-replace-form__find']},
              children: [
                this._findInputView,
                this._findButtonView,
                this._findPrevButtonView,
                this._findNextButtonView,
              ],
            }),
            t
          );
        }
        _onFindButtonExecute() {
          if (this._textToFind)
            (this.isDirty = !1),
              this.fire('findNext', {
                searchText: this._textToFind,
                matchCase: this._matchCase,
                wholeWords: this._wholeWordsOnly,
              });
          else {
            const e = this.t;
            this._findInputView.errorText = e(
              'Text to find must not be empty.'
            );
          }
        }
        _injectFindResultsCounter() {
          const e = this.locale,
            t = e.t,
            i = this.bindTemplate,
            n = new Cd(this.locale);
          this.bind('_resultsCounterText').to(
            this,
            'highlightOffset',
            this,
            'matchCount',
            (e, i) => t('%0 of %1', [e, i])
          ),
            n.setTemplate({
              tag: 'span',
              attributes: {
                class: [
                  'ck',
                  'ck-results-counter',
                  i.if('isDirty', 'ck-hidden'),
                ],
              },
              children: [{text: i.to('_resultsCounterText')}],
            });
          const o = () => {
            const t = this._findInputView.fieldView.element;
            if (!t || !Xi(t)) return;
            const i = new Ui(n.element).width,
              o =
                'ltr' === e.uiLanguageDirection
                  ? 'paddingRight'
                  : 'paddingLeft';
            t.style[o] = i
              ? `calc( 2 * var(--ck-spacing-standard) + ${i}px )`
              : '';
          };
          this.on('change:_resultsCounterText', o, {priority: 'low'}),
            this.on('change:isDirty', o, {priority: 'low'}),
            this._findInputView.template.children[0].children.push(n);
        }
        _createReplaceFieldset() {
          const e = this.locale.t,
            t = new Cd(this.locale);
          return (
            this._replaceButtonView
              .bind('isEnabled')
              .to(
                this,
                '_areCommandsEnabled',
                this,
                '_searchResultsFound',
                ({replace: e}, t) => e && t
              ),
            this._replaceAllButtonView
              .bind('isEnabled')
              .to(
                this,
                '_areCommandsEnabled',
                this,
                '_searchResultsFound',
                ({replaceAll: e}, t) => e && t
              ),
            this._replaceInputView
              .bind('isEnabled')
              .to(
                this,
                '_areCommandsEnabled',
                this,
                '_searchResultsFound',
                ({replace: e}, t) => e && t
              ),
            this._replaceInputView
              .bind('infoText')
              .to(
                this._replaceInputView,
                'isEnabled',
                this._replaceInputView,
                'isFocused',
                (t, i) =>
                  t || !i
                    ? ''
                    : e('Tip: Find some text first in order to replace it.')
              ),
            this._replaceButtonView.on('execute', () => {
              this.fire('replace', {
                searchText: this._textToFind,
                replaceText: this._textToReplace,
              });
            }),
            this._replaceAllButtonView.on('execute', () => {
              this.fire('replaceAll', {
                searchText: this._textToFind,
                replaceText: this._textToReplace,
              }),
                this.focus();
            }),
            t.setTemplate({
              tag: 'fieldset',
              attributes: {class: ['ck', 'ck-find-and-replace-form__replace']},
              children: [
                this._replaceInputView,
                this._optionsDropdown,
                this._replaceButtonView,
                this._replaceAllButtonView,
              ],
            }),
            t
          );
        }
        _createOptionsDropdown() {
          const e = this.locale.t,
            t = zu(this.locale);
          (t.class = 'ck-options-dropdown'),
            t.buttonView.set({
              withText: !1,
              label: e('Show options'),
              icon: dd.cog,
              tooltip: !0,
            });
          const i = new Ah({
              withText: !0,
              label: e('Match case'),
              _isMatchCaseSwitch: !0,
            }),
            n = new Ah({withText: !0, label: e('Whole words only')});
          return (
            i.bind('isOn').to(this, '_matchCase'),
            n.bind('isOn').to(this, '_wholeWordsOnly'),
            t.on('execute', (e) => {
              e.source._isMatchCaseSwitch
                ? (this._matchCase = !this._matchCase)
                : (this._wholeWordsOnly = !this._wholeWordsOnly),
                (this.isDirty = !0);
            }),
            ju(
              t,
              new Tn([
                {type: 'switchbutton', model: i},
                {type: 'switchbutton', model: n},
              ])
            ),
            t
          );
        }
        _initFocusCycling() {
          [
            this._findInputView,
            this._findButtonView,
            this._findPrevButtonView,
            this._findNextButtonView,
            this._replaceInputView,
            this._optionsDropdown,
            this._replaceButtonView,
            this._replaceAllButtonView,
          ].forEach((e) => {
            this._focusables.add(e), this._focusTracker.add(e.element);
          });
        }
        _initKeystrokeHandling() {
          const e = (e) => e.stopPropagation(),
            t = (e) => {
              e.stopPropagation(), e.preventDefault();
            };
          this._keystrokes.listenTo(this.element),
            this._keystrokes.set('f3', (e) => {
              t(e), this._findNextButtonView.fire('execute');
            }),
            this._keystrokes.set('shift+f3', (e) => {
              t(e), this._findPrevButtonView.fire('execute');
            }),
            this._keystrokes.set('enter', (e) => {
              const i = e.target;
              i === this._findInputView.fieldView.element
                ? (this._areCommandsEnabled.findNext
                    ? this._findNextButtonView.fire('execute')
                    : this._findButtonView.fire('execute'),
                  t(e))
                : i !== this._replaceInputView.fieldView.element ||
                  this.isDirty ||
                  (this._replaceButtonView.fire('execute'), t(e));
            }),
            this._keystrokes.set('shift+enter', (e) => {
              e.target === this._findInputView.fieldView.element &&
                (this._areCommandsEnabled.findPrevious
                  ? this._findPrevButtonView.fire('execute')
                  : this._findButtonView.fire('execute'),
                t(e));
            }),
            this._keystrokes.set('arrowright', e),
            this._keystrokes.set('arrowleft', e),
            this._keystrokes.set('arrowup', e),
            this._keystrokes.set('arrowdown', e),
            this.listenTo(
              this._findInputView.element,
              'selectstart',
              (e, t) => {
                t.stopPropagation();
              },
              {priority: 'high'}
            ),
            this.listenTo(
              this._replaceInputView.element,
              'selectstart',
              (e, t) => {
                t.stopPropagation();
              },
              {priority: 'high'}
            );
        }
        _createButton(e) {
          const t = new Xd(this.locale);
          return t.set(e), t;
        }
        _createInputField(e) {
          const t = new yh(this.locale, xh);
          return (t.label = e), t;
        }
      }
      class Ub extends Vn {
        static get pluginName() {
          return 'FindAndReplaceUI';
        }
        constructor(e) {
          super(e), (this.formView = null);
        }
        init() {
          const e = this.editor;
          e.ui.componentFactory.add('findAndReplace', (t) => {
            const i = zu(t),
              n = e.commands.get('find');
            return (
              i.bind('isEnabled').to(n),
              i.once('change:isOpen', () => {
                (this.formView = new (wd($b))(e.locale)),
                  i.panelView.children.add(this.formView),
                  this._setupFormView(this.formView);
              }),
              i.on(
                'change:isOpen',
                (e, t, i) => {
                  i
                    ? (this.formView.disableCssTransitions(),
                      this.formView.reset(),
                      this.formView._findInputView.fieldView.select(),
                      this.formView.enableCssTransitions())
                    : this.fire('searchReseted');
                },
                {priority: 'low'}
              ),
              this._setupDropdownButton(i),
              i
            );
          });
        }
        _setupDropdownButton(e) {
          const t = this.editor,
            i = t.locale.t;
          e.buttonView.set({
            icon: 'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"m12.87 13.786 1.532-1.286 3.857 4.596a1 1 0 1 1-1.532 1.286l-3.857-4.596z\\"/><path d=\\"M16.004 8.5a6.5 6.5 0 0 1-9.216 5.905c-1.154-.53-.863-1.415-.663-1.615.194-.194.564-.592 1.635-.141a4.5 4.5 0 0 0 5.89-5.904l-.104-.227 1.332-1.331c.045-.046.196-.041.224.007a6.47 6.47 0 0 1 .902 3.306zm-3.4-5.715c.562.305.742 1.106.354 1.494-.388.388-.995.414-1.476.178a4.5 4.5 0 0 0-6.086 5.882l.114.236-1.348 1.349c-.038.037-.17.022-.198-.023a6.5 6.5 0 0 1 5.54-9.9 6.469 6.469 0 0 1 3.1.784z\\"/><path d=\\"M4.001 11.93.948 8.877a.2.2 0 0 1 .141-.341h6.106a.2.2 0 0 1 .141.341L4.283 11.93a.2.2 0 0 1-.282 0zm11.083-6.789 3.053 3.053a.2.2 0 0 1-.14.342H11.89a.2.2 0 0 1-.14-.342l3.052-3.053a.2.2 0 0 1 .282 0z\\"/></svg>";',
            label: i('Find and replace'),
            keystroke: 'CTRL+F',
            tooltip: !0,
          }),
            t.keystrokes.set('Ctrl+F', (t, i) => {
              e.isEnabled && ((e.isOpen = !0), i());
            });
        }
        _setupFormView(e) {
          const t = this.editor.commands,
            i = this.editor.plugins.get('FindAndReplaceEditing').state,
            n = {before: -1, same: 0, after: 1, different: 1};
          e.bind('highlightOffset').to(i, 'highlightedResult', (e) =>
            e
              ? Array.from(i.results)
                  .sort(
                    (e, t) =>
                      n[e.marker.getStart().compareWith(t.marker.getStart())]
                  )
                  .indexOf(e) + 1
              : 0
          ),
            e.listenTo(i.results, 'change', () => {
              e.matchCount = i.results.length;
            });
          const o = t.get('findNext'),
            r = t.get('findPrevious'),
            s = t.get('replace'),
            a = t.get('replaceAll');
          e
            .bind('_areCommandsEnabled')
            .to(
              o,
              'isEnabled',
              r,
              'isEnabled',
              s,
              'isEnabled',
              a,
              'isEnabled',
              (e, t, i, n) => ({
                findNext: e,
                findPrevious: t,
                replace: i,
                replaceAll: n,
              })
            ),
            e
              .delegate('findNext', 'findPrevious', 'replace', 'replaceAll')
              .to(this),
            e.on('change:isDirty', (e, t, i) => {
              i && this.fire('searchReseted');
            });
        }
      }
      class Zb extends zn {
        constructor(e, t) {
          super(e),
            (this.isEnabled = !0),
            (this.affectsData = !1),
            (this._state = t);
        }
        execute(e, {matchCase: t, wholeWords: i} = {}) {
          const {editor: n} = this,
            {model: o} = n,
            r = n.plugins.get('FindAndReplaceUtils');
          let s;
          'string' == typeof e
            ? ((s = r.findByTextCallback(e, {matchCase: t, wholeWords: i})),
              (this._state.searchText = e))
            : (s = e);
          const a = o.document
            .getRootNames()
            .reduce(
              (e, t) =>
                r.updateFindResultFromRange(
                  o.createRangeIn(o.document.getRoot(t)),
                  o,
                  s,
                  e
                ),
              null
            );
          return (
            this._state.clear(o),
            this._state.results.addMany(a),
            (this._state.highlightedResult = a.get(0)),
            'string' == typeof e && (this._state.searchText = e),
            (this._state.matchCase = !!t),
            (this._state.matchWholeWords = !!i),
            {results: a, findCallback: s}
          );
        }
      }
      class Wb extends zn {
        constructor(e, t) {
          super(e), (this.isEnabled = !0), (this._state = t);
        }
        _replace(e, t) {
          const {model: i} = this.editor;
          i.change((n) => {
            const o = t.marker.getRange();
            if ('$graveyard' === o.root.rootName)
              return void this._state.results.remove(t);
            let r = {};
            for (const e of o.getItems())
              if (e.is('$text') || e.is('$textProxy')) {
                r = e.getAttributes();
                break;
              }
            i.insertContent(n.createText(e, r), o),
              this._state.results.has(t) && this._state.results.remove(t);
          });
        }
      }
      class qb extends Wb {
        execute(e, t) {
          this._replace(e, t);
        }
      }
      class Gb extends Wb {
        execute(e, t) {
          const {editor: i} = this,
            {model: n} = i,
            o = i.plugins.get('FindAndReplaceUtils'),
            r =
              t instanceof Tn
                ? t
                : n.document
                    .getRootNames()
                    .reduce(
                      (e, i) =>
                        o.updateFindResultFromRange(
                          n.createRangeIn(n.document.getRoot(i)),
                          n,
                          o.findByTextCallback(t, this._state),
                          e
                        ),
                      null
                    );
          r.length &&
            [...r].forEach((t) => {
              this._replace(e, t);
            });
        }
      }
      class Yb extends zn {
        constructor(e, t) {
          super(e),
            (this.affectsData = !1),
            (this._state = t),
            (this.isEnabled = !1),
            this.listenTo(this._state.results, 'change', () => {
              this.isEnabled = this._state.results.length > 1;
            });
        }
        refresh() {
          this.isEnabled = this._state.results.length > 1;
        }
        execute() {
          const e = this._state.results,
            t = e.getIndex(this._state.highlightedResult),
            i = t + 1 >= e.length ? 0 : t + 1;
          this._state.highlightedResult = this._state.results.get(i);
        }
      }
      class Kb extends Yb {
        execute() {
          const e = this._state.results.getIndex(this._state.highlightedResult),
            t = e - 1 < 0 ? this._state.results.length - 1 : e - 1;
          this._state.highlightedResult = this._state.results.get(t);
        }
      }
      class Qb extends z() {
        constructor(e) {
          super(),
            this.set('results', new Tn()),
            this.set('highlightedResult', null),
            this.set('searchText', ''),
            this.set('replaceText', ''),
            this.set('matchCase', !1),
            this.set('matchWholeWords', !1),
            this.results.on('change', (t, {removed: i, index: n}) => {
              if (Array.from(i).length) {
                let t = !1;
                if (
                  (e.change((n) => {
                    for (const o of i)
                      this.highlightedResult === o && (t = !0),
                        e.markers.has(o.marker.name) &&
                          n.removeMarker(o.marker);
                  }),
                  t)
                ) {
                  const e = n >= this.results.length ? 0 : n;
                  this.highlightedResult = this.results.get(e);
                }
              }
            });
        }
        clear(e) {
          (this.searchText = ''),
            e.change((t) => {
              if (this.highlightedResult) {
                const i = this.highlightedResult.marker.name.split(':')[1],
                  n = e.markers.get(`findResultHighlighted:${i}`);
                n && t.removeMarker(n);
              }
              [...this.results].forEach(({marker: e}) => {
                t.removeMarker(e);
              });
            }),
            this.results.clear();
        }
      }
      var Jb = /[\\^$.*+?()[\]{}|]/g,
        Xb = RegExp(Jb.source);
      class ek extends Vn {
        static get pluginName() {
          return 'FindAndReplaceUtils';
        }
        updateFindResultFromRange(e, t, i, n) {
          const o = n || new Tn();
          return (
            t.change((n) => {
              [...e].forEach(({type: e, item: r}) => {
                if ('elementStart' === e && t.schema.checkChild(r, '$text')) {
                  const e = i({
                    item: r,
                    text: this.rangeToText(t.createRangeIn(r)),
                  });
                  if (!e) return;
                  e.forEach((e) => {
                    const t = `findResult:${u()}`,
                      i = n.addMarker(t, {
                        usingOperation: !1,
                        affectsData: !1,
                        range: n.createRange(
                          n.createPositionAt(r, e.start),
                          n.createPositionAt(r, e.end)
                        ),
                      }),
                      s = (function (e, t) {
                        const i = e.find(({marker: e}) =>
                          t.getStart().isBefore(e.getStart())
                        );
                        return i ? e.getIndex(i) : e.length;
                      })(o, i);
                    o.add({id: t, label: e.label, marker: i}, s);
                  });
                }
              });
            }),
            o
          );
        }
        rangeToText(e) {
          return Array.from(e.getItems()).reduce(
            (e, t) =>
              t.is('$text') || t.is('$textProxy') ? e + t.data : `${e}\n`,
            ''
          );
        }
        findByTextCallback(e, t) {
          let i = 'gu';
          t.matchCase || (i += 'i');
          let n = `(${
            ((o = e), (o = Io(o)) && Xb.test(o) ? o.replace(Jb, '\\$&') : o)
          })`;
          var o;
          if (t.wholeWords) {
            const t = '[^a-zA-ZÀ-ɏḀ-ỿ]';
            new RegExp('^' + t).test(e) || (n = `(^|${t}|_)${n}`),
              new RegExp(t + '$').test(e) || (n = `${n}(?=_|${t}|$)`);
          }
          const r = new RegExp(n, i);
          return function ({text: e}) {
            return [...e.matchAll(r)].map(tk);
          };
        }
      }
      function tk(e) {
        const t = e.length - 1;
        let i = e.index;
        return (
          3 === e.length && (i += e[1].length),
          {label: e[t], start: i, end: i + e[t].length}
        );
      }
      var ik = i(819),
        nk = {attributes: {'data-cke': !0}};
      (nk.setAttributes = Qn()),
        (nk.insert = Yn().bind(null, 'head')),
        (nk.domAPI = qn()),
        (nk.insertStyleElement = Xn()),
        Zn()(ik.Z, nk),
        ik.Z && ik.Z.locals && ik.Z.locals;
      class ok extends Vn {
        static get requires() {
          return [ek];
        }
        static get pluginName() {
          return 'FindAndReplaceEditing';
        }
        init() {
          (this._activeResults = null),
            (this.state = new Qb(this.editor.model)),
            this._defineConverters(),
            this._defineCommands(),
            this.listenTo(
              this.state,
              'change:highlightedResult',
              (e, t, i, n) => {
                const {model: o} = this.editor;
                o.change((e) => {
                  if (n) {
                    const t = n.marker.name.split(':')[1],
                      i = o.markers.get(`findResultHighlighted:${t}`);
                    i && e.removeMarker(i);
                  }
                  if (i) {
                    const t = i.marker.name.split(':')[1];
                    e.addMarker(`findResultHighlighted:${t}`, {
                      usingOperation: !1,
                      affectsData: !1,
                      range: i.marker.getRange(),
                    });
                  }
                });
              }
            );
          const e = Is(
            ((e, t, i) => {
              if (i) {
                const e = this.editor.editing.view.domConverter,
                  t = this.editor.editing.mapper.toViewRange(
                    i.marker.getRange()
                  );
                rn({target: e.viewRangeToDom(t), viewportOffset: 40});
              }
            }).bind(this),
            32
          );
          this.listenTo(this.state, 'change:highlightedResult', e, {
            priority: 'low',
          }),
            this.listenTo(this.editor, 'destroy', e.cancel);
        }
        find(e) {
          const {editor: t} = this,
            {model: i} = t,
            {findCallback: n, results: o} = t.execute('find', e);
          return (
            (this._activeResults = o),
            this.listenTo(i.document, 'change:data', () =>
              (function (e, t, i) {
                const n = new Set(),
                  o = new Set(),
                  r = t.model;
                r.document.differ.getChanges().forEach((e) => {
                  '$text' === e.name || r.schema.isInline(e.position.nodeAfter)
                    ? (n.add(e.position.parent),
                      [...r.markers.getMarkersAtPosition(e.position)].forEach(
                        (e) => {
                          o.add(e.name);
                        }
                      ))
                    : 'insert' === e.type && n.add(e.position.nodeAfter);
                }),
                  r.document.differ
                    .getChangedMarkers()
                    .forEach(({name: e, data: {newRange: t}}) => {
                      t && '$graveyard' === t.start.root.rootName && o.add(e);
                    }),
                  n.forEach((e) => {
                    [
                      ...r.markers.getMarkersIntersectingRange(
                        r.createRangeIn(e)
                      ),
                    ].forEach((e) => o.add(e.name));
                  }),
                  r.change((t) => {
                    o.forEach((i) => {
                      e.has(i) && e.remove(i), t.removeMarker(i);
                    });
                  }),
                  n.forEach((n) => {
                    t.plugins
                      .get('FindAndReplaceUtils')
                      .updateFindResultFromRange(r.createRangeOn(n), r, i, e);
                  });
              })(this._activeResults, t, n)
            ),
            this._activeResults
          );
        }
        stop() {
          this._activeResults &&
            (this.stopListening(this.editor.model.document),
            this.state.clear(this.editor.model),
            (this._activeResults = null));
        }
        _defineCommands() {
          this.editor.commands.add('find', new Zb(this.editor, this.state)),
            this.editor.commands.add(
              'findNext',
              new Yb(this.editor, this.state)
            ),
            this.editor.commands.add(
              'findPrevious',
              new Kb(this.editor, this.state)
            ),
            this.editor.commands.add(
              'replace',
              new qb(this.editor, this.state)
            ),
            this.editor.commands.add(
              'replaceAll',
              new Gb(this.editor, this.state)
            );
        }
        _defineConverters() {
          const {editor: e} = this;
          e.conversion.for('editingDowncast').markerToHighlight({
            model: 'findResult',
            view: ({markerName: e}) => {
              const [, t] = e.split(':');
              return {
                name: 'span',
                classes: ['ck-find-result'],
                attributes: {'data-find-result': t},
              };
            },
          }),
            e.conversion.for('editingDowncast').markerToHighlight({
              model: 'findResultHighlighted',
              view: ({markerName: e}) => {
                const [, t] = e.split(':');
                return {
                  name: 'span',
                  classes: ['ck-find-result_selected'],
                  attributes: {'data-find-result': t},
                };
              },
            });
        }
      }
      class rk extends Vn {
        static get requires() {
          return [ok, Ub];
        }
        static get pluginName() {
          return 'FindAndReplace';
        }
        init() {
          const e = this.editor.plugins.get('FindAndReplaceUI'),
            t = this.editor.plugins.get('FindAndReplaceEditing'),
            i = t.state;
          e.on('findNext', (e, t) => {
            t
              ? ((i.searchText = t.searchText),
                this.editor.execute('find', t.searchText, t))
              : this.editor.execute('findNext');
          }),
            e.on('findPrevious', (e, t) => {
              t && i.searchText !== t.searchText
                ? this.editor.execute('find', t.searchText)
                : this.editor.execute('findPrevious');
            }),
            e.on('replace', (e, t) => {
              i.searchText !== t.searchText &&
                this.editor.execute('find', t.searchText);
              const n = i.highlightedResult;
              n && this.editor.execute('replace', t.replaceText, n);
            }),
            e.on('replaceAll', (e, t) => {
              i.searchText !== t.searchText &&
                this.editor.execute('find', t.searchText),
                this.editor.execute('replaceAll', t.replaceText, i.results);
            }),
            e.on('searchReseted', () => {
              i.clear(this.editor.model), t.stop();
            });
        }
      }
      function sk(e, t, i, n) {
        t &&
          (function (e, t, i) {
            if (t.attributes)
              for (const [n] of Object.entries(t.attributes))
                e.removeAttribute(n, i);
            if (t.styles)
              for (const n of Object.keys(t.styles)) e.removeStyle(n, i);
            t.classes && e.removeClass(t.classes, i);
          })(e, t, n),
          i && ak(e, i, n);
      }
      function ak(e, t, i) {
        if (t.attributes)
          for (const [n, o] of Object.entries(t.attributes))
            e.setAttribute(n, o, i);
        t.styles && e.setStyle(t.styles, i),
          t.classes && e.addClass(t.classes, i);
      }
      function lk(e, t) {
        const i = Ba(e);
        let n = 'attributes';
        for (n in t)
          i[n] =
            'classes' == n
              ? Array.from(new Set([...(e[n] || []), ...t[n]]))
              : {...e[n], ...t[n]};
        return i;
      }
      function ck({model: e}) {
        return (t, i) =>
          i.writer.createElement(e, {
            htmlContent: t.getCustomProperty('$rawContent'),
          });
      }
      function dk(e, {view: t, isInline: i}) {
        const n = e.t;
        return (e, {writer: o}) => {
          const r = n('HTML object'),
            s = uk(t, e, o),
            a = e.getAttribute('htmlAttributes');
          return (
            o.addClass('html-object-embed__content', s),
            a && ak(o, a, s),
            Lm(
              o.createContainerElement(
                i ? 'span' : 'div',
                {class: 'html-object-embed', 'data-html-object-embed-label': r},
                s
              ),
              o,
              {label: r}
            )
          );
        };
      }
      function uk(e, t, i) {
        return i.createRawElement(e, null, (e, i) => {
          i.setContentOf(e, t.getAttribute('htmlContent'));
        });
      }
      function hk({priority: e, view: t}) {
        return (i, n) => {
          if (!i) return;
          const {writer: o} = n,
            r = o.createAttributeElement(t, null, {priority: e});
          return ak(o, i, r), r;
        };
      }
      function mk({view: e}, t) {
        return (i) => {
          i.on(
            `element:${e}`,
            (e, i, n) => {
              if (!i.modelRange || i.modelRange.isCollapsed) return;
              const o = t.processViewAttributes(i.viewItem, n);
              o && n.writer.setAttribute('htmlAttributes', o, i.modelRange);
            },
            {priority: 'low'}
          );
        };
      }
      function gk({model: e}) {
        return (t) => {
          t.on(`attribute:htmlAttributes:${e}`, (e, t, i) => {
            if (!i.consumable.consume(t.item, e.name)) return;
            const {attributeOldValue: n, attributeNewValue: o} = t;
            sk(i.writer, n, o, i.mapper.toViewElement(t.item));
          });
        };
      }
      var fk = [
          {model: 'codeBlock', view: 'pre'},
          {model: 'paragraph', view: 'p'},
          {model: 'blockQuote', view: 'blockquote'},
          {model: 'listItem', view: 'li'},
          {model: 'pageBreak', view: 'div'},
          {model: 'rawHtml', view: 'div'},
          {model: 'table', view: 'table'},
          {model: 'tableRow', view: 'tr'},
          {model: 'tableCell', view: 'td'},
          {model: 'tableCell', view: 'th'},
          {model: 'tableColumnGroup', view: 'colgroup'},
          {model: 'tableColumn', view: 'col'},
          {model: 'caption', view: 'caption'},
          {model: 'caption', view: 'figcaption'},
          {model: 'imageBlock', view: 'img'},
          {model: 'imageInline', view: 'img'},
          {model: 'htmlP', view: 'p', modelSchema: {inheritAllFrom: '$block'}},
          {
            model: 'htmlBlockquote',
            view: 'blockquote',
            modelSchema: {inheritAllFrom: '$container'},
          },
          {
            model: 'htmlTable',
            view: 'table',
            modelSchema: {allowWhere: '$block', isBlock: !0},
          },
          {
            model: 'htmlTbody',
            view: 'tbody',
            modelSchema: {allowIn: 'htmlTable', isBlock: !1},
          },
          {
            model: 'htmlThead',
            view: 'thead',
            modelSchema: {allowIn: 'htmlTable', isBlock: !1},
          },
          {
            model: 'htmlTfoot',
            view: 'tfoot',
            modelSchema: {allowIn: 'htmlTable', isBlock: !1},
          },
          {
            model: 'htmlCaption',
            view: 'caption',
            modelSchema: {
              allowIn: 'htmlTable',
              allowChildren: '$text',
              isBlock: !1,
            },
          },
          {
            model: 'htmlColgroup',
            view: 'colgroup',
            modelSchema: {
              allowIn: 'htmlTable',
              allowChildren: 'col',
              isBlock: !1,
            },
          },
          {
            model: 'htmlCol',
            view: 'col',
            modelSchema: {allowIn: 'htmlColgroup', isBlock: !1},
          },
          {
            model: 'htmlTr',
            view: 'tr',
            modelSchema: {
              allowIn: ['htmlTable', 'htmlThead', 'htmlTbody'],
              isLimit: !0,
            },
          },
          {
            model: 'htmlTd',
            view: 'td',
            modelSchema: {
              allowIn: 'htmlTr',
              allowContentOf: '$container',
              isLimit: !0,
              isBlock: !1,
            },
          },
          {
            model: 'htmlTh',
            view: 'th',
            modelSchema: {
              allowIn: 'htmlTr',
              allowContentOf: '$container',
              isLimit: !0,
              isBlock: !1,
            },
          },
          {
            model: 'htmlFigure',
            view: 'figure',
            modelSchema: {inheritAllFrom: '$container', isBlock: !1},
          },
          {
            model: 'htmlFigcaption',
            view: 'figcaption',
            modelSchema: {
              allowIn: 'htmlFigure',
              allowChildren: '$text',
              isBlock: !1,
            },
          },
          {
            model: 'htmlAddress',
            view: 'address',
            modelSchema: {inheritAllFrom: '$container', isBlock: !1},
          },
          {
            model: 'htmlAside',
            view: 'aside',
            modelSchema: {inheritAllFrom: '$container', isBlock: !1},
          },
          {
            model: 'htmlMain',
            view: 'main',
            modelSchema: {inheritAllFrom: '$container', isBlock: !1},
          },
          {
            model: 'htmlDetails',
            view: 'details',
            modelSchema: {inheritAllFrom: '$container', isBlock: !1},
          },
          {
            model: 'htmlSummary',
            view: 'summary',
            modelSchema: {
              allowChildren: '$text',
              allowIn: 'htmlDetails',
              isBlock: !1,
            },
          },
          {
            model: 'htmlDiv',
            view: 'div',
            paragraphLikeModel: 'htmlDivParagraph',
            modelSchema: {inheritAllFrom: '$container'},
          },
          {
            model: 'htmlFieldset',
            view: 'fieldset',
            modelSchema: {inheritAllFrom: '$container', isBlock: !1},
          },
          {
            model: 'htmlLegend',
            view: 'legend',
            modelSchema: {allowIn: 'htmlFieldset', allowChildren: '$text'},
          },
          {
            model: 'htmlHeader',
            view: 'header',
            modelSchema: {inheritAllFrom: '$container', isBlock: !1},
          },
          {
            model: 'htmlFooter',
            view: 'footer',
            modelSchema: {inheritAllFrom: '$container', isBlock: !1},
          },
          {
            model: 'htmlForm',
            view: 'form',
            modelSchema: {inheritAllFrom: '$container', isBlock: !0},
          },
          {
            model: 'htmlHgroup',
            view: 'hgroup',
            modelSchema: {
              allowChildren: [
                'htmlH1',
                'htmlH2',
                'htmlH3',
                'htmlH4',
                'htmlH5',
                'htmlH6',
              ],
              isBlock: !1,
            },
          },
          {
            model: 'htmlH1',
            view: 'h1',
            modelSchema: {inheritAllFrom: '$block'},
          },
          {
            model: 'htmlH2',
            view: 'h2',
            modelSchema: {inheritAllFrom: '$block'},
          },
          {
            model: 'htmlH3',
            view: 'h3',
            modelSchema: {inheritAllFrom: '$block'},
          },
          {
            model: 'htmlH4',
            view: 'h4',
            modelSchema: {inheritAllFrom: '$block'},
          },
          {
            model: 'htmlH5',
            view: 'h5',
            modelSchema: {inheritAllFrom: '$block'},
          },
          {
            model: 'htmlH6',
            view: 'h6',
            modelSchema: {inheritAllFrom: '$block'},
          },
          {
            model: '$htmlList',
            modelSchema: {
              allowWhere: '$container',
              allowChildren: ['$htmlList', 'htmlLi'],
              isBlock: !1,
            },
          },
          {
            model: 'htmlDir',
            view: 'dir',
            modelSchema: {inheritAllFrom: '$htmlList'},
          },
          {
            model: 'htmlMenu',
            view: 'menu',
            modelSchema: {inheritAllFrom: '$htmlList'},
          },
          {
            model: 'htmlUl',
            view: 'ul',
            modelSchema: {inheritAllFrom: '$htmlList'},
          },
          {
            model: 'htmlOl',
            view: 'ol',
            modelSchema: {inheritAllFrom: '$htmlList'},
          },
          {
            model: 'htmlLi',
            view: 'li',
            modelSchema: {
              allowIn: '$htmlList',
              allowChildren: '$text',
              isBlock: !1,
            },
          },
          {
            model: 'htmlPre',
            view: 'pre',
            modelSchema: {inheritAllFrom: '$block'},
          },
          {
            model: 'htmlArticle',
            view: 'article',
            modelSchema: {inheritAllFrom: '$container', isBlock: !1},
          },
          {
            model: 'htmlSection',
            view: 'section',
            modelSchema: {inheritAllFrom: '$container', isBlock: !1},
          },
          {
            model: 'htmlNav',
            view: 'nav',
            modelSchema: {inheritAllFrom: '$container', isBlock: !1},
          },
          {
            model: 'htmlDivDl',
            view: 'div',
            modelSchema: {
              allowChildren: ['htmlDt', 'htmlDd'],
              allowIn: 'htmlDl',
            },
          },
          {
            model: 'htmlDl',
            view: 'dl',
            modelSchema: {
              allowWhere: '$container',
              allowChildren: ['htmlDt', 'htmlDd', 'htmlDivDl'],
              isBlock: !1,
            },
          },
          {
            model: 'htmlDt',
            view: 'dt',
            modelSchema: {allowChildren: '$block', isBlock: !1},
          },
          {
            model: 'htmlDd',
            view: 'dd',
            modelSchema: {allowChildren: '$block', isBlock: !1},
          },
          {
            model: 'htmlCenter',
            view: 'center',
            modelSchema: {inheritAllFrom: '$container', isBlock: !1},
          },
        ],
        pk = [
          {
            model: 'htmlAcronym',
            view: 'acronym',
            attributeProperties: {copyOnEnter: !0},
          },
          {model: 'htmlTt', view: 'tt', attributeProperties: {copyOnEnter: !0}},
          {
            model: 'htmlFont',
            view: 'font',
            attributeProperties: {copyOnEnter: !0},
          },
          {
            model: 'htmlTime',
            view: 'time',
            attributeProperties: {copyOnEnter: !0},
          },
          {
            model: 'htmlVar',
            view: 'var',
            attributeProperties: {copyOnEnter: !0},
          },
          {
            model: 'htmlBig',
            view: 'big',
            attributeProperties: {copyOnEnter: !0},
          },
          {
            model: 'htmlSmall',
            view: 'small',
            attributeProperties: {copyOnEnter: !0},
          },
          {
            model: 'htmlSamp',
            view: 'samp',
            attributeProperties: {copyOnEnter: !0},
          },
          {model: 'htmlQ', view: 'q', attributeProperties: {copyOnEnter: !0}},
          {
            model: 'htmlOutput',
            view: 'output',
            attributeProperties: {copyOnEnter: !0},
          },
          {
            model: 'htmlKbd',
            view: 'kbd',
            attributeProperties: {copyOnEnter: !0},
          },
          {
            model: 'htmlBdi',
            view: 'bdi',
            attributeProperties: {copyOnEnter: !0},
          },
          {
            model: 'htmlBdo',
            view: 'bdo',
            attributeProperties: {copyOnEnter: !0},
          },
          {
            model: 'htmlAbbr',
            view: 'abbr',
            attributeProperties: {copyOnEnter: !0},
          },
          {
            model: 'htmlA',
            view: 'a',
            priority: 5,
            coupledAttribute: 'linkHref',
            attributeProperties: {copyOnEnter: !0},
          },
          {
            model: 'htmlStrong',
            view: 'strong',
            coupledAttribute: 'bold',
            attributeProperties: {copyOnEnter: !0, isFormatting: !0},
          },
          {
            model: 'htmlB',
            view: 'b',
            coupledAttribute: 'bold',
            attributeProperties: {copyOnEnter: !0, isFormatting: !0},
          },
          {
            model: 'htmlI',
            view: 'i',
            coupledAttribute: 'italic',
            attributeProperties: {copyOnEnter: !0, isFormatting: !0},
          },
          {
            model: 'htmlEm',
            view: 'em',
            coupledAttribute: 'italic',
            attributeProperties: {copyOnEnter: !0, isFormatting: !0},
          },
          {
            model: 'htmlS',
            view: 's',
            coupledAttribute: 'strikethrough',
            attributeProperties: {copyOnEnter: !0, isFormatting: !0},
          },
          {
            model: 'htmlDel',
            view: 'del',
            coupledAttribute: 'strikethrough',
            attributeProperties: {copyOnEnter: !0},
          },
          {
            model: 'htmlIns',
            view: 'ins',
            attributeProperties: {copyOnEnter: !0},
          },
          {
            model: 'htmlU',
            view: 'u',
            coupledAttribute: 'underline',
            attributeProperties: {copyOnEnter: !0, isFormatting: !0},
          },
          {
            model: 'htmlSub',
            view: 'sub',
            coupledAttribute: 'subscript',
            attributeProperties: {copyOnEnter: !0, isFormatting: !0},
          },
          {
            model: 'htmlSup',
            view: 'sup',
            coupledAttribute: 'superscript',
            attributeProperties: {copyOnEnter: !0, isFormatting: !0},
          },
          {
            model: 'htmlCode',
            view: 'code',
            coupledAttribute: 'code',
            attributeProperties: {copyOnEnter: !0, isFormatting: !0},
          },
          {
            model: 'htmlMark',
            view: 'mark',
            attributeProperties: {copyOnEnter: !0},
          },
          {
            model: 'htmlSpan',
            view: 'span',
            attributeProperties: {copyOnEnter: !0},
          },
          {
            model: 'htmlCite',
            view: 'cite',
            attributeProperties: {copyOnEnter: !0},
          },
          {
            model: 'htmlLabel',
            view: 'label',
            attributeProperties: {copyOnEnter: !0},
          },
          {
            model: 'htmlDfn',
            view: 'dfn',
            attributeProperties: {copyOnEnter: !0},
          },
          {
            model: 'htmlObject',
            view: 'object',
            isObject: !0,
            modelSchema: {inheritAllFrom: '$inlineObject'},
          },
          {
            model: 'htmlIframe',
            view: 'iframe',
            isObject: !0,
            modelSchema: {inheritAllFrom: '$inlineObject'},
          },
          {
            model: 'htmlInput',
            view: 'input',
            isObject: !0,
            modelSchema: {inheritAllFrom: '$inlineObject'},
          },
          {
            model: 'htmlButton',
            view: 'button',
            isObject: !0,
            modelSchema: {inheritAllFrom: '$inlineObject'},
          },
          {
            model: 'htmlTextarea',
            view: 'textarea',
            isObject: !0,
            modelSchema: {inheritAllFrom: '$inlineObject'},
          },
          {
            model: 'htmlSelect',
            view: 'select',
            isObject: !0,
            modelSchema: {inheritAllFrom: '$inlineObject'},
          },
          {
            model: 'htmlVideo',
            view: 'video',
            isObject: !0,
            modelSchema: {inheritAllFrom: '$inlineObject'},
          },
          {
            model: 'htmlEmbed',
            view: 'embed',
            isObject: !0,
            modelSchema: {inheritAllFrom: '$inlineObject'},
          },
          {
            model: 'htmlOembed',
            view: 'oembed',
            isObject: !0,
            modelSchema: {inheritAllFrom: '$inlineObject'},
          },
          {
            model: 'htmlAudio',
            view: 'audio',
            isObject: !0,
            modelSchema: {inheritAllFrom: '$inlineObject'},
          },
          {
            model: 'htmlImg',
            view: 'img',
            isObject: !0,
            modelSchema: {inheritAllFrom: '$inlineObject'},
          },
          {
            model: 'htmlCanvas',
            view: 'canvas',
            isObject: !0,
            modelSchema: {inheritAllFrom: '$inlineObject'},
          },
          {
            model: 'htmlMeter',
            view: 'meter',
            isObject: !0,
            modelSchema: {inheritAllFrom: '$inlineObject'},
          },
          {
            model: 'htmlProgress',
            view: 'progress',
            isObject: !0,
            modelSchema: {inheritAllFrom: '$inlineObject'},
          },
          {
            model: 'htmlScript',
            view: 'script',
            modelSchema: {allowWhere: ['$text', '$block'], isInline: !0},
          },
          {
            model: 'htmlStyle',
            view: 'style',
            modelSchema: {allowWhere: ['$text', '$block'], isInline: !0},
          },
          {
            model: 'htmlCustomElement',
            view: '$customElement',
            modelSchema: {allowWhere: ['$text', '$block'], isInline: !0},
          },
        ],
        bk = qo(function (e, t, i, n) {
          Fo(e, t, i, n);
        });
      class kk extends Vn {
        constructor(e) {
          super(e), (this._definitions = new Map());
        }
        static get pluginName() {
          return 'DataSchema';
        }
        init() {
          for (const e of fk) this.registerBlockElement(e);
          for (const e of pk) this.registerInlineElement(e);
        }
        registerBlockElement(e) {
          this._definitions.set(e.model, {...e, isBlock: !0});
        }
        registerInlineElement(e) {
          this._definitions.set(e.model, {...e, isInline: !0});
        }
        extendBlockElement(e) {
          this._extendDefinition({...e, isBlock: !0});
        }
        extendInlineElement(e) {
          this._extendDefinition({...e, isInline: !0});
        }
        getDefinitionsForView(e, t = !1) {
          const i = new Set();
          for (const n of this._getMatchingViewDefinitions(e)) {
            if (t) for (const e of this._getReferences(n.model)) i.add(e);
            i.add(n);
          }
          return i;
        }
        _getMatchingViewDefinitions(e) {
          return Array.from(this._definitions.values()).filter(
            (t) =>
              t.view &&
              (function (e, t) {
                return 'string' == typeof e
                  ? e === t
                  : e instanceof RegExp && e.test(t);
              })(e, t.view)
          );
        }
        *_getReferences(e) {
          const {modelSchema: t} = this._definitions.get(e);
          if (!t) return;
          const i = [
            'inheritAllFrom',
            'inheritTypesFrom',
            'allowWhere',
            'allowContentOf',
            'allowAttributesOf',
          ];
          for (const n of i)
            for (const i of xn(t[n] || [])) {
              const t = this._definitions.get(i);
              i !== e && t && (yield* this._getReferences(t.model), yield t);
            }
        }
        _extendDefinition(e) {
          const t = this._definitions.get(e.model),
            i = bk({}, t, e, (e, t) =>
              Array.isArray(e) ? e.concat(t) : void 0
            );
          this._definitions.set(e.model, i);
        }
      }
      var wk = function (e) {
          return e != e;
        },
        _k = function (e, t, i) {
          return t == t
            ? (function (e, t, i) {
                for (var n = i - 1, o = e.length; ++n < o; )
                  if (e[n] === t) return n;
                return -1;
              })(e, t, i)
            : (function (e, t, i, n) {
                for (
                  var o = e.length, r = i + (n ? 1 : -1);
                  n ? r-- : ++r < o;

                )
                  if (t(e[r], r, e)) return r;
                return -1;
              })(e, wk, i);
        },
        vk = function (e, t, i, n) {
          for (var o = i - 1, r = e.length; ++o < r; ) if (n(e[o], t)) return o;
          return -1;
        },
        yk = Array.prototype.splice,
        xk = Wo(function (e, t) {
          return e && e.length && t && t.length
            ? (function (e, t, i, n) {
                var o = n ? vk : _k,
                  r = -1,
                  s = t.length,
                  a = e;
                for (e === t && (t = Ot(t)), i && (a = Co(e, ut(i))); ++r < s; )
                  for (
                    var l = 0, c = t[r], d = i ? i(c) : c;
                    (l = o(a, d, l, n)) > -1;

                  )
                    a !== e && yk.call(a, l, 1), yk.call(e, l, 1);
                return e;
              })(e, t)
            : e;
        }),
        Ak = i(7003),
        Ck = {attributes: {'data-cke': !0}};
      (Ck.setAttributes = Qn()),
        (Ck.insert = Yn().bind(null, 'head')),
        (Ck.domAPI = qn()),
        (Ck.insertStyleElement = Xn()),
        Zn()(Ak.Z, Ck),
        Ak.Z && Ak.Z.locals && Ak.Z.locals;
      class Ek extends Vn {
        constructor(e) {
          super(e),
            (this._dataSchema = e.plugins.get('DataSchema')),
            (this._allowedAttributes = new mo()),
            (this._disallowedAttributes = new mo()),
            (this._allowedElements = new Set()),
            (this._disallowedElements = new Set()),
            (this._dataInitialized = !1),
            (this._coupledAttributes = null),
            this._registerElementsAfterInit(),
            this._registerElementHandlers(),
            this._registerModelPostFixer();
        }
        static get pluginName() {
          return 'DataFilter';
        }
        static get requires() {
          return [kk, ng];
        }
        loadAllowedConfig(e) {
          for (const t of e) {
            const e = t.name || /[\s\S]+/,
              i = Mk(t);
            this.allowElement(e), i.forEach((e) => this.allowAttributes(e));
          }
        }
        loadDisallowedConfig(e) {
          for (const t of e) {
            const e = t.name || /[\s\S]+/,
              i = Mk(t);
            0 == i.length
              ? this.disallowElement(e)
              : i.forEach((e) => this.disallowAttributes(e));
          }
        }
        allowElement(e) {
          for (const t of this._dataSchema.getDefinitionsForView(e, !0))
            this._allowedElements.has(t) ||
              (this._allowedElements.add(t),
              this._dataInitialized &&
                this.editor.data.once(
                  'set',
                  () => {
                    this._fireRegisterEvent(t);
                  },
                  {priority: h.get('highest') + 1}
                ),
              (this._coupledAttributes = null));
        }
        disallowElement(e) {
          for (const t of this._dataSchema.getDefinitionsForView(e, !1))
            this._disallowedElements.add(t.view);
        }
        allowAttributes(e) {
          this._allowedAttributes.add(e);
        }
        disallowAttributes(e) {
          this._disallowedAttributes.add(e);
        }
        processViewAttributes(e, t) {
          return (
            Tk(e, t, this._disallowedAttributes),
            Tk(e, t, this._allowedAttributes)
          );
        }
        _registerElementsAfterInit() {
          this.editor.data.on(
            'init',
            () => {
              this._dataInitialized = !0;
              for (const e of this._allowedElements) this._fireRegisterEvent(e);
            },
            {priority: h.get('highest') + 1}
          );
        }
        _registerElementHandlers() {
          this.on(
            'register',
            (e, t) => {
              const i = this.editor.model.schema;
              if (t.isObject && !i.isRegistered(t.model))
                this._registerObjectElement(t);
              else if (t.isBlock) this._registerBlockElement(t);
              else {
                if (!t.isInline)
                  throw new f('data-filter-invalid-definition', null, t);
                this._registerInlineElement(t);
              }
              e.stop();
            },
            {priority: 'lowest'}
          );
        }
        _registerModelPostFixer() {
          const e = this.editor.model;
          e.document.registerPostFixer((t) => {
            const i = e.document.differ.getChanges();
            let n = !1;
            const o = this._getCoupledAttributesMap();
            for (const e of i) {
              if ('attribute' != e.type || null !== e.attributeNewValue)
                continue;
              const i = o.get(e.attributeKey);
              if (i)
                for (const {item: o} of e.range.getWalker({shallow: !0}))
                  for (const e of i)
                    o.hasAttribute(e) && (t.removeAttribute(e, o), (n = !0));
            }
            return n;
          });
        }
        _getCoupledAttributesMap() {
          if (this._coupledAttributes) return this._coupledAttributes;
          this._coupledAttributes = new Map();
          for (const e of this._allowedElements)
            if (e.coupledAttribute && e.model) {
              const t = this._coupledAttributes.get(e.coupledAttribute);
              t
                ? t.push(e.model)
                : this._coupledAttributes.set(e.coupledAttribute, [e.model]);
            }
          return this._coupledAttributes;
        }
        _fireRegisterEvent(e) {
          (e.view && this._disallowedElements.has(e.view)) ||
            this.fire(e.view ? `register:${e.view}` : 'register', e);
        }
        _registerObjectElement(e) {
          const t = this.editor,
            i = t.model.schema,
            n = t.conversion,
            {view: o, model: r} = e;
          i.register(r, e.modelSchema),
            o &&
              (i.extend(e.model, {
                allowAttributes: ['htmlAttributes', 'htmlContent'],
              }),
              t.data.registerRawContentMatcher({name: o}),
              n.for('upcast').elementToElement({
                view: o,
                model: ck(e),
                converterPriority: h.get('low') + 1,
              }),
              n.for('upcast').add(mk(e, this)),
              n.for('editingDowncast').elementToStructure({
                model: {name: r, attributes: ['htmlAttributes']},
                view: dk(t, e),
              }),
              n.for('dataDowncast').elementToElement({
                model: r,
                view: (e, {writer: t}) => uk(o, e, t),
              }),
              n.for('dataDowncast').add(gk(e)));
        }
        _registerBlockElement(e) {
          const t = this.editor,
            i = t.model.schema,
            n = t.conversion,
            {view: o, model: r} = e;
          if (!i.isRegistered(e.model)) {
            if ((i.register(e.model, e.modelSchema), !o)) return;
            n.for('upcast').elementToElement({
              model: r,
              view: o,
              converterPriority: h.get('low') + 1,
            }),
              n.for('downcast').elementToElement({model: r, view: o});
          }
          o &&
            (i.extend(e.model, {allowAttributes: 'htmlAttributes'}),
            n.for('upcast').add(mk(e, this)),
            n.for('downcast').add(gk(e)));
        }
        _registerInlineElement(e) {
          const t = this.editor,
            i = t.model.schema,
            n = t.conversion,
            o = e.model;
          i.extend('$text', {allowAttributes: o}),
            e.attributeProperties &&
              i.setAttributeProperties(o, e.attributeProperties),
            n.for('upcast').add(
              (function ({view: e, model: t}, i) {
                return (n) => {
                  n.on(
                    `element:${e}`,
                    (e, n, o) => {
                      let r = i.processViewAttributes(n.viewItem, o);
                      if (r || o.consumable.test(n.viewItem, {name: !0})) {
                        (r = r || {}),
                          o.consumable.consume(n.viewItem, {name: !0}),
                          n.modelRange ||
                            (n = Object.assign(
                              n,
                              o.convertChildren(n.viewItem, n.modelCursor)
                            ));
                        for (const e of n.modelRange.getItems())
                          if (o.schema.checkAttribute(e, t)) {
                            const i = lk(r, e.getAttribute(t) || {});
                            o.writer.setAttribute(t, i, e);
                          }
                      }
                    },
                    {priority: 'low'}
                  );
                };
              })(e, this)
            ),
            n.for('downcast').attributeToElement({model: o, view: hk(e)});
        }
      }
      function Tk(e, t, i) {
        const n = (function (e, {consumable: t}, i) {
            const n = i.matchAll(e) || [],
              o = [];
            for (const i of n)
              Sk(t, e, i),
                delete i.match.name,
                t.consume(e, i.match),
                o.push(i);
            return o;
          })(e, t, i),
          {
            attributes: o,
            styles: r,
            classes: s,
          } = (function (e) {
            const t = {
              attributes: new Set(),
              classes: new Set(),
              styles: new Set(),
            };
            for (const i of e)
              for (const e in t) (i.match[e] || []).forEach((i) => t[e].add(i));
            return t;
          })(n),
          a = {};
        if (o.size) for (const e of o) Rk(e) || o.delete(e);
        return (
          o.size && (a.attributes = Ik(o, (t) => e.getAttribute(t))),
          r.size && (a.styles = Ik(r, (t) => e.getStyle(t))),
          s.size && (a.classes = Array.from(s)),
          Object.keys(a).length ? a : null
        );
      }
      function Sk(e, t, i) {
        for (const n of ['attributes', 'classes', 'styles']) {
          const o = i.match[n];
          if (o)
            for (const i of Array.from(o)) e.test(t, {[n]: [i]}) || xk(o, i);
        }
      }
      function Ik(e, t) {
        const i = {};
        for (const n of e) void 0 !== t(n) && (i[n] = t(n));
        return i;
      }
      function Pk(e, t) {
        const {name: i} = e,
          n = e[t];
        return pe(n)
          ? Object.entries(n).map(([e, n]) => ({name: i, [t]: {[e]: n}}))
          : Array.isArray(n)
          ? n.map((e) => ({name: i, [t]: [e]}))
          : [e];
      }
      function Mk(e) {
        const {name: t, attributes: i, classes: n, styles: o} = e,
          r = [];
        return (
          i && r.push(...Pk({name: t, attributes: i}, 'attributes')),
          n && r.push(...Pk({name: t, classes: n}, 'classes')),
          o && r.push(...Pk({name: t, styles: o}, 'styles')),
          r
        );
      }
      function Rk(e) {
        try {
          document.createAttribute(e);
        } catch (e) {
          return !1;
        }
        return !0;
      }
      class Nk extends Vn {
        static get requires() {
          return [Ek];
        }
        static get pluginName() {
          return 'CodeBlockElementSupport';
        }
        init() {
          if (!this.editor.plugins.has('CodeBlockEditing')) return;
          const e = this.editor.plugins.get(Ek);
          e.on('register:pre', (t, i) => {
            if ('codeBlock' !== i.model) return;
            const n = this.editor,
              o = n.model.schema,
              r = n.conversion;
            o.extend('codeBlock', {
              allowAttributes: ['htmlAttributes', 'htmlContentAttributes'],
            }),
              r.for('upcast').add(
                (function (e) {
                  return (t) => {
                    t.on(
                      'element:code',
                      (t, i, n) => {
                        const o = i.viewItem,
                          r = o.parent;
                        function s(t, o) {
                          const r = e.processViewAttributes(t, n);
                          r && n.writer.setAttribute(o, r, i.modelRange);
                        }
                        r &&
                          r.is('element', 'pre') &&
                          (s(r, 'htmlAttributes'),
                          s(o, 'htmlContentAttributes'));
                      },
                      {priority: 'low'}
                    );
                  };
                })(e)
              ),
              r.for('downcast').add((e) => {
                e.on('attribute:htmlAttributes:codeBlock', (e, t, i) => {
                  if (!i.consumable.consume(t.item, e.name)) return;
                  const {attributeOldValue: n, attributeNewValue: o} = t,
                    r = i.mapper.toViewElement(t.item).parent;
                  sk(i.writer, n, o, r);
                }),
                  e.on(
                    'attribute:htmlContentAttributes:codeBlock',
                    (e, t, i) => {
                      if (!i.consumable.consume(t.item, e.name)) return;
                      const {attributeOldValue: n, attributeNewValue: o} = t,
                        r = i.mapper.toViewElement(t.item);
                      sk(i.writer, n, o, r);
                    }
                  );
              }),
              t.stop();
          });
        }
      }
      class Ok extends Vn {
        static get requires() {
          return [Ek];
        }
        static get pluginName() {
          return 'DualContentModelElementSupport';
        }
        init() {
          this.editor.plugins.get(Ek).on('register', (e, t) => {
            const i = t,
              n = this.editor,
              o = n.model.schema,
              r = n.conversion;
            if (!i.paragraphLikeModel) return;
            if (o.isRegistered(i.model) || o.isRegistered(i.paragraphLikeModel))
              return;
            const s = {model: i.paragraphLikeModel, view: i.view};
            o.register(i.model, i.modelSchema),
              o.register(s.model, {inheritAllFrom: '$block'}),
              r.for('upcast').elementToElement({
                view: i.view,
                model: (e, {writer: t}) =>
                  this._hasBlockContent(e)
                    ? t.createElement(i.model)
                    : t.createElement(s.model),
                converterPriority: h.get('low') + 0.5,
              }),
              r
                .for('downcast')
                .elementToElement({view: i.view, model: i.model}),
              this._addAttributeConversion(i),
              r
                .for('downcast')
                .elementToElement({view: s.view, model: s.model}),
              this._addAttributeConversion(s),
              e.stop();
          });
        }
        _hasBlockContent(e) {
          const t = this.editor.editing.view,
            i = t.domConverter.blockElements;
          for (const n of t.createRangeIn(e).getItems())
            if (n.is('element') && i.includes(n.name)) return !0;
          return !1;
        }
        _addAttributeConversion(e) {
          const t = this.editor,
            i = t.conversion,
            n = t.plugins.get(Ek);
          t.model.schema.extend(e.model, {allowAttributes: 'htmlAttributes'}),
            i.for('upcast').add(mk(e, n)),
            i.for('downcast').add(gk(e));
        }
      }
      class Dk extends Vn {
        static get requires() {
          return [kk];
        }
        static get pluginName() {
          return 'HeadingElementSupport';
        }
        init() {
          const e = this.editor;
          if (!e.plugins.has('HeadingEditing')) return;
          const t = e.plugins.get(kk),
            i = e.config.get('heading.options'),
            n = [];
          for (const e of i)
            'model' in e &&
              'view' in e &&
              (t.registerBlockElement({view: e.view, model: e.model}),
              n.push(e.model));
          t.extendBlockElement({
            model: 'htmlHgroup',
            modelSchema: {allowChildren: n},
          });
        }
      }
      function Vk(e, t, i) {
        const n = e.createRangeOn(t);
        for (const {item: e} of n.getWalker()) if (e.is('element', i)) return e;
      }
      class Lk extends Vn {
        static get requires() {
          return [Ek];
        }
        static get pluginName() {
          return 'ImageElementSupport';
        }
        init() {
          const e = this.editor;
          if (
            !e.plugins.has('ImageInlineEditing') &&
            !e.plugins.has('ImageBlockEditing')
          )
            return;
          const t = e.model.schema,
            i = e.conversion,
            n = e.plugins.get(Ek);
          n.on('register:figure', () => {
            i.for('upcast').add(
              (function (e) {
                return (t) => {
                  t.on(
                    'element:figure',
                    (t, i, n) => {
                      const o = i.viewItem;
                      if (!i.modelRange || !o.hasClass('image')) return;
                      const r = e.processViewAttributes(o, n);
                      r &&
                        n.writer.setAttribute(
                          'htmlFigureAttributes',
                          r,
                          i.modelRange
                        );
                    },
                    {priority: 'low'}
                  );
                };
              })(n)
            );
          }),
            n.on('register:img', (e, o) => {
              ('imageBlock' !== o.model && 'imageInline' !== o.model) ||
                (t.isRegistered('imageBlock') &&
                  t.extend('imageBlock', {
                    allowAttributes: [
                      'htmlAttributes',
                      'htmlFigureAttributes',
                      'htmlLinkAttributes',
                    ],
                  }),
                t.isRegistered('imageInline') &&
                  t.extend('imageInline', {
                    allowAttributes: ['htmlA', 'htmlAttributes'],
                  }),
                i.for('upcast').add(
                  (function (e) {
                    return (t) => {
                      t.on(
                        'element:img',
                        (t, i, n) => {
                          if (!i.modelRange) return;
                          const o = i.viewItem,
                            r = o.parent;
                          function s(t, o) {
                            const r = e.processViewAttributes(t, n);
                            r && n.writer.setAttribute(o, r, i.modelRange);
                          }
                          s(o, 'htmlAttributes'),
                            r.is('element', 'a') &&
                              (function (e) {
                                i.modelRange &&
                                  i.modelRange
                                    .getContainedElement()
                                    .is('element', 'imageBlock') &&
                                  s(e, 'htmlLinkAttributes');
                              })(r);
                        },
                        {priority: 'low'}
                      );
                    };
                  })(n)
                ),
                i.for('downcast').add((e) => {
                  function t(t, i) {
                    e.on(
                      `attribute:${i}:imageBlock`,
                      (e, i, n) => {
                        if (!n.consumable.test(i.item, e.name)) return;
                        const {attributeOldValue: o, attributeNewValue: r} = i,
                          s = n.mapper.toViewElement(i.item),
                          a = Vk(n.writer, s, t);
                        a &&
                          (sk(n.writer, o, r, a),
                          n.consumable.consume(i.item, e.name));
                      },
                      {priority: 'low'}
                    ),
                      'a' === t &&
                        e.on(
                          'attribute:linkHref:imageBlock',
                          (e, t, i) => {
                            if (
                              !i.consumable.consume(
                                t.item,
                                'attribute:htmlLinkAttributes:imageBlock'
                              )
                            )
                              return;
                            const n = i.mapper.toViewElement(t.item),
                              o = Vk(i.writer, n, 'a');
                            ak(
                              i.writer,
                              t.item.getAttribute('htmlLinkAttributes'),
                              o
                            );
                          },
                          {priority: 'low'}
                        );
                  }
                  var i;
                  (i = 'htmlAttributes'),
                    e.on(
                      `attribute:${i}:imageInline`,
                      (e, t, i) => {
                        if (!i.consumable.consume(t.item, e.name)) return;
                        const {attributeOldValue: n, attributeNewValue: o} = t,
                          r = i.mapper.toViewElement(t.item);
                        sk(i.writer, n, o, r);
                      },
                      {priority: 'low'}
                    ),
                    t('img', 'htmlAttributes'),
                    t('figure', 'htmlFigureAttributes'),
                    t('a', 'htmlLinkAttributes');
                }),
                e.stop());
            });
        }
      }
      class zk extends Vn {
        static get requires() {
          return [Ek];
        }
        static get pluginName() {
          return 'MediaEmbedElementSupport';
        }
        init() {
          const e = this.editor;
          if (
            !e.plugins.has('MediaEmbed') ||
            e.config.get('mediaEmbed.previewsInData')
          )
            return;
          const t = e.model.schema,
            i = e.conversion,
            n = this.editor.plugins.get(Ek),
            o = this.editor.plugins.get(kk),
            r = e.config.get('mediaEmbed.elementName');
          o.registerBlockElement({model: 'media', view: r}),
            n.on('register:figure', () => {
              i.for('upcast').add(
                (function (e) {
                  return (t) => {
                    t.on(
                      'element:figure',
                      (t, i, n) => {
                        const o = i.viewItem;
                        if (!i.modelRange || !o.hasClass('media')) return;
                        const r = e.processViewAttributes(o, n);
                        r &&
                          n.writer.setAttribute(
                            'htmlFigureAttributes',
                            r,
                            i.modelRange
                          );
                      },
                      {priority: 'low'}
                    );
                  };
                })(n)
              );
            }),
            n.on(`register:${r}`, (e, o) => {
              'media' === o.model &&
                (t.extend('media', {
                  allowAttributes: ['htmlAttributes', 'htmlFigureAttributes'],
                }),
                i.for('upcast').add(
                  (function (e, t) {
                    const i = (t, i, n) => {
                      !(function (t, o) {
                        const r = e.processViewAttributes(t, n);
                        r && n.writer.setAttribute(o, r, i.modelRange);
                      })(i.viewItem, 'htmlAttributes');
                    };
                    return (e) => {
                      e.on(`element:${t}`, i, {priority: 'low'});
                    };
                  })(n, r)
                ),
                i.for('dataDowncast').add(
                  (function (e) {
                    return (t) => {
                      function i(e, i) {
                        t.on(`attribute:${i}:media`, (t, i, n) => {
                          if (!n.consumable.consume(i.item, t.name)) return;
                          const {attributeOldValue: o, attributeNewValue: r} =
                              i,
                            s = n.mapper.toViewElement(i.item),
                            a = Vk(n.writer, s, e);
                          sk(n.writer, o, r, a);
                        });
                      }
                      i(e, 'htmlAttributes'),
                        i('figure', 'htmlFigureAttributes');
                    };
                  })(r)
                ),
                e.stop());
            });
        }
      }
      class Bk extends Vn {
        static get requires() {
          return [Ek];
        }
        static get pluginName() {
          return 'ScriptElementSupport';
        }
        init() {
          const e = this.editor.plugins.get(Ek);
          e.on('register:script', (t, i) => {
            const n = this.editor,
              o = n.model.schema,
              r = n.conversion;
            o.register('htmlScript', i.modelSchema),
              o.extend('htmlScript', {
                allowAttributes: ['htmlAttributes', 'htmlContent'],
                isContent: !0,
              }),
              n.data.registerRawContentMatcher({name: 'script'}),
              r.for('upcast').elementToElement({view: 'script', model: ck(i)}),
              r.for('upcast').add(mk(i, e)),
              r.for('downcast').elementToElement({
                model: 'htmlScript',
                view: (e, {writer: t}) => uk('script', e, t),
              }),
              r.for('downcast').add(gk(i)),
              t.stop();
          });
        }
      }
      class Fk extends Vn {
        static get requires() {
          return [Ek];
        }
        static get pluginName() {
          return 'TableElementSupport';
        }
        init() {
          const e = this.editor;
          if (!e.plugins.has('TableEditing')) return;
          const t = e.model.schema,
            i = e.conversion,
            n = e.plugins.get(Ek);
          n.on('register:figure', () => {
            i.for('upcast').add(
              (function (e) {
                return (t) => {
                  t.on(
                    'element:figure',
                    (t, i, n) => {
                      const o = i.viewItem;
                      if (!i.modelRange || !o.hasClass('table')) return;
                      const r = e.processViewAttributes(o, n);
                      r &&
                        n.writer.setAttribute(
                          'htmlFigureAttributes',
                          r,
                          i.modelRange
                        );
                    },
                    {priority: 'low'}
                  );
                };
              })(n)
            );
          }),
            n.on('register:table', (e, o) => {
              'table' === o.model &&
                (t.extend('table', {
                  allowAttributes: [
                    'htmlAttributes',
                    'htmlFigureAttributes',
                    'htmlTheadAttributes',
                    'htmlTbodyAttributes',
                  ],
                }),
                i.for('upcast').add(
                  (function (e) {
                    return (t) => {
                      t.on(
                        'element:table',
                        (t, i, n) => {
                          const o = i.viewItem;
                          r(o, 'htmlAttributes');
                          for (const e of o.getChildren())
                            e.is('element', 'thead') &&
                              r(e, 'htmlTheadAttributes'),
                              e.is('element', 'tbody') &&
                                r(e, 'htmlTbodyAttributes');
                          function r(t, o) {
                            const r = e.processViewAttributes(t, n);
                            r && n.writer.setAttribute(o, r, i.modelRange);
                          }
                        },
                        {priority: 'low'}
                      );
                    };
                  })(n)
                ),
                i.for('downcast').add((e) => {
                  function t(t, i) {
                    e.on(`attribute:${i}:table`, (e, i, n) => {
                      if (!n.consumable.consume(i.item, e.name)) return;
                      const o = n.mapper.toViewElement(i.item),
                        r = Vk(n.writer, o, t);
                      ak(n.writer, i.attributeNewValue, r);
                    });
                  }
                  t('table', 'htmlAttributes'),
                    t('figure', 'htmlFigureAttributes'),
                    t('thead', 'htmlTheadAttributes'),
                    t('tbody', 'htmlTbodyAttributes');
                }),
                e.stop());
            });
        }
      }
      class jk extends Vn {
        static get requires() {
          return [Ek];
        }
        static get pluginName() {
          return 'StyleElementSupport';
        }
        init() {
          const e = this.editor.plugins.get(Ek);
          e.on('register:style', (t, i) => {
            const n = this.editor,
              o = n.model.schema,
              r = n.conversion;
            o.register('htmlStyle', i.modelSchema),
              o.extend('htmlStyle', {
                allowAttributes: ['htmlAttributes', 'htmlContent'],
                isContent: !0,
              }),
              n.data.registerRawContentMatcher({name: 'style'}),
              r.for('upcast').elementToElement({view: 'style', model: ck(i)}),
              r.for('upcast').add(mk(i, e)),
              r.for('downcast').elementToElement({
                model: 'htmlStyle',
                view: (e, {writer: t}) => uk('style', e, t),
              }),
              r.for('downcast').add(gk(i)),
              t.stop();
          });
        }
      }
      class Hk extends Vn {
        static get requires() {
          return [Ek];
        }
        static get pluginName() {
          return 'DocumentListElementSupport';
        }
        init() {
          const e = this.editor;
          if (!e.plugins.has('DocumentListEditing')) return;
          const t = e.model.schema,
            i = e.conversion,
            n = e.plugins.get(Ek),
            o = e.plugins.get('DocumentListEditing');
          o.registerDowncastStrategy({
            scope: 'item',
            attributeName: 'htmlLiAttributes',
            setAttributeOnDowncast(e, t, i) {
              ak(e, t, i);
            },
          }),
            o.registerDowncastStrategy({
              scope: 'list',
              attributeName: 'htmlListAttributes',
              setAttributeOnDowncast(e, t, i) {
                ak(e, t, i);
              },
            }),
            n.on('register', (e, o) => {
              ['ul', 'ol', 'li'].includes(o.view) &&
                (e.stop(),
                t.checkAttribute('$block', 'htmlListAttributes') ||
                  (t.extend('$block', {
                    allowAttributes: ['htmlListAttributes', 'htmlLiAttributes'],
                  }),
                  t.extend('$blockObject', {
                    allowAttributes: ['htmlListAttributes', 'htmlLiAttributes'],
                  }),
                  t.extend('$container', {
                    allowAttributes: ['htmlListAttributes', 'htmlLiAttributes'],
                  }),
                  i.for('upcast').add((e) => {
                    e.on('element:ul', $k('htmlListAttributes', n), {
                      priority: 'low',
                    }),
                      e.on('element:ol', $k('htmlListAttributes', n), {
                        priority: 'low',
                      }),
                      e.on('element:li', $k('htmlLiAttributes', n), {
                        priority: 'low',
                      });
                  })));
            }),
            o.on('postFixer', (e, {listNodes: t, writer: i}) => {
              const n = [];
              for (const {node: o, previous: r} of t) {
                if (!r) continue;
                const t = o.getAttribute('listIndent'),
                  s = r.getAttribute('listIndent');
                let a = null;
                if (
                  (t > s
                    ? (n[s] = r)
                    : t < s
                    ? ((a = n[t]), (n.length = t))
                    : (a = r),
                  a)
                ) {
                  if (
                    a.getAttribute('listType') == o.getAttribute('listType')
                  ) {
                    const t = a.getAttribute('htmlListAttributes');
                    Gl(o.getAttribute('htmlListAttributes'), t) ||
                      (i.setAttribute('htmlListAttributes', t, o),
                      (e.return = !0));
                  }
                  if (
                    a.getAttribute('listItemId') == o.getAttribute('listItemId')
                  ) {
                    const t = a.getAttribute('htmlLiAttributes');
                    Gl(o.getAttribute('htmlLiAttributes'), t) ||
                      (i.setAttribute('htmlLiAttributes', t, o),
                      (e.return = !0));
                  }
                }
              }
            });
        }
        afterInit() {
          const e = this.editor;
          if (!e.commands.get('indentList')) return;
          const t = e.commands.get('indentList');
          this.listenTo(t, 'afterExecute', (t, i) => {
            e.model.change((e) => {
              for (const t of i) e.setAttribute('htmlListAttributes', {}, t);
            });
          });
        }
      }
      function $k(e, t) {
        return (i, n, o) => {
          const r = n.viewItem;
          n.modelRange ||
            Object.assign(n, o.convertChildren(n.viewItem, n.modelCursor));
          const s = t.processViewAttributes(r, o);
          for (const t of n.modelRange.getItems({shallow: !0}))
            t.hasAttribute('listItemId') &&
              (t.hasAttribute(e) || o.writer.setAttribute(e, s || {}, t));
        };
      }
      class Uk extends Vn {
        static get requires() {
          return [Ek, kk];
        }
        static get pluginName() {
          return 'CustomElementSupport';
        }
        init() {
          const e = this.editor.plugins.get(Ek),
            t = this.editor.plugins.get(kk);
          e.on('register:$customElement', (i, n) => {
            i.stop();
            const o = this.editor,
              r = o.model.schema,
              s = o.conversion,
              a = o.editing.view.domConverter.unsafeElements,
              l = o.data.htmlProcessor.domConverter.preElements;
            r.register(n.model, n.modelSchema),
              r.extend(n.model, {
                allowAttributes: [
                  'htmlElementName',
                  'htmlAttributes',
                  'htmlContent',
                ],
                isContent: !0,
              }),
              s.for('upcast').elementToElement({
                view: /.*/,
                model: (i, r) => {
                  if ('$comment' == i.name) return null;
                  if (
                    !(function (e) {
                      try {
                        document.createElement(e);
                      } catch (e) {
                        return !1;
                      }
                      return !0;
                    })(i.name)
                  )
                    return null;
                  if (t.getDefinitionsForView(i.name).size) return null;
                  a.includes(i.name) || a.push(i.name),
                    l.includes(i.name) || l.push(i.name);
                  const s = r.writer.createElement(n.model, {
                      htmlElementName: i.name,
                    }),
                    c = e.processViewAttributes(i, r);
                  c && r.writer.setAttribute('htmlAttributes', c, s);
                  const d = new nd(i.document).createDocumentFragment(i),
                    u = o.data.processor.toData(d);
                  r.writer.setAttribute('htmlContent', u, s);
                  for (const {item: e} of o.editing.view.createRangeIn(i))
                    r.consumable.consume(e, {name: !0});
                  return s;
                },
                converterPriority: 'low',
              }),
              s.for('editingDowncast').elementToElement({
                model: {
                  name: n.model,
                  attributes: [
                    'htmlElementName',
                    'htmlAttributes',
                    'htmlContent',
                  ],
                },
                view: (e, {writer: t}) => {
                  const i = e.getAttribute('htmlElementName'),
                    n = t.createRawElement(i);
                  return (
                    e.hasAttribute('htmlAttributes') &&
                      ak(t, e.getAttribute('htmlAttributes'), n),
                    n
                  );
                },
              }),
              s.for('dataDowncast').elementToElement({
                model: {
                  name: n.model,
                  attributes: [
                    'htmlElementName',
                    'htmlAttributes',
                    'htmlContent',
                  ],
                },
                view: (e, {writer: t}) => {
                  const i = e.getAttribute('htmlElementName'),
                    n = e.getAttribute('htmlContent'),
                    o = t.createRawElement(i, null, (e, t) => {
                      t.setContentOf(e, n);
                      const i = e.firstChild;
                      for (i.remove(); i.firstChild; )
                        e.appendChild(i.firstChild);
                    });
                  return (
                    e.hasAttribute('htmlAttributes') &&
                      ak(t, e.getAttribute('htmlAttributes'), o),
                    o
                  );
                },
              });
          });
        }
      }
      class Zk extends Vn {
        static get pluginName() {
          return 'GeneralHtmlSupport';
        }
        static get requires() {
          return [Ek, Nk, Ok, Dk, Lk, zk, Bk, Fk, jk, Hk, Uk];
        }
        init() {
          const e = this.editor,
            t = e.plugins.get(Ek);
          t.loadAllowedConfig(e.config.get('htmlSupport.allow') || []),
            t.loadDisallowedConfig(e.config.get('htmlSupport.disallow') || []);
        }
        getGhsAttributeNameForElement(e) {
          const t = this.editor.plugins.get('DataSchema'),
            i = Array.from(t.getDefinitionsForView(e, !1));
          return i && i.length && i[0].isInline && !i[0].isObject
            ? i[0].model
            : 'htmlAttributes';
        }
        addModelHtmlClass(e, t, i) {
          const n = this.editor.model,
            o = this.getGhsAttributeNameForElement(e);
          n.change((e) => {
            for (const r of Wk(n, i, o))
              qk(e, r, o, 'classes', (e) => {
                for (const i of xn(t)) e.add(i);
              });
          });
        }
        removeModelHtmlClass(e, t, i) {
          const n = this.editor.model,
            o = this.getGhsAttributeNameForElement(e);
          n.change((e) => {
            for (const r of Wk(n, i, o))
              qk(e, r, o, 'classes', (e) => {
                for (const i of xn(t)) e.delete(i);
              });
          });
        }
        setModelHtmlAttributes(e, t, i) {
          const n = this.editor.model,
            o = this.getGhsAttributeNameForElement(e);
          n.change((e) => {
            for (const r of Wk(n, i, o))
              qk(e, r, o, 'attributes', (e) => {
                for (const [i, n] of Object.entries(t)) e.set(i, n);
              });
          });
        }
        removeModelHtmlAttributes(e, t, i) {
          const n = this.editor.model,
            o = this.getGhsAttributeNameForElement(e);
          n.change((e) => {
            for (const r of Wk(n, i, o))
              qk(e, r, o, 'attributes', (e) => {
                for (const i of xn(t)) e.delete(i);
              });
          });
        }
        setModelHtmlStyles(e, t, i) {
          const n = this.editor.model,
            o = this.getGhsAttributeNameForElement(e);
          n.change((e) => {
            for (const r of Wk(n, i, o))
              qk(e, r, o, 'styles', (e) => {
                for (const [i, n] of Object.entries(t)) e.set(i, n);
              });
          });
        }
        removeModelHtmlStyles(e, t, i) {
          const n = this.editor.model,
            o = this.getGhsAttributeNameForElement(e);
          n.change((e) => {
            for (const r of Wk(n, i, o))
              qk(e, r, o, 'styles', (e) => {
                for (const i of xn(t)) e.delete(i);
              });
          });
        }
      }
      function* Wk(e, t, i) {
        if (t.is('documentSelection') && t.isCollapsed)
          e.schema.checkAttributeInSelection(t, i) && (yield t);
        else
          for (const n of (function (e, t, i) {
            return t.is('node') || t.is('$text') || t.is('$textProxy')
              ? e.schema.checkAttribute(t, i)
                ? [e.createRangeOn(t)]
                : []
              : e.schema.getValidRanges(e.createSelection(t).getRanges(), i);
          })(e, t, i))
            yield* n.getItems({shallow: !0});
      }
      function qk(e, t, i, n, o) {
        const r = t.getAttribute(i),
          s = {};
        for (const e of ['attributes', 'styles', 'classes']) {
          if (e != n) {
            r && r[e] && (s[e] = r[e]);
            continue;
          }
          if ('classes' == n) {
            const t = new Set((r && r.classes) || []);
            o(t), t.size && (s[e] = Array.from(t));
            continue;
          }
          const t = new Map(Object.entries((r && r[e]) || {}));
          o(t), t.size && (s[e] = Object.fromEntries(t));
        }
        Object.keys(s).length
          ? t.is('documentSelection')
            ? e.setSelectionAttribute(i, s)
            : e.setAttribute(i, s, t)
          : r &&
            (t.is('documentSelection')
              ? e.removeSelectionAttribute(i)
              : e.removeAttribute(i, t));
      }
      class Gk extends Vn {
        static get pluginName() {
          return 'HtmlComment';
        }
        init() {
          const e = this.editor;
          (e.data.processor.skipComments = !1),
            e.model.schema.addAttributeCheck((e, t) => {
              if (e.endsWith('$root') && t.startsWith('$comment')) return !0;
            }),
            e.conversion.for('upcast').elementToMarker({
              view: '$comment',
              model: (e, {writer: t}) => {
                const i = this.editor.model.document.getRoot(),
                  n = e.getCustomProperty('$rawContent'),
                  o = `$comment:${u()}`;
                return t.setAttribute(o, n, i), o;
              },
            }),
            e.conversion.for('dataDowncast').markerToElement({
              model: '$comment',
              view: (e, {writer: t}) => {
                const i = this.editor.model.document.getRoot(),
                  n = e.markerName,
                  o = i.getAttribute(n),
                  r = t.createUIElement('$comment');
                return t.setCustomProperty('$rawContent', o, r), r;
              },
            }),
            e.model.document.registerPostFixer((t) => {
              const i = e.model.document.getRoot(),
                n = e.model.document.differ
                  .getChangedMarkers()
                  .filter((e) => e.name.startsWith('$comment'))
                  .filter((e) => {
                    const t = e.data.newRange;
                    return t && '$graveyard' === t.root.rootName;
                  });
              if (0 === n.length) return !1;
              for (const e of n)
                t.removeMarker(e.name), t.removeAttribute(e.name, i);
              return !0;
            }),
            e.data.on(
              'set',
              () => {
                for (const t of e.model.markers.getMarkersGroup('$comment'))
                  this.removeHtmlComment(t.name);
              },
              {priority: 'high'}
            ),
            e.model.on(
              'deleteContent',
              (t, [i]) => {
                for (const t of i.getRanges()) {
                  const i = e.model.schema.getLimitElement(t),
                    n = e.model.createPositionAt(i, 0),
                    o = e.model.createPositionAt(i, 'end');
                  let r;
                  r =
                    n.isTouching(t.start) && o.isTouching(t.end)
                      ? this.getHtmlCommentsInRange(e.model.createRange(n, o))
                      : this.getHtmlCommentsInRange(t, {skipBoundaries: !0});
                  for (const e of r) this.removeHtmlComment(e);
                }
              },
              {priority: 'high'}
            );
        }
        createHtmlComment(e, t) {
          const i = u(),
            n = this.editor.model,
            o = n.document.getRoot(),
            r = `$comment:${i}`;
          return n.change((i) => {
            const n = i.createRange(e);
            return (
              i.addMarker(r, {usingOperation: !0, affectsData: !0, range: n}),
              i.setAttribute(r, t, o),
              r
            );
          });
        }
        removeHtmlComment(e) {
          const t = this.editor,
            i = t.model.document.getRoot(),
            n = t.model.markers.get(e);
          return (
            !!n &&
            (t.model.change((t) => {
              t.removeMarker(n), t.removeAttribute(e, i);
            }),
            !0)
          );
        }
        getHtmlCommentData(e) {
          const t = this.editor,
            i = t.model.markers.get(e),
            n = t.model.document.getRoot();
          return i
            ? {content: n.getAttribute(e), position: i.getStart()}
            : null;
        }
        getHtmlCommentsInRange(e, {skipBoundaries: t = !1} = {}) {
          const i = !t;
          return Array.from(
            this.editor.model.markers.getMarkersGroup('$comment')
          )
            .filter((t) =>
              (function (e, t) {
                const n = e.getRange().start;
                return (
                  (n.isAfter(t.start) || (i && n.isEqual(t.start))) &&
                  (n.isBefore(t.end) || (i && n.isEqual(t.end)))
                );
              })(t, e)
            )
            .map((e) => e.name);
        }
      }
      class Yk extends zn {
        refresh() {
          const e = this.editor.model,
            t = Sn(e.document.selection.getSelectedBlocks());
          (this.value = !!t && t.is('element', 'paragraph')),
            (this.isEnabled = !!t && Kk(t, e.schema));
        }
        execute(e = {}) {
          const t = this.editor.model,
            i = t.document;
          t.change((n) => {
            const o = (e.selection || i.selection).getSelectedBlocks();
            for (const e of o)
              !e.is('element', 'paragraph') &&
                Kk(e, t.schema) &&
                n.rename(e, 'paragraph');
          });
        }
      }
      function Kk(e, t) {
        return t.checkChild(e.parent, 'paragraph') && !t.isObject(e);
      }
      class Qk extends zn {
        execute(e) {
          const t = this.editor.model,
            i = e.attributes;
          let n = e.position;
          t.change((e) => {
            const o = e.createElement('paragraph');
            if (
              (i && t.schema.setAllowedAttributes(o, i, e),
              !t.schema.checkChild(n.parent, o))
            ) {
              const i = t.schema.findAllowedParent(n, o);
              if (!i) return;
              n = e.split(n, i).position;
            }
            t.insertContent(o, n), e.setSelection(o, 'in');
          });
        }
      }
      class Jk extends Vn {
        static get pluginName() {
          return 'Paragraph';
        }
        init() {
          const e = this.editor,
            t = e.model;
          e.commands.add('paragraph', new Yk(e)),
            e.commands.add('insertParagraph', new Qk(e)),
            t.schema.register('paragraph', {inheritAllFrom: '$block'}),
            e.conversion.elementToElement({model: 'paragraph', view: 'p'}),
            e.conversion.for('upcast').elementToElement({
              model: (e, {writer: t}) =>
                Jk.paragraphLikeElements.has(e.name)
                  ? e.isEmpty
                    ? null
                    : t.createElement('paragraph')
                  : null,
              view: /.+/,
              converterPriority: 'low',
            });
        }
      }
      (Jk.paragraphLikeElements = new Set([
        'blockquote',
        'dd',
        'div',
        'dt',
        'h1',
        'h2',
        'h3',
        'h4',
        'h5',
        'h6',
        'li',
        'p',
        'td',
        'th',
      ])),
        dd.paragraph;
      class Xk extends zn {
        constructor(e, t) {
          super(e), (this.modelElements = t);
        }
        refresh() {
          const e = Sn(
            this.editor.model.document.selection.getSelectedBlocks()
          );
          (this.value = !!e && this.modelElements.includes(e.name) && e.name),
            (this.isEnabled =
              !!e &&
              this.modelElements.some((t) =>
                ew(e, t, this.editor.model.schema)
              ));
        }
        execute(e) {
          const t = this.editor.model,
            i = t.document,
            n = e.value;
          t.change((e) => {
            const o = Array.from(i.selection.getSelectedBlocks()).filter((e) =>
              ew(e, n, t.schema)
            );
            for (const t of o) t.is('element', n) || e.rename(t, n);
          });
        }
      }
      function ew(e, t, i) {
        return i.checkChild(e.parent, t) && !i.isObject(e);
      }
      const tw = 'paragraph';
      class iw extends Vn {
        static get pluginName() {
          return 'HeadingEditing';
        }
        constructor(e) {
          super(e),
            e.config.define('heading', {
              options: [
                {
                  model: 'paragraph',
                  title: 'Paragraph',
                  class: 'ck-heading_paragraph',
                },
                {
                  model: 'heading1',
                  view: 'h2',
                  title: 'Heading 1',
                  class: 'ck-heading_heading1',
                },
                {
                  model: 'heading2',
                  view: 'h3',
                  title: 'Heading 2',
                  class: 'ck-heading_heading2',
                },
                {
                  model: 'heading3',
                  view: 'h4',
                  title: 'Heading 3',
                  class: 'ck-heading_heading3',
                },
              ],
            });
        }
        static get requires() {
          return [Jk];
        }
        init() {
          const e = this.editor,
            t = e.config.get('heading.options'),
            i = [];
          for (const n of t)
            'paragraph' !== n.model &&
              (e.model.schema.register(n.model, {inheritAllFrom: '$block'}),
              e.conversion.elementToElement(n),
              i.push(n.model));
          this._addDefaultH1Conversion(e),
            e.commands.add('heading', new Xk(e, i));
        }
        afterInit() {
          const e = this.editor,
            t = e.commands.get('enter'),
            i = e.config.get('heading.options');
          t &&
            this.listenTo(t, 'afterExecute', (t, n) => {
              const o = e.model.document.selection.getFirstPosition().parent;
              i.some((e) => o.is('element', e.model)) &&
                !o.is('element', tw) &&
                0 === o.childCount &&
                n.writer.rename(o, tw);
            });
        }
        _addDefaultH1Conversion(e) {
          e.conversion.for('upcast').elementToElement({
            model: 'heading1',
            view: 'h1',
            converterPriority: h.get('low') + 1,
          });
        }
      }
      var nw = i(2782),
        ow = {attributes: {'data-cke': !0}};
      (ow.setAttributes = Qn()),
        (ow.insert = Yn().bind(null, 'head')),
        (ow.domAPI = qn()),
        (ow.insertStyleElement = Xn()),
        Zn()(nw.Z, ow),
        nw.Z && nw.Z.locals && nw.Z.locals;
      class rw extends Vn {
        static get pluginName() {
          return 'HeadingUI';
        }
        init() {
          const e = this.editor,
            t = e.t,
            i = (function (e) {
              const t = e.t,
                i = {
                  Paragraph: t('Paragraph'),
                  'Heading 1': t('Heading 1'),
                  'Heading 2': t('Heading 2'),
                  'Heading 3': t('Heading 3'),
                  'Heading 4': t('Heading 4'),
                  'Heading 5': t('Heading 5'),
                  'Heading 6': t('Heading 6'),
                };
              return e.config.get('heading.options').map((e) => {
                const t = i[e.title];
                return t && t != e.title && (e.title = t), e;
              });
            })(e),
            n = t('Choose heading'),
            o = t('Heading');
          e.ui.componentFactory.add('heading', (t) => {
            const r = {},
              s = new Tn(),
              a = e.commands.get('heading'),
              l = e.commands.get('paragraph'),
              c = [a];
            for (const e of i) {
              const t = {
                type: 'button',
                model: new Ah({label: e.title, class: e.class, withText: !0}),
              };
              'paragraph' === e.model
                ? (t.model.bind('isOn').to(l, 'value'),
                  t.model.set('commandName', 'paragraph'),
                  c.push(l))
                : (t.model.bind('isOn').to(a, 'value', (t) => t === e.model),
                  t.model.set({commandName: 'heading', commandValue: e.model})),
                s.add(t),
                (r[e.model] = e.title);
            }
            const d = zu(t);
            return (
              ju(d, s),
              d.buttonView.set({isOn: !1, withText: !0, tooltip: o}),
              d.extendTemplate({attributes: {class: ['ck-heading-dropdown']}}),
              d
                .bind('isEnabled')
                .toMany(c, 'isEnabled', (...e) => e.some((e) => e)),
              d.buttonView.bind('label').to(a, 'value', l, 'value', (e, t) => {
                const i = e || (t && 'paragraph');
                return 'boolean' == typeof i ? n : r[i] ? r[i] : n;
              }),
              this.listenTo(d, 'execute', (t) => {
                const {commandName: i, commandValue: n} = t.source;
                e.execute(i, n ? {value: n} : void 0), e.editing.view.focus();
              }),
              d
            );
          });
        }
      }
      class sw extends Vn {
        static get requires() {
          return [iw, rw];
        }
        static get pluginName() {
          return 'Heading';
        }
      }
      new Set([
        'paragraph',
        'heading1',
        'heading2',
        'heading3',
        'heading4',
        'heading5',
        'heading6',
      ]);
      class aw extends zn {
        refresh() {
          const e = this.editor.model,
            t = e.schema,
            i = e.document.selection;
          this.isEnabled = (function (e, t, i) {
            const n = (function (e, t) {
              const i = Hm(e, t).start.parent;
              return i.isEmpty && !i.is('element', '$root') ? i.parent : i;
            })(e, i);
            return t.checkChild(n, 'horizontalLine');
          })(i, t, e);
        }
        execute() {
          const e = this.editor.model;
          e.change((t) => {
            const i = t.createElement('horizontalLine');
            e.insertObject(i, null, null, {setSelection: 'after'});
          });
        }
      }
      var lw = i(1243),
        cw = {attributes: {'data-cke': !0}};
      (cw.setAttributes = Qn()),
        (cw.insert = Yn().bind(null, 'head')),
        (cw.domAPI = qn()),
        (cw.insertStyleElement = Xn()),
        Zn()(lw.Z, cw),
        lw.Z && lw.Z.locals && lw.Z.locals;
      class dw extends Vn {
        static get pluginName() {
          return 'HorizontalLineEditing';
        }
        init() {
          const e = this.editor,
            t = e.model.schema,
            i = e.t,
            n = e.conversion;
          t.register('horizontalLine', {inheritAllFrom: '$blockObject'}),
            n.for('dataDowncast').elementToElement({
              model: 'horizontalLine',
              view: (e, {writer: t}) => t.createEmptyElement('hr'),
            }),
            n.for('editingDowncast').elementToStructure({
              model: 'horizontalLine',
              view: (e, {writer: t}) => {
                const n = i('Horizontal line'),
                  o = t.createContainerElement(
                    'div',
                    null,
                    t.createEmptyElement('hr')
                  );
                return (
                  t.addClass('ck-horizontal-line', o),
                  t.setCustomProperty('hr', !0, o),
                  (function (e, t, i) {
                    return (
                      t.setCustomProperty('horizontalLine', !0, e),
                      Lm(e, t, {label: i})
                    );
                  })(o, t, n)
                );
              },
            }),
            n
              .for('upcast')
              .elementToElement({view: 'hr', model: 'horizontalLine'}),
            e.commands.add('horizontalLine', new aw(e));
        }
      }
      class uw extends Vn {
        static get pluginName() {
          return 'HorizontalLineUI';
        }
        init() {
          const e = this.editor,
            t = e.t;
          e.ui.componentFactory.add('horizontalLine', (i) => {
            const n = e.commands.get('horizontalLine'),
              o = new Xd(i);
            return (
              o.set({
                label: t('Horizontal line'),
                icon: 'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M2 9h16v2H2z\\"/></svg>";',
                tooltip: !0,
              }),
              o.bind('isEnabled').to(n, 'isEnabled'),
              this.listenTo(o, 'execute', () => {
                e.execute('horizontalLine'), e.editing.view.focus();
              }),
              o
            );
          });
        }
      }
      class hw extends Vn {
        static get requires() {
          return [dw, uw, ng];
        }
        static get pluginName() {
          return 'HorizontalLine';
        }
      }
      class mw extends zn {
        refresh() {
          const e = this.editor.model,
            t = e.schema,
            i = e.document.selection,
            n = gw(i);
          (this.isEnabled = (function (e, t, i) {
            const n = (function (e, t) {
              const i = Hm(e, t).start.parent;
              return i.isEmpty && !i.is('rootElement') ? i.parent : i;
            })(e, i);
            return t.checkChild(n, 'rawHtml');
          })(i, t, e)),
            (this.value = n ? n.getAttribute('value') || '' : null);
        }
        execute(e) {
          const t = this.editor.model,
            i = t.document.selection;
          t.change((n) => {
            let o;
            null !== this.value
              ? (o = gw(i))
              : ((o = n.createElement('rawHtml')),
                t.insertObject(o, null, null, {setSelection: 'on'})),
              n.setAttribute('value', e, o);
          });
        }
      }
      function gw(e) {
        const t = e.getSelectedElement();
        return t && t.is('element', 'rawHtml') ? t : null;
      }
      var fw = i(7106),
        pw = {attributes: {'data-cke': !0}};
      (pw.setAttributes = Qn()),
        (pw.insert = Yn().bind(null, 'head')),
        (pw.domAPI = qn()),
        (pw.insertStyleElement = Xn()),
        Zn()(fw.Z, pw),
        fw.Z && fw.Z.locals && fw.Z.locals;
      class bw extends Vn {
        static get pluginName() {
          return 'HtmlEmbedEditing';
        }
        constructor(e) {
          super(e),
            (this._widgetButtonViewReferences = new Set()),
            e.config.define('htmlEmbed', {
              showPreviews: !1,
              sanitizeHtml: (e) => (
                p('html-embed-provide-sanitize-function'),
                {html: e, hasChanged: !1}
              ),
            });
        }
        init() {
          const e = this.editor;
          e.model.schema.register('rawHtml', {
            inheritAllFrom: '$blockObject',
            allowAttributes: ['value'],
          }),
            e.commands.add('htmlEmbed', new mw(e)),
            this._setupConversion();
        }
        _setupConversion() {
          const e = this.editor,
            t = e.t,
            i = e.editing.view,
            n = this._widgetButtonViewReferences,
            o = e.config.get('htmlEmbed');
          function r({editor: e, domElement: i, state: o, props: r}) {
            i.textContent = '';
            const a = i.ownerDocument;
            let l;
            if (o.isEditable) {
              const e = {isDisabled: !1, placeholder: r.textareaPlaceholder};
              (l = s({domDocument: a, state: o, props: e})), i.append(l);
            } else if (o.showPreviews) {
              const n = {sanitizeHtml: r.sanitizeHtml};
              i.append(
                (function ({editor: e, domDocument: i, state: n, props: o}) {
                  const r = o.sanitizeHtml(n.getRawHtmlValue()),
                    s = le(
                      i,
                      'div',
                      {
                        class:
                          'ck ck-reset_all raw-html-embed__preview-placeholder',
                      },
                      n.getRawHtmlValue().length > 0
                        ? t('No preview available')
                        : t('Empty snippet content')
                    ),
                    a = le(i, 'div', {
                      class: 'raw-html-embed__preview-content',
                      dir: e.locale.contentLanguageDirection,
                    }),
                    l = i.createRange().createContextualFragment(r.html);
                  a.appendChild(l);
                  return le(i, 'div', {class: 'raw-html-embed__preview'}, [
                    s,
                    a,
                  ]);
                })({domDocument: a, state: o, props: n, editor: e})
              );
            } else {
              const e = {isDisabled: !0, placeholder: r.textareaPlaceholder};
              i.append(s({domDocument: a, state: o, props: e}));
            }
            const c = {
              onEditClick: r.onEditClick,
              onSaveClick: () => {
                r.onSaveClick(l.value);
              },
              onCancelClick: r.onCancelClick,
            };
            i.prepend(
              (function ({editor: e, domDocument: t, state: i, props: o}) {
                const r = le(t, 'div', {
                  class: 'raw-html-embed__buttons-wrapper',
                });
                if (i.isEditable) {
                  const t = kw(e, 'save', o.onSaveClick),
                    i = kw(e, 'cancel', o.onCancelClick);
                  r.append(t.element, i.element), n.add(t).add(i);
                } else {
                  const t = kw(e, 'edit', o.onEditClick);
                  r.append(t.element), n.add(t);
                }
                return r;
              })({editor: e, domDocument: a, state: o, props: c})
            );
          }
          function s({domDocument: e, state: t, props: i}) {
            const n = le(e, 'textarea', {
              placeholder: i.placeholder,
              class:
                'ck ck-reset ck-input ck-input-text raw-html-embed__source',
            });
            return (
              (n.disabled = i.isDisabled), (n.value = t.getRawHtmlValue()), n
            );
          }
          this.editor.editing.view.on(
            'render',
            () => {
              for (const e of n) {
                if (e.element && e.element.isConnected) return;
                e.destroy(), n.delete(e);
              }
            },
            {priority: 'lowest'}
          ),
            e.data.registerRawContentMatcher({
              name: 'div',
              classes: 'raw-html-embed',
            }),
            e.conversion.for('upcast').elementToElement({
              view: {name: 'div', classes: 'raw-html-embed'},
              model: (e, {writer: t}) =>
                t.createElement('rawHtml', {
                  value: e.getCustomProperty('$rawContent'),
                }),
            }),
            e.conversion.for('dataDowncast').elementToElement({
              model: 'rawHtml',
              view: (e, {writer: t}) =>
                t.createRawElement(
                  'div',
                  {class: 'raw-html-embed'},
                  function (t) {
                    t.innerHTML = e.getAttribute('value') || '';
                  }
                ),
            }),
            e.conversion.for('editingDowncast').elementToStructure({
              model: {name: 'rawHtml', attributes: ['value']},
              view: (n, {writer: s}) => {
                let a, l, c;
                const d = s.createRawElement(
                    'div',
                    {class: 'raw-html-embed__content-wrapper'},
                    function (t) {
                      (a = t),
                        r({editor: e, domElement: t, state: l, props: c}),
                        a.addEventListener(
                          'mousedown',
                          () => {
                            if (l.isEditable) {
                              const t = e.model;
                              t.document.selection.getSelectedElement() !== n &&
                                t.change((e) => e.setSelection(n, 'on'));
                            }
                          },
                          !0
                        );
                    }
                  ),
                  u = {
                    makeEditable() {
                      (l = Object.assign({}, l, {isEditable: !0})),
                        r({domElement: a, editor: e, state: l, props: c}),
                        i.change((e) => {
                          e.setAttribute('data-cke-ignore-events', 'true', d);
                        }),
                        a.querySelector('textarea').focus();
                    },
                    save(t) {
                      t !== l.getRawHtmlValue()
                        ? (e.execute('htmlEmbed', t), e.editing.view.focus())
                        : this.cancel();
                    },
                    cancel() {
                      (l = Object.assign({}, l, {isEditable: !1})),
                        r({domElement: a, editor: e, state: l, props: c}),
                        e.editing.view.focus(),
                        i.change((e) => {
                          e.removeAttribute('data-cke-ignore-events', d);
                        });
                    },
                  };
                (l = {
                  showPreviews: o.showPreviews,
                  isEditable: !1,
                  getRawHtmlValue: () => n.getAttribute('value') || '',
                }),
                  (c = {
                    sanitizeHtml: o.sanitizeHtml,
                    textareaPlaceholder: t('Paste raw HTML here...'),
                    onEditClick() {
                      u.makeEditable();
                    },
                    onSaveClick(e) {
                      u.save(e);
                    },
                    onCancelClick() {
                      u.cancel();
                    },
                  });
                const h = s.createContainerElement(
                  'div',
                  {
                    class: 'raw-html-embed',
                    'data-html-embed-label': t('HTML snippet'),
                    dir: e.locale.uiLanguageDirection,
                  },
                  d
                );
                return (
                  s.setCustomProperty('rawHtmlApi', u, h),
                  s.setCustomProperty('rawHtml', !0, h),
                  Lm(h, s, {label: t('HTML snippet'), hasSelectionHandle: !0})
                );
              },
            });
        }
      }
      function kw(e, t, i) {
        const {t: n} = e.locale,
          o = new Xd(e.locale),
          r = e.commands.get('htmlEmbed');
        return (
          o.set({
            class: `raw-html-embed__${t}-button`,
            icon: dd.pencil,
            tooltip: !0,
            tooltipPosition: 'rtl' === e.locale.uiLanguageDirection ? 'e' : 'w',
          }),
          o.render(),
          'edit' === t
            ? (o.set({icon: dd.pencil, label: n('Edit source')}),
              o.bind('isEnabled').to(r))
            : 'save' === t
            ? (o.set({icon: dd.check, label: n('Save changes')}),
              o.bind('isEnabled').to(r))
            : o.set({icon: dd.cancel, label: n('Cancel')}),
          o.on('execute', i),
          o
        );
      }
      class ww extends Vn {
        static get pluginName() {
          return 'HtmlEmbedUI';
        }
        init() {
          const e = this.editor,
            t = e.t;
          e.ui.componentFactory.add('htmlEmbed', (i) => {
            const n = e.commands.get('htmlEmbed'),
              o = new Xd(i);
            return (
              o.set({
                label: t('Insert HTML'),
                icon: 'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z\\"/></svg>";',
                tooltip: !0,
              }),
              o.bind('isEnabled').to(n, 'isEnabled'),
              this.listenTo(o, 'execute', () => {
                e.execute('htmlEmbed'),
                  e.editing.view.focus(),
                  e.editing.view.document.selection
                    .getSelectedElement()
                    .getCustomProperty('rawHtmlApi')
                    .makeEditable();
              }),
              o
            );
          });
        }
      }
      class _w extends Vn {
        static get requires() {
          return [bw, ww, ng];
        }
        static get pluginName() {
          return 'HtmlEmbed';
        }
      }
      class vw extends Vn {
        static get pluginName() {
          return 'IndentEditing';
        }
        init() {
          const e = this.editor;
          e.commands.add('indent', new Fn(e)),
            e.commands.add('outdent', new Fn(e));
        }
      }
      var yw =
          'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z\\"/></svg>";',
        xw =
          'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z\\"/></svg>";';
      class Aw extends Vn {
        static get pluginName() {
          return 'IndentUI';
        }
        init() {
          const e = this.editor,
            t = e.locale,
            i = e.t,
            n = 'ltr' == t.uiLanguageDirection ? yw : xw,
            o = 'ltr' == t.uiLanguageDirection ? xw : yw;
          this._defineButton('indent', i('Increase indent'), n),
            this._defineButton('outdent', i('Decrease indent'), o);
        }
        _defineButton(e, t, i) {
          const n = this.editor;
          n.ui.componentFactory.add(e, (o) => {
            const r = n.commands.get(e),
              s = new Xd(o);
            return (
              s.set({label: t, icon: i, tooltip: !0}),
              s.bind('isEnabled').to(r, 'isEnabled'),
              this.listenTo(s, 'execute', () => {
                n.execute(e), n.editing.view.focus();
              }),
              s
            );
          });
        }
      }
      class Cw extends Vn {
        static get pluginName() {
          return 'Indent';
        }
        static get requires() {
          return [vw, Aw];
        }
      }
      class Ew {
        constructor() {
          this._definitions = new Set();
        }
        get length() {
          return this._definitions.size;
        }
        add(e) {
          Array.isArray(e)
            ? e.forEach((e) => this._definitions.add(e))
            : this._definitions.add(e);
        }
        getDispatcher() {
          return (e) => {
            e.on(
              'attribute:linkHref',
              (e, t, i) => {
                if (!i.consumable.test(t.item, 'attribute:linkHref')) return;
                if (!t.item.is('selection') && !i.schema.isInline(t.item))
                  return;
                const n = i.writer,
                  o = n.document.selection;
                for (const e of this._definitions) {
                  const r = n.createAttributeElement('a', e.attributes, {
                    priority: 5,
                  });
                  e.classes && n.addClass(e.classes, r);
                  for (const t in e.styles) n.setStyle(t, e.styles[t], r);
                  n.setCustomProperty('link', !0, r),
                    e.callback(t.attributeNewValue)
                      ? t.item.is('selection')
                        ? n.wrap(o.getFirstRange(), r)
                        : n.wrap(i.mapper.toViewRange(t.range), r)
                      : n.unwrap(i.mapper.toViewRange(t.range), r);
                }
              },
              {priority: 'high'}
            );
          };
        }
        getDispatcherForLinkedImage() {
          return (e) => {
            e.on(
              'attribute:linkHref:imageBlock',
              (e, t, {writer: i, mapper: n}) => {
                const o = n.toViewElement(t.item),
                  r = Array.from(o.getChildren()).find((e) =>
                    e.is('element', 'a')
                  );
                for (const e of this._definitions) {
                  const n = Mn(e.attributes);
                  if (e.callback(t.attributeNewValue)) {
                    for (const [e, t] of n)
                      'class' === e
                        ? i.addClass(t, r)
                        : i.setAttribute(e, t, r);
                    e.classes && i.addClass(e.classes, r);
                    for (const t in e.styles) i.setStyle(t, e.styles[t], r);
                  } else {
                    for (const [e, t] of n)
                      'class' === e
                        ? i.removeClass(t, r)
                        : i.removeAttribute(e, r);
                    e.classes && i.removeClass(e.classes, r);
                    for (const t in e.styles) i.removeStyle(t, r);
                  }
                }
              }
            );
          };
        }
      }
      var Tw = RegExp(
          '[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]'
        ),
        Sw = function (e) {
          return Tw.test(e);
        },
        Iw = '\\ud800-\\udfff',
        Pw = '[' + Iw + ']',
        Mw = '[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]',
        Rw = '\\ud83c[\\udffb-\\udfff]',
        Nw = '[^' + Iw + ']',
        Ow = '(?:\\ud83c[\\udde6-\\uddff]){2}',
        Dw = '[\\ud800-\\udbff][\\udc00-\\udfff]',
        Vw = '(?:' + Mw + '|' + Rw + ')?',
        Lw = '[\\ufe0e\\ufe0f]?',
        zw =
          Lw +
          Vw +
          '(?:\\u200d(?:' +
          [Nw, Ow, Dw].join('|') +
          ')' +
          Lw +
          Vw +
          ')*',
        Bw = '(?:' + [Nw + Mw + '?', Mw, Ow, Dw, Pw].join('|') + ')',
        Fw = RegExp(Rw + '(?=' + Rw + ')|' + Bw + zw, 'g'),
        jw = function (e) {
          return Sw(e)
            ? (function (e) {
                return e.match(Fw) || [];
              })(e)
            : (function (e) {
                return e.split('');
              })(e);
        },
        Hw = function (e) {
          e = Io(e);
          var t,
            i,
            n,
            o,
            r = Sw(e) ? jw(e) : void 0,
            s = r ? r[0] : e.charAt(0),
            a = r
              ? ((t = r),
                (i = 1),
                (o = t.length),
                (n = void 0 === n ? o : n),
                !i && n >= o ? t : No(t, i, n)).join('')
              : e.slice(1);
          return s.toUpperCase() + a;
        };
      const $w = /[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,
        Uw = /^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,
        Zw =
          /^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,
        Ww = /^((\w+:(\/{2,})?)|(\W))/i,
        qw = 'Ctrl+K';
      function Gw(e, {writer: t}) {
        const i = t.createAttributeElement('a', {href: e}, {priority: 5});
        return t.setCustomProperty('link', !0, i), i;
      }
      function Yw(e) {
        const t = String(e);
        return (function (e) {
          return !!e.replace($w, '').match(Uw);
        })(t)
          ? t
          : '#';
      }
      function Kw(e, t) {
        return !!e && t.checkAttribute(e.name, 'linkHref');
      }
      function Qw(e, t) {
        const i = ((n = e), Zw.test(n) ? 'mailto:' : t);
        var n;
        const o = !!i && !Jw(e);
        return e && o ? i + e : e;
      }
      function Jw(e) {
        return Ww.test(e);
      }
      function Xw(e) {
        window.open(e, '_blank', 'noopener');
      }
      class e_ extends zn {
        constructor() {
          super(...arguments),
            (this.manualDecorators = new Tn()),
            (this.automaticDecorators = new Ew());
        }
        restoreManualDecoratorStates() {
          for (const e of this.manualDecorators)
            e.value = this._getDecoratorStateFromModel(e.id);
        }
        refresh() {
          const e = this.editor.model,
            t = e.document.selection,
            i = t.getSelectedElement() || Sn(t.getSelectedBlocks());
          Kw(i, e.schema)
            ? ((this.value = i.getAttribute('linkHref')),
              (this.isEnabled = e.schema.checkAttribute(i, 'linkHref')))
            : ((this.value = t.getAttribute('linkHref')),
              (this.isEnabled = e.schema.checkAttributeInSelection(
                t,
                'linkHref'
              )));
          for (const e of this.manualDecorators)
            e.value = this._getDecoratorStateFromModel(e.id);
        }
        execute(e, t = {}) {
          const i = this.editor.model,
            n = i.document.selection,
            o = [],
            r = [];
          for (const e in t) t[e] ? o.push(e) : r.push(e);
          i.change((t) => {
            if (n.isCollapsed) {
              const s = n.getFirstPosition();
              if (n.hasAttribute('linkHref')) {
                const a = t_(n);
                let l = bm(s, 'linkHref', n.getAttribute('linkHref'), i);
                n.getAttribute('linkHref') === a &&
                  (l = this._updateLinkContent(i, t, l, e)),
                  t.setAttribute('linkHref', e, l),
                  o.forEach((e) => {
                    t.setAttribute(e, !0, l);
                  }),
                  r.forEach((e) => {
                    t.removeAttribute(e, l);
                  }),
                  t.setSelection(t.createPositionAfter(l.end.nodeBefore));
              } else if ('' !== e) {
                const r = Mn(n.getAttributes());
                r.set('linkHref', e),
                  o.forEach((e) => {
                    r.set(e, !0);
                  });
                const {end: a} = i.insertContent(t.createText(e, r), s);
                t.setSelection(a);
              }
              ['linkHref', ...o, ...r].forEach((e) => {
                t.removeSelectionAttribute(e);
              });
            } else {
              const s = i.schema.getValidRanges(n.getRanges(), 'linkHref'),
                a = [];
              for (const e of n.getSelectedBlocks())
                i.schema.checkAttribute(e, 'linkHref') &&
                  a.push(t.createRangeOn(e));
              const l = a.slice();
              for (const e of s) this._isRangeToUpdate(e, a) && l.push(e);
              for (const s of l) {
                let a = s;
                if (1 === l.length) {
                  const o = t_(n);
                  n.getAttribute('linkHref') === o &&
                    ((a = this._updateLinkContent(i, t, s, e)),
                    t.setSelection(t.createSelection(a)));
                }
                t.setAttribute('linkHref', e, a),
                  o.forEach((e) => {
                    t.setAttribute(e, !0, a);
                  }),
                  r.forEach((e) => {
                    t.removeAttribute(e, a);
                  });
              }
            }
          });
        }
        _getDecoratorStateFromModel(e) {
          const t = this.editor.model,
            i = t.document.selection,
            n = i.getSelectedElement();
          return Kw(n, t.schema) ? n.getAttribute(e) : i.getAttribute(e);
        }
        _isRangeToUpdate(e, t) {
          for (const i of t) if (i.containsRange(e)) return !1;
          return !0;
        }
        _updateLinkContent(e, t, i, n) {
          const o = t.createText(n, {linkHref: n});
          return e.insertContent(o, i);
        }
      }
      function t_(e) {
        if (e.isCollapsed) {
          const t = e.getFirstPosition();
          return t.textNode && t.textNode.data;
        }
        {
          const t = Array.from(e.getFirstRange().getItems());
          if (t.length > 1) return null;
          const i = t[0];
          return i.is('$text') || i.is('$textProxy') ? i.data : null;
        }
      }
      class i_ extends zn {
        refresh() {
          const e = this.editor.model,
            t = e.document.selection,
            i = t.getSelectedElement();
          Kw(i, e.schema)
            ? (this.isEnabled = e.schema.checkAttribute(i, 'linkHref'))
            : (this.isEnabled = e.schema.checkAttributeInSelection(
                t,
                'linkHref'
              ));
        }
        execute() {
          const e = this.editor,
            t = this.editor.model,
            i = t.document.selection,
            n = e.commands.get('link');
          t.change((e) => {
            const o = i.isCollapsed
              ? [
                  bm(
                    i.getFirstPosition(),
                    'linkHref',
                    i.getAttribute('linkHref'),
                    t
                  ),
                ]
              : t.schema.getValidRanges(i.getRanges(), 'linkHref');
            for (const t of o)
              if ((e.removeAttribute('linkHref', t), n))
                for (const i of n.manualDecorators) e.removeAttribute(i.id, t);
          });
        }
      }
      class n_ extends z() {
        constructor({
          id: e,
          label: t,
          attributes: i,
          classes: n,
          styles: o,
          defaultValue: r,
        }) {
          super(),
            (this.id = e),
            this.set('value', void 0),
            (this.defaultValue = r),
            (this.label = t),
            (this.attributes = i),
            (this.classes = n),
            (this.styles = o);
        }
        _createPattern() {
          return {
            attributes: this.attributes,
            classes: this.classes,
            styles: this.styles,
          };
        }
      }
      var o_ = i(2148),
        r_ = {attributes: {'data-cke': !0}};
      (r_.setAttributes = Qn()),
        (r_.insert = Yn().bind(null, 'head')),
        (r_.domAPI = qn()),
        (r_.insertStyleElement = Xn()),
        Zn()(o_.Z, r_),
        o_.Z && o_.Z.locals && o_.Z.locals;
      const s_ = 'automatic',
        a_ = /^(https?:)?\/\//;
      class l_ extends Vn {
        static get pluginName() {
          return 'LinkEditing';
        }
        static get requires() {
          return [um, Jh, qh];
        }
        constructor(e) {
          super(e), e.config.define('link', {addTargetToExternalLinks: !1});
        }
        init() {
          const e = this.editor;
          e.model.schema.extend('$text', {allowAttributes: 'linkHref'}),
            e.conversion
              .for('dataDowncast')
              .attributeToElement({model: 'linkHref', view: Gw}),
            e.conversion.for('editingDowncast').attributeToElement({
              model: 'linkHref',
              view: (e, t) => Gw(Yw(e), t),
            }),
            e.conversion.for('upcast').elementToAttribute({
              view: {name: 'a', attributes: {href: !0}},
              model: {key: 'linkHref', value: (e) => e.getAttribute('href')},
            }),
            e.commands.add('link', new e_(e)),
            e.commands.add('unlink', new i_(e));
          const t = (function (e, t) {
            const i = {
              'Open in a new tab': e('Open in a new tab'),
              Downloadable: e('Downloadable'),
            };
            return (
              t.forEach(
                (e) => ('label' in e && i[e.label] && (e.label = i[e.label]), e)
              ),
              t
            );
          })(
            e.t,
            (function (e) {
              const t = [];
              if (e)
                for (const [i, n] of Object.entries(e)) {
                  const e = Object.assign({}, n, {id: `link${Hw(i)}`});
                  t.push(e);
                }
              return t;
            })(e.config.get('link.decorators'))
          );
          this._enableAutomaticDecorators(t.filter((e) => e.mode === s_)),
            this._enableManualDecorators(t.filter((e) => 'manual' === e.mode)),
            e.plugins.get(um).registerAttribute('linkHref'),
            wm(e, 'linkHref', 'a', 'ck-link_selected'),
            this._enableLinkOpen(),
            this._enableInsertContentSelectionAttributesFixer(),
            this._enableClickingAfterLink(),
            this._enableTypingOverLink(),
            this._handleDeleteContentAfterLink(),
            this._enableClipboardIntegration();
        }
        _enableAutomaticDecorators(e) {
          const t = this.editor,
            i = t.commands.get('link').automaticDecorators;
          t.config.get('link.addTargetToExternalLinks') &&
            i.add({
              id: 'linkIsExternal',
              mode: s_,
              callback: (e) => !!e && a_.test(e),
              attributes: {target: '_blank', rel: 'noopener noreferrer'},
            }),
            i.add(e),
            i.length && t.conversion.for('downcast').add(i.getDispatcher());
        }
        _enableManualDecorators(e) {
          if (!e.length) return;
          const t = this.editor,
            i = t.commands.get('link').manualDecorators;
          e.forEach((e) => {
            t.model.schema.extend('$text', {allowAttributes: e.id});
            const n = new n_(e);
            i.add(n),
              t.conversion.for('downcast').attributeToElement({
                model: n.id,
                view: (e, {writer: t, schema: i}, {item: o}) => {
                  if ((o.is('selection') || i.isInline(o)) && e) {
                    const e = t.createAttributeElement('a', n.attributes, {
                      priority: 5,
                    });
                    n.classes && t.addClass(n.classes, e);
                    for (const i in n.styles) t.setStyle(i, n.styles[i], e);
                    return t.setCustomProperty('link', !0, e), e;
                  }
                },
              }),
              t.conversion.for('upcast').elementToAttribute({
                view: {name: 'a', ...n._createPattern()},
                model: {key: n.id},
              });
          });
        }
        _enableLinkOpen() {
          const e = this.editor,
            t = e.editing.view.document;
          this.listenTo(
            t,
            'click',
            (e, t) => {
              if (!(n.isMac ? t.domEvent.metaKey : t.domEvent.ctrlKey)) return;
              let i = t.domTarget;
              if (('a' != i.tagName.toLowerCase() && (i = i.closest('a')), !i))
                return;
              const o = i.getAttribute('href');
              o && (e.stop(), t.preventDefault(), Xw(o));
            },
            {context: '$capture'}
          ),
            this.listenTo(t, 'keydown', (t, i) => {
              const n = e.commands.get('link').value;
              n && i.keyCode === bn.enter && i.altKey && (t.stop(), Xw(n));
            });
        }
        _enableInsertContentSelectionAttributesFixer() {
          const e = this.editor.model,
            t = e.document.selection;
          this.listenTo(
            e,
            'insertContent',
            () => {
              const i = t.anchor.nodeBefore,
                n = t.anchor.nodeAfter;
              t.hasAttribute('linkHref') &&
                i &&
                i.hasAttribute('linkHref') &&
                ((n && n.hasAttribute('linkHref')) ||
                  e.change((t) => {
                    c_(t, u_(e.schema));
                  }));
            },
            {priority: 'low'}
          );
        }
        _enableClickingAfterLink() {
          const e = this.editor,
            t = e.model;
          e.editing.view.addObserver(id);
          let i = !1;
          this.listenTo(e.editing.view.document, 'mousedown', () => {
            i = !0;
          }),
            this.listenTo(e.editing.view.document, 'selectionChange', () => {
              if (!i) return;
              i = !1;
              const e = t.document.selection;
              if (!e.isCollapsed) return;
              if (!e.hasAttribute('linkHref')) return;
              const n = e.getFirstPosition(),
                o = bm(n, 'linkHref', e.getAttribute('linkHref'), t);
              (n.isTouching(o.start) || n.isTouching(o.end)) &&
                t.change((e) => {
                  c_(e, u_(t.schema));
                });
            });
        }
        _enableTypingOverLink() {
          const e = this.editor,
            t = e.editing.view;
          let i = null,
            n = !1;
          this.listenTo(
            t.document,
            'delete',
            () => {
              n = !0;
            },
            {priority: 'high'}
          ),
            this.listenTo(
              e.model,
              'deleteContent',
              () => {
                const t = e.model.document.selection;
                t.isCollapsed ||
                  (n
                    ? (n = !1)
                    : d_(e) &&
                      (function (e) {
                        const t = e.document.selection,
                          i = t.getFirstPosition(),
                          n = t.getLastPosition(),
                          o = i.nodeAfter;
                        if (!o) return !1;
                        if (!o.is('$text')) return !1;
                        if (!o.hasAttribute('linkHref')) return !1;
                        return (
                          o === (n.textNode || n.nodeBefore) ||
                          bm(
                            i,
                            'linkHref',
                            o.getAttribute('linkHref'),
                            e
                          ).containsRange(e.createRange(i, n), !0)
                        );
                      })(e.model) &&
                      (i = t.getAttributes()));
              },
              {priority: 'high'}
            ),
            this.listenTo(
              e.model,
              'insertContent',
              (t, [o]) => {
                (n = !1),
                  d_(e) &&
                    i &&
                    (e.model.change((e) => {
                      for (const [t, n] of i) e.setAttribute(t, n, o);
                    }),
                    (i = null));
              },
              {priority: 'high'}
            );
        }
        _handleDeleteContentAfterLink() {
          const e = this.editor,
            t = e.model,
            i = t.document.selection,
            n = e.editing.view;
          let o = !1,
            r = !1;
          this.listenTo(
            n.document,
            'delete',
            (e, t) => {
              r = 'backward' === t.direction;
            },
            {priority: 'high'}
          ),
            this.listenTo(
              t,
              'deleteContent',
              () => {
                o = !1;
                const e = i.getFirstPosition(),
                  n = i.getAttribute('linkHref');
                if (!n) return;
                const r = bm(e, 'linkHref', n, t);
                o = r.containsPosition(e) || r.end.isEqual(e);
              },
              {priority: 'high'}
            ),
            this.listenTo(
              t,
              'deleteContent',
              () => {
                r &&
                  ((r = !1),
                  o ||
                    e.model.enqueueChange((e) => {
                      c_(e, u_(t.schema));
                    }));
              },
              {priority: 'low'}
            );
        }
        _enableClipboardIntegration() {
          const e = this.editor,
            t = e.model,
            i = this.editor.config.get('link.defaultProtocol');
          i &&
            this.listenTo(
              e.plugins.get('ClipboardPipeline'),
              'contentInsertion',
              (e, n) => {
                t.change((e) => {
                  const t = e.createRangeIn(n.content);
                  for (const n of t.getItems())
                    if (n.hasAttribute('linkHref')) {
                      const t = Qw(n.getAttribute('linkHref'), i);
                      e.setAttribute('linkHref', t, n);
                    }
                });
              }
            );
        }
      }
      function c_(e, t) {
        e.removeSelectionAttribute('linkHref');
        for (const i of t) e.removeSelectionAttribute(i);
      }
      function d_(e) {
        return e.model.change((e) => e.batch).isTyping;
      }
      function u_(e) {
        return e
          .getDefinition('$text')
          .allowAttributes.filter((e) => e.startsWith('link'));
      }
      var h_ = i(9879),
        m_ = {attributes: {'data-cke': !0}};
      (m_.setAttributes = Qn()),
        (m_.insert = Yn().bind(null, 'head')),
        (m_.domAPI = qn()),
        (m_.insertStyleElement = Xn()),
        Zn()(h_.Z, m_),
        h_.Z && h_.Z.locals && h_.Z.locals;
      class g_ extends Cd {
        constructor(e, t) {
          super(e),
            (this.focusTracker = new In()),
            (this.keystrokes = new Pn()),
            (this._focusables = new yd());
          const i = e.t;
          (this.urlInputView = this._createUrlInput()),
            (this.saveButtonView = this._createButton(
              i('Save'),
              dd.check,
              'ck-button-save'
            )),
            (this.saveButtonView.type = 'submit'),
            (this.cancelButtonView = this._createButton(
              i('Cancel'),
              dd.cancel,
              'ck-button-cancel',
              'cancel'
            )),
            (this._manualDecoratorSwitches =
              this._createManualDecoratorSwitches(t)),
            (this.children = this._createFormChildren(t.manualDecorators)),
            (this._focusCycler = new pu({
              focusables: this._focusables,
              focusTracker: this.focusTracker,
              keystrokeHandler: this.keystrokes,
              actions: {focusPrevious: 'shift + tab', focusNext: 'tab'},
            }));
          const n = ['ck', 'ck-link-form', 'ck-responsive-form'];
          t.manualDecorators.length &&
            n.push('ck-link-form_layout-vertical', 'ck-vertical-form'),
            this.setTemplate({
              tag: 'form',
              attributes: {class: n, tabindex: '-1'},
              children: this.children,
            });
        }
        getDecoratorSwitchesState() {
          return Array.from(this._manualDecoratorSwitches).reduce(
            (e, t) => ((e[t.name] = t.isOn), e),
            {}
          );
        }
        render() {
          super.render(),
            _d({view: this}),
            [
              this.urlInputView,
              ...this._manualDecoratorSwitches,
              this.saveButtonView,
              this.cancelButtonView,
            ].forEach((e) => {
              this._focusables.add(e), this.focusTracker.add(e.element);
            }),
            this.keystrokes.listenTo(this.element);
        }
        destroy() {
          super.destroy(),
            this.focusTracker.destroy(),
            this.keystrokes.destroy();
        }
        focus() {
          this._focusCycler.focusFirst();
        }
        _createUrlInput() {
          const e = this.locale.t,
            t = new yh(this.locale, xh);
          return (t.label = e('Link URL')), t;
        }
        _createButton(e, t, i, n) {
          const o = new Xd(this.locale);
          return (
            o.set({label: e, icon: t, tooltip: !0}),
            o.extendTemplate({attributes: {class: i}}),
            n && o.delegate('execute').to(this, n),
            o
          );
        }
        _createManualDecoratorSwitches(e) {
          const t = this.createCollection();
          for (const i of e.manualDecorators) {
            const n = new iu(this.locale);
            n.set({name: i.id, label: i.label, withText: !0}),
              n
                .bind('isOn')
                .toMany([i, e], 'value', (e, t) =>
                  void 0 === t && void 0 === e ? !!i.defaultValue : !!e
                ),
              n.on('execute', () => {
                i.set('value', !n.isOn);
              }),
              t.add(n);
          }
          return t;
        }
        _createFormChildren(e) {
          const t = this.createCollection();
          if ((t.add(this.urlInputView), e.length)) {
            const e = new Cd();
            e.setTemplate({
              tag: 'ul',
              children: this._manualDecoratorSwitches.map((e) => ({
                tag: 'li',
                children: [e],
                attributes: {class: ['ck', 'ck-list__item']},
              })),
              attributes: {class: ['ck', 'ck-reset', 'ck-list']},
            }),
              t.add(e);
          }
          return t.add(this.saveButtonView), t.add(this.cancelButtonView), t;
        }
      }
      var f_ = i(2182),
        p_ = {attributes: {'data-cke': !0}};
      (p_.setAttributes = Qn()),
        (p_.insert = Yn().bind(null, 'head')),
        (p_.domAPI = qn()),
        (p_.insertStyleElement = Xn()),
        Zn()(f_.Z, p_),
        f_.Z && f_.Z.locals && f_.Z.locals;
      class b_ extends Cd {
        constructor(e) {
          super(e),
            (this.focusTracker = new In()),
            (this.keystrokes = new Pn()),
            (this._focusables = new yd());
          const t = e.t;
          (this.previewButtonView = this._createPreviewButton()),
            (this.unlinkButtonView = this._createButton(
              t('Unlink'),
              'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z\\"/></svg>";',
              'unlink'
            )),
            (this.editButtonView = this._createButton(
              t('Edit link'),
              dd.pencil,
              'edit'
            )),
            this.set('href', void 0),
            (this._focusCycler = new pu({
              focusables: this._focusables,
              focusTracker: this.focusTracker,
              keystrokeHandler: this.keystrokes,
              actions: {focusPrevious: 'shift + tab', focusNext: 'tab'},
            })),
            this.setTemplate({
              tag: 'div',
              attributes: {
                class: ['ck', 'ck-link-actions', 'ck-responsive-form'],
                tabindex: '-1',
              },
              children: [
                this.previewButtonView,
                this.editButtonView,
                this.unlinkButtonView,
              ],
            });
        }
        render() {
          super.render(),
            [
              this.previewButtonView,
              this.editButtonView,
              this.unlinkButtonView,
            ].forEach((e) => {
              this._focusables.add(e), this.focusTracker.add(e.element);
            }),
            this.keystrokes.listenTo(this.element);
        }
        destroy() {
          super.destroy(),
            this.focusTracker.destroy(),
            this.keystrokes.destroy();
        }
        focus() {
          this._focusCycler.focusFirst();
        }
        _createButton(e, t, i) {
          const n = new Xd(this.locale);
          return (
            n.set({label: e, icon: t, tooltip: !0}),
            n.delegate('execute').to(this, i),
            n
          );
        }
        _createPreviewButton() {
          const e = new Xd(this.locale),
            t = this.bindTemplate,
            i = this.t;
          return (
            e.set({withText: !0, tooltip: i('Open link in new tab')}),
            e.extendTemplate({
              attributes: {
                class: ['ck', 'ck-link-actions__preview'],
                href: t.to('href', (e) => e && Yw(e)),
                target: '_blank',
                rel: 'noopener noreferrer',
              },
            }),
            e
              .bind('label')
              .to(this, 'href', (e) => e || i('This link has no URL')),
            e.bind('isEnabled').to(this, 'href', (e) => !!e),
            (e.template.tag = 'a'),
            (e.template.eventListeners = {}),
            e
          );
        }
      }
      var k_ =
        'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z\\"/></svg>";';
      const w_ = 'link-ui';
      class __ extends Vn {
        constructor() {
          super(...arguments),
            (this.actionsView = null),
            (this.formView = null);
        }
        static get requires() {
          return [Mh];
        }
        static get pluginName() {
          return 'LinkUI';
        }
        init() {
          const e = this.editor;
          e.editing.view.addObserver(td),
            (this._balloon = e.plugins.get(Mh)),
            this._createToolbarLinkButton(),
            this._enableBalloonActivators(),
            e.conversion.for('editingDowncast').markerToHighlight({
              model: w_,
              view: {classes: ['ck-fake-link-selection']},
            }),
            e.conversion.for('editingDowncast').markerToElement({
              model: w_,
              view: {
                name: 'span',
                classes: [
                  'ck-fake-link-selection',
                  'ck-fake-link-selection_collapsed',
                ],
              },
            });
        }
        destroy() {
          super.destroy(),
            this.formView && this.formView.destroy(),
            this.actionsView && this.actionsView.destroy();
        }
        _createViews() {
          (this.actionsView = this._createActionsView()),
            (this.formView = this._createFormView()),
            this._enableUserBalloonInteractions();
        }
        _createActionsView() {
          const e = this.editor,
            t = new b_(e.locale),
            i = e.commands.get('link'),
            n = e.commands.get('unlink');
          return (
            t.bind('href').to(i, 'value'),
            t.editButtonView.bind('isEnabled').to(i),
            t.unlinkButtonView.bind('isEnabled').to(n),
            this.listenTo(t, 'edit', () => {
              this._addFormView();
            }),
            this.listenTo(t, 'unlink', () => {
              e.execute('unlink'), this._hideUI();
            }),
            t.keystrokes.set('Esc', (e, t) => {
              this._hideUI(), t();
            }),
            t.keystrokes.set(qw, (e, t) => {
              this._addFormView(), t();
            }),
            t
          );
        }
        _createFormView() {
          const e = this.editor,
            t = e.commands.get('link'),
            i = e.config.get('link.defaultProtocol'),
            n = new (wd(g_))(e.locale, t);
          return (
            n.urlInputView.fieldView.bind('value').to(t, 'value'),
            n.urlInputView.bind('isEnabled').to(t, 'isEnabled'),
            n.saveButtonView.bind('isEnabled').to(t),
            this.listenTo(n, 'submit', () => {
              const {value: t} = n.urlInputView.fieldView.element,
                o = Qw(t, i);
              e.execute('link', o, n.getDecoratorSwitchesState()),
                this._closeFormView();
            }),
            this.listenTo(n, 'cancel', () => {
              this._closeFormView();
            }),
            n.keystrokes.set('Esc', (e, t) => {
              this._closeFormView(), t();
            }),
            n
          );
        }
        _createToolbarLinkButton() {
          const e = this.editor,
            t = e.commands.get('link'),
            i = e.t;
          e.ui.componentFactory.add('link', (e) => {
            const n = new Xd(e);
            return (
              (n.isEnabled = !0),
              (n.label = i('Link')),
              (n.icon = k_),
              (n.keystroke = qw),
              (n.tooltip = !0),
              (n.isToggleable = !0),
              n.bind('isEnabled').to(t, 'isEnabled'),
              n.bind('isOn').to(t, 'value', (e) => !!e),
              this.listenTo(n, 'execute', () => this._showUI(!0)),
              n
            );
          });
        }
        _enableBalloonActivators() {
          const e = this.editor,
            t = e.editing.view.document;
          this.listenTo(t, 'click', () => {
            this._getSelectedLinkElement() && this._showUI();
          }),
            e.keystrokes.set(qw, (t, i) => {
              i(), e.commands.get('link').isEnabled && this._showUI(!0);
            });
        }
        _enableUserBalloonInteractions() {
          this.editor.keystrokes.set(
            'Tab',
            (e, t) => {
              this._areActionsVisible &&
                !this.actionsView.focusTracker.isFocused &&
                (this.actionsView.focus(), t());
            },
            {priority: 'high'}
          ),
            this.editor.keystrokes.set('Esc', (e, t) => {
              this._isUIVisible && (this._hideUI(), t());
            }),
            kd({
              emitter: this.formView,
              activator: () => this._isUIInPanel,
              contextElements: () => [this._balloon.view.element],
              callback: () => this._hideUI(),
            });
        }
        _addActionsView() {
          this.actionsView || this._createViews(),
            this._areActionsInPanel ||
              this._balloon.add({
                view: this.actionsView,
                position: this._getBalloonPositionData(),
              });
        }
        _addFormView() {
          if ((this.formView || this._createViews(), this._isFormInPanel))
            return;
          const e = this.editor.commands.get('link');
          this.formView.disableCssTransitions(),
            this._balloon.add({
              view: this.formView,
              position: this._getBalloonPositionData(),
            }),
            this._balloon.visibleView === this.formView &&
              this.formView.urlInputView.fieldView.select(),
            this.formView.enableCssTransitions(),
            (this.formView.urlInputView.fieldView.element.value =
              e.value || '');
        }
        _closeFormView() {
          const e = this.editor.commands.get('link');
          e.restoreManualDecoratorStates(),
            void 0 !== e.value ? this._removeFormView() : this._hideUI();
        }
        _removeFormView() {
          this._isFormInPanel &&
            (this.formView.saveButtonView.focus(),
            this._balloon.remove(this.formView),
            this.editor.editing.view.focus(),
            this._hideFakeVisualSelection());
        }
        _showUI(e = !1) {
          this.formView || this._createViews(),
            this._getSelectedLinkElement()
              ? (this._areActionsVisible
                  ? this._addFormView()
                  : this._addActionsView(),
                e && this._balloon.showStack('main'))
              : (this._showFakeVisualSelection(),
                this._addActionsView(),
                e && this._balloon.showStack('main'),
                this._addFormView()),
            this._startUpdatingUI();
        }
        _hideUI() {
          if (!this._isUIInPanel) return;
          const e = this.editor;
          this.stopListening(e.ui, 'update'),
            this.stopListening(this._balloon, 'change:visibleView'),
            e.editing.view.focus(),
            this._removeFormView(),
            this._balloon.remove(this.actionsView),
            this._hideFakeVisualSelection();
        }
        _startUpdatingUI() {
          const e = this.editor,
            t = e.editing.view.document;
          let i = this._getSelectedLinkElement(),
            n = r();
          const o = () => {
            const e = this._getSelectedLinkElement(),
              t = r();
            (i && !e) || (!i && t !== n)
              ? this._hideUI()
              : this._isUIVisible &&
                this._balloon.updatePosition(this._getBalloonPositionData()),
              (i = e),
              (n = t);
          };
          function r() {
            return t.selection.focus
              .getAncestors()
              .reverse()
              .find((e) => e.is('element'));
          }
          this.listenTo(e.ui, 'update', o),
            this.listenTo(this._balloon, 'change:visibleView', o);
        }
        get _isFormInPanel() {
          return !!this.formView && this._balloon.hasView(this.formView);
        }
        get _areActionsInPanel() {
          return !!this.actionsView && this._balloon.hasView(this.actionsView);
        }
        get _areActionsVisible() {
          return (
            !!this.actionsView && this._balloon.visibleView === this.actionsView
          );
        }
        get _isUIInPanel() {
          return this._isFormInPanel || this._areActionsInPanel;
        }
        get _isUIVisible() {
          const e = this._balloon.visibleView;
          return (
            (!!this.formView && e == this.formView) || this._areActionsVisible
          );
        }
        _getBalloonPositionData() {
          const e = this.editor.editing.view,
            t = this.editor.model,
            i = e.document;
          let n;
          if (t.markers.has(w_)) {
            const t = Array.from(
                this.editor.editing.mapper.markerNameToElements(w_)
              ),
              i = e.createRange(
                e.createPositionBefore(t[0]),
                e.createPositionAfter(t[t.length - 1])
              );
            n = e.domConverter.viewRangeToDom(i);
          } else
            n = () => {
              const t = this._getSelectedLinkElement();
              return t
                ? e.domConverter.mapViewToDom(t)
                : e.domConverter.viewRangeToDom(i.selection.getFirstRange());
            };
          return {target: n};
        }
        _getSelectedLinkElement() {
          const e = this.editor.editing.view,
            t = e.document.selection,
            i = t.getSelectedElement();
          if (t.isCollapsed || (i && Vm(i))) return v_(t.getFirstPosition());
          {
            const i = t.getFirstRange().getTrimmed(),
              n = v_(i.start),
              o = v_(i.end);
            return n && n == o && e.createRangeIn(n).getTrimmed().isEqual(i)
              ? n
              : null;
          }
        }
        _showFakeVisualSelection() {
          const e = this.editor.model;
          e.change((t) => {
            const i = e.document.selection.getFirstRange();
            if (e.markers.has(w_)) t.updateMarker(w_, {range: i});
            else if (i.start.isAtEnd) {
              const n = i.start.getLastMatchingPosition(
                ({item: t}) => !e.schema.isContent(t),
                {boundaries: i}
              );
              t.addMarker(w_, {
                usingOperation: !1,
                affectsData: !1,
                range: t.createRange(n, i.end),
              });
            } else
              t.addMarker(w_, {usingOperation: !1, affectsData: !1, range: i});
          });
        }
        _hideFakeVisualSelection() {
          const e = this.editor.model;
          e.markers.has(w_) &&
            e.change((e) => {
              e.removeMarker(w_);
            });
        }
      }
      function v_(e) {
        return (
          e.getAncestors().find((e) => {
            return (
              (t = e).is('attributeElement') && !!t.getCustomProperty('link')
            );
            var t;
          }) || null
        );
      }
      const y_ = new RegExp(
        '(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$',
        'i'
      );
      class x_ extends Vn {
        static get requires() {
          return [am];
        }
        static get pluginName() {
          return 'AutoLink';
        }
        init() {
          const e = this.editor.model.document.selection;
          e.on('change:range', () => {
            this.isEnabled = !e.anchor.parent.is('element', 'codeBlock');
          }),
            this._enableTypingHandling();
        }
        afterInit() {
          this._enableEnterHandling(), this._enableShiftEnterHandling();
        }
        _enableTypingHandling() {
          const e = this.editor,
            t = new dm(e.model, (e) => {
              if (
                !(function (e) {
                  return (
                    e.length > 4 &&
                    ' ' === e[e.length - 1] &&
                    ' ' !== e[e.length - 2]
                  );
                })(e)
              )
                return;
              const t = A_(e.substr(0, e.length - 1));
              return t ? {url: t} : void 0;
            });
          t.on('matched:data', (t, i) => {
            const {batch: n, range: o, url: r} = i;
            if (!n.isTyping) return;
            const s = o.end.getShiftedBy(-1),
              a = s.getShiftedBy(-r.length),
              l = e.model.createRange(a, s);
            this._applyAutoLink(r, l);
          }),
            t.bind('isEnabled').to(this);
        }
        _enableEnterHandling() {
          const e = this.editor,
            t = e.model,
            i = e.commands.get('enter');
          i &&
            i.on('execute', () => {
              const e = t.document.selection.getFirstPosition();
              if (!e.parent.previousSibling) return;
              const i = t.createRangeIn(e.parent.previousSibling);
              this._checkAndApplyAutoLinkOnRange(i);
            });
        }
        _enableShiftEnterHandling() {
          const e = this.editor,
            t = e.model,
            i = e.commands.get('shiftEnter');
          i &&
            i.on('execute', () => {
              const e = t.document.selection.getFirstPosition(),
                i = t.createRange(
                  t.createPositionAt(e.parent, 0),
                  e.getShiftedBy(-1)
                );
              this._checkAndApplyAutoLinkOnRange(i);
            });
        }
        _checkAndApplyAutoLinkOnRange(e) {
          const t = this.editor.model,
            {text: i, range: n} = cm(e, t),
            o = A_(i);
          if (o) {
            const e = t.createRange(n.end.getShiftedBy(-o.length), n.end);
            this._applyAutoLink(o, e);
          }
        }
        _applyAutoLink(e, t) {
          const i = this.editor.model,
            n = Qw(e, this.editor.config.get('link.defaultProtocol'));
          this.isEnabled &&
            (function (e, t) {
              return t.schema.checkAttributeInSelection(
                t.createSelection(e),
                'linkHref'
              );
            })(t, i) &&
            Jw(n) &&
            !(function (e) {
              const t = e.start.nodeAfter;
              return !!t && t.hasAttribute('linkHref');
            })(t) &&
            this._persistAutoLink(n, t);
        }
        _persistAutoLink(e, t) {
          const i = this.editor.model,
            n = this.editor.plugins.get('Delete');
          i.enqueueChange((o) => {
            o.setAttribute('linkHref', e, t),
              i.enqueueChange(() => {
                n.requestUndoOnBackspace();
              });
          });
        }
      }
      function A_(e) {
        const t = y_.exec(e);
        return t ? t[2] : null;
      }
      class C_ extends Vn {
        static get requires() {
          return ['ImageEditing', 'ImageUtils', l_];
        }
        static get pluginName() {
          return 'LinkImageEditing';
        }
        init() {
          const e = this.editor,
            t = e.model.schema;
          e.plugins.has('ImageBlockEditing') &&
            t.extend('imageBlock', {allowAttributes: ['linkHref']}),
            e.conversion.for('upcast').add(
              (function (e) {
                const t = e.plugins.has('ImageInlineEditing'),
                  i = e.plugins.get('ImageUtils');
                return (e) => {
                  e.on(
                    'element:a',
                    (e, n, o) => {
                      const r = n.viewItem,
                        s = i.findViewImgElement(r);
                      if (!s) return;
                      const a = s.findAncestor((e) => i.isBlockImageView(e));
                      if (t && !a) return;
                      if (!o.consumable.consume(r, {attributes: ['href']}))
                        return;
                      const l = r.getAttribute('href');
                      if (!l) return;
                      let c = n.modelCursor.parent;
                      if (!c.is('element', 'imageBlock')) {
                        const e = o.convertItem(s, n.modelCursor);
                        (n.modelRange = e.modelRange),
                          (n.modelCursor = e.modelCursor),
                          (c = n.modelCursor.nodeBefore);
                      }
                      c &&
                        c.is('element', 'imageBlock') &&
                        o.writer.setAttribute('linkHref', l, c);
                    },
                    {priority: 'high'}
                  );
                };
              })(e)
            ),
            e.conversion.for('downcast').add(
              (function (e) {
                const t = e.plugins.get('ImageUtils');
                return (e) => {
                  e.on(
                    'attribute:linkHref:imageBlock',
                    (e, i, n) => {
                      if (!n.consumable.consume(i.item, e.name)) return;
                      const o = n.mapper.toViewElement(i.item),
                        r = n.writer,
                        s = Array.from(o.getChildren()).find((e) =>
                          e.is('element', 'a')
                        ),
                        a = t.findViewImgElement(o),
                        l = a.parent.is('element', 'picture') ? a.parent : a;
                      if (s)
                        i.attributeNewValue
                          ? r.setAttribute('href', i.attributeNewValue, s)
                          : (r.move(
                              r.createRangeOn(l),
                              r.createPositionAt(o, 0)
                            ),
                            r.remove(s));
                      else {
                        const e = r.createContainerElement('a', {
                          href: i.attributeNewValue,
                        });
                        r.insert(r.createPositionAt(o, 0), e),
                          r.move(r.createRangeOn(l), r.createPositionAt(e, 0));
                      }
                    },
                    {priority: 'high'}
                  );
                };
              })(e)
            ),
            this._enableAutomaticDecorators(),
            this._enableManualDecorators();
        }
        _enableAutomaticDecorators() {
          const e = this.editor,
            t = e.commands.get('link').automaticDecorators;
          t.length &&
            e.conversion.for('downcast').add(t.getDispatcherForLinkedImage());
        }
        _enableManualDecorators() {
          const e = this.editor,
            t = e.commands.get('link');
          for (const i of t.manualDecorators)
            e.plugins.has('ImageBlockEditing') &&
              e.model.schema.extend('imageBlock', {allowAttributes: i.id}),
              e.plugins.has('ImageInlineEditing') &&
                e.model.schema.extend('imageInline', {allowAttributes: i.id}),
              e.conversion.for('downcast').add(E_(i)),
              e.conversion.for('upcast').add(T_(e, i));
        }
      }
      function E_(e) {
        return (t) => {
          t.on(`attribute:${e.id}:imageBlock`, (t, i, n) => {
            const o = n.mapper.toViewElement(i.item),
              r = Array.from(o.getChildren()).find((e) => e.is('element', 'a'));
            if (r) {
              for (const [t, i] of Mn(e.attributes))
                n.writer.setAttribute(t, i, r);
              e.classes && n.writer.addClass(e.classes, r);
              for (const t in e.styles) n.writer.setStyle(t, e.styles[t], r);
            }
          });
        };
      }
      function T_(e, t) {
        const i = e.plugins.has('ImageInlineEditing'),
          n = e.plugins.get('ImageUtils');
        return (e) => {
          e.on(
            'element:a',
            (e, o, r) => {
              const s = o.viewItem,
                a = n.findViewImgElement(s);
              if (!a) return;
              const l = a.findAncestor((e) => n.isBlockImageView(e));
              if (i && !l) return;
              const c = new mo(t._createPattern()).match(s);
              if (!c) return;
              if (!r.consumable.consume(s, c.match)) return;
              const d = o.modelCursor.nodeBefore || o.modelCursor.parent;
              r.writer.setAttribute(t.id, !0, d);
            },
            {priority: 'high'}
          );
        };
      }
      class S_ extends Vn {
        static get requires() {
          return [l_, __, 'ImageBlockEditing'];
        }
        static get pluginName() {
          return 'LinkImageUI';
        }
        init() {
          const e = this.editor,
            t = e.editing.view.document;
          this.listenTo(
            t,
            'click',
            (t, i) => {
              this._isSelectedLinkedImage(e.model.document.selection) &&
                (i.preventDefault(), t.stop());
            },
            {priority: 'high'}
          ),
            this._createToolbarLinkImageButton();
        }
        _createToolbarLinkImageButton() {
          const e = this.editor,
            t = e.t;
          e.ui.componentFactory.add('linkImage', (i) => {
            const n = new Xd(i),
              o = e.plugins.get('LinkUI'),
              r = e.commands.get('link');
            return (
              n.set({
                isEnabled: !0,
                label: t('Link image'),
                icon: k_,
                keystroke: qw,
                tooltip: !0,
                isToggleable: !0,
              }),
              n.bind('isEnabled').to(r, 'isEnabled'),
              n.bind('isOn').to(r, 'value', (e) => !!e),
              this.listenTo(n, 'execute', () => {
                this._isSelectedLinkedImage(e.model.document.selection)
                  ? o._addActionsView()
                  : o._showUI(!0);
              }),
              n
            );
          });
        }
        _isSelectedLinkedImage(e) {
          const t = e.getSelectedElement();
          return (
            this.editor.plugins.get('ImageUtils').isImage(t) &&
            t.hasAttribute('linkHref')
          );
        }
      }
      var I_ = i(5348),
        P_ = {attributes: {'data-cke': !0}};
      (P_.setAttributes = Qn()),
        (P_.insert = Yn().bind(null, 'head')),
        (P_.domAPI = qn()),
        (P_.insertStyleElement = Xn()),
        Zn()(I_.Z, P_),
        I_.Z && I_.Z.locals && I_.Z.locals;
      class M_ extends Vn {
        static get requires() {
          return [C_, S_];
        }
        static get pluginName() {
          return 'LinkImage';
        }
      }
      class R_ {
        constructor(e, t) {
          (this._startElement = e),
            (this._referenceIndent = e.getAttribute('listIndent')),
            (this._isForward = 'forward' == t.direction),
            (this._includeSelf = !!t.includeSelf),
            (this._sameAttributes = toArray(t.sameAttributes || [])),
            (this._sameIndent = !!t.sameIndent),
            (this._lowerIndent = !!t.lowerIndent),
            (this._higherIndent = !!t.higherIndent);
        }
        static first(e, t) {
          const i = new this(e, t)[Symbol.iterator]();
          return first(i);
        }
        *[Symbol.iterator]() {
          const e = [];
          for (const {node: t} of N_(
            this._getStartNode(),
            this._isForward ? 'forward' : 'backward'
          )) {
            const i = t.getAttribute('listIndent');
            if (i < this._referenceIndent) {
              if (!this._lowerIndent) break;
              this._referenceIndent = i;
            } else if (i > this._referenceIndent) {
              if (!this._higherIndent) continue;
              if (!this._isForward) {
                e.push(t);
                continue;
              }
            } else {
              if (!this._sameIndent) {
                if (this._higherIndent) {
                  e.length && (yield* e, (e.length = 0));
                  break;
                }
                continue;
              }
              if (
                this._sameAttributes.some(
                  (e) =>
                    t.getAttribute(e) !== this._startElement.getAttribute(e)
                )
              )
                break;
            }
            e.length && (yield* e, (e.length = 0)), yield t;
          }
        }
        _getStartNode() {
          return this._includeSelf
            ? this._startElement
            : this._isForward
            ? this._startElement.nextSibling
            : this._startElement.previousSibling;
        }
      }
      function* N_(e, t = 'forward') {
        const i = 'forward' == t;
        let n = null;
        for (; isListItemBlock(e); )
          yield {node: e, previous: n},
            (n = e),
            (e = i ? e.nextSibling : e.previousSibling);
      }
      class O_ {
        constructor(e) {
          this._listHead = e;
        }
        [Symbol.iterator]() {
          return N_(this._listHead, 'forward');
        }
      }
      var D_ = i(9373),
        V_ = {attributes: {'data-cke': !0}};
      (V_.setAttributes = Qn()),
        (V_.insert = Yn().bind(null, 'head')),
        (V_.domAPI = qn()),
        (V_.insertStyleElement = Xn()),
        Zn()(D_.Z, V_),
        D_.Z && D_.Z.locals && D_.Z.locals;
      var L_ = i(5079),
        z_ = {attributes: {'data-cke': !0}};
      function B_(e, t) {
        const i = t.mapper,
          n = t.writer,
          o = 'numbered' == e.getAttribute('listType') ? 'ol' : 'ul',
          r = (function (e) {
            const t = e.createContainerElement('li');
            return (t.getFillerOffset = Y_), t;
          })(n),
          s = n.createContainerElement(o, null);
        return n.insert(n.createPositionAt(s, 0), r), i.bindElements(e, r), r;
      }
      function F_(e, t, i, n) {
        const o = t.parent,
          r = i.mapper,
          s = i.writer;
        let a = r.toViewPosition(n.createPositionBefore(e));
        const l = $_(e.previousSibling, {
            sameIndent: !0,
            smallerIndent: !0,
            listIndent: e.getAttribute('listIndent'),
          }),
          c = e.previousSibling;
        if (l && l.getAttribute('listIndent') == e.getAttribute('listIndent')) {
          const e = r.toViewElement(l);
          a = s.breakContainer(s.createPositionAfter(e));
        } else if (c && 'listItem' == c.name) {
          a = r.toViewPosition(n.createPositionAt(c, 'end'));
          const e = r.findMappedViewAncestor(a),
            t = Z_(e);
          a = t ? s.createPositionBefore(t) : s.createPositionAt(e, 'end');
        } else a = r.toViewPosition(n.createPositionBefore(e));
        if (((a = H_(a)), s.insert(a, o), c && 'listItem' == c.name)) {
          const e = r.toViewElement(c),
            i = s
              .createRange(s.createPositionAt(e, 0), a)
              .getWalker({ignoreElementEnd: !0});
          for (const e of i)
            if (e.item.is('element', 'li')) {
              const n = s.breakContainer(s.createPositionBefore(e.item)),
                o = e.item.parent,
                r = s.createPositionAt(t, 'end');
              j_(s, r.nodeBefore, r.nodeAfter),
                s.move(s.createRangeOn(o), r),
                (i._position = n);
            }
        } else {
          const i = o.nextSibling;
          if (i && (i.is('element', 'ul') || i.is('element', 'ol'))) {
            let n = null;
            for (const t of i.getChildren()) {
              const i = r.toModelElement(t);
              if (
                !(
                  i &&
                  i.getAttribute('listIndent') > e.getAttribute('listIndent')
                )
              )
                break;
              n = t;
            }
            n &&
              (s.breakContainer(s.createPositionAfter(n)),
              s.move(s.createRangeOn(n.parent), s.createPositionAt(t, 'end')));
          }
        }
        j_(s, o, o.nextSibling), j_(s, o.previousSibling, o);
      }
      function j_(e, t, i) {
        return !t ||
          !i ||
          ('ul' != t.name && 'ol' != t.name) ||
          t.name != i.name ||
          t.getAttribute('class') !== i.getAttribute('class')
          ? null
          : e.mergeContainers(e.createPositionAfter(t));
      }
      function H_(e) {
        return e.getLastMatchingPosition((e) => e.item.is('uiElement'));
      }
      function $_(e, t) {
        const i = !!t.sameIndent,
          n = !!t.smallerIndent,
          o = t.listIndent;
        let r = e;
        for (; r && 'listItem' == r.name; ) {
          const e = r.getAttribute('listIndent');
          if ((i && o == e) || (n && o > e)) return r;
          r = 'forward' === t.direction ? r.nextSibling : r.previousSibling;
        }
        return null;
      }
      function U_(e, t, i, n) {
        e.ui.componentFactory.add(t, (o) => {
          const r = e.commands.get(t),
            s = new Xd(o);
          return (
            s.set({label: i, icon: n, tooltip: !0, isToggleable: !0}),
            s.bind('isOn', 'isEnabled').to(r, 'value', 'isEnabled'),
            s.on('execute', () => {
              e.execute(t), e.editing.view.focus();
            }),
            s
          );
        });
      }
      function Z_(e) {
        for (const t of e.getChildren())
          if ('ul' == t.name || 'ol' == t.name) return t;
        return null;
      }
      function W_(e, t) {
        const i = [],
          n = e.parent,
          o = {
            ignoreElementEnd: !1,
            startPosition: e,
            shallow: !0,
            direction: t,
          },
          r = n.getAttribute('listIndent'),
          s = [...new ua(o)]
            .filter((e) => e.item.is('element'))
            .map((e) => e.item);
        for (const e of s) {
          if (!e.is('element', 'listItem')) break;
          if (e.getAttribute('listIndent') < r) break;
          if (!(e.getAttribute('listIndent') > r)) {
            if (e.getAttribute('listType') !== n.getAttribute('listType'))
              break;
            if (e.getAttribute('listStyle') !== n.getAttribute('listStyle'))
              break;
            if (
              e.getAttribute('listReversed') !== n.getAttribute('listReversed')
            )
              break;
            if (e.getAttribute('listStart') !== n.getAttribute('listStart'))
              break;
            'backward' === t ? i.unshift(e) : i.push(e);
          }
        }
        return i;
      }
      (z_.setAttributes = Qn()),
        (z_.insert = Yn().bind(null, 'head')),
        (z_.domAPI = qn()),
        (z_.insertStyleElement = Xn()),
        Zn()(L_.Z, z_),
        L_.Z && L_.Z.locals && L_.Z.locals;
      const q_ = ['disc', 'circle', 'square'],
        G_ = [
          'decimal',
          'decimal-leading-zero',
          'lower-roman',
          'upper-roman',
          'lower-latin',
          'upper-latin',
        ];
      function Y_() {
        const e =
          !this.isEmpty &&
          ('ul' == this.getChild(0).name || 'ol' == this.getChild(0).name);
        return this.isEmpty || e ? 0 : nr.call(this);
      }
      class K_ extends Vn {
        static get pluginName() {
          return 'ListUI';
        }
        init() {
          const e = this.editor.t;
          U_(
            this.editor,
            'numberedList',
            e('Numbered List'),
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z\\"/></svg>";'
          ),
            U_(
              this.editor,
              'bulletedList',
              e('Bulleted List'),
              'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z\\"/></svg>";'
            );
        }
      }
      const Q_ = {},
        J_ = {},
        X_ = {},
        ev = [
          {listStyle: 'disc', typeAttribute: 'disc', listType: 'bulleted'},
          {listStyle: 'circle', typeAttribute: 'circle', listType: 'bulleted'},
          {listStyle: 'square', typeAttribute: 'square', listType: 'bulleted'},
          {listStyle: 'decimal', typeAttribute: '1', listType: 'numbered'},
          {
            listStyle: 'decimal-leading-zero',
            typeAttribute: null,
            listType: 'numbered',
          },
          {listStyle: 'lower-roman', typeAttribute: 'i', listType: 'numbered'},
          {listStyle: 'upper-roman', typeAttribute: 'I', listType: 'numbered'},
          {listStyle: 'lower-alpha', typeAttribute: 'a', listType: 'numbered'},
          {listStyle: 'upper-alpha', typeAttribute: 'A', listType: 'numbered'},
          {listStyle: 'lower-latin', typeAttribute: 'a', listType: 'numbered'},
          {listStyle: 'upper-latin', typeAttribute: 'A', listType: 'numbered'},
        ];
      for (const {listStyle: e, typeAttribute: t, listType: i} of ev)
        (Q_[e] = i), (J_[e] = t), t && (X_[t] = e);
      var tv = i(9873),
        iv = {attributes: {'data-cke': !0}};
      (iv.setAttributes = Qn()),
        (iv.insert = Yn().bind(null, 'head')),
        (iv.domAPI = qn()),
        (iv.insertStyleElement = Xn()),
        Zn()(tv.Z, iv),
        tv.Z && tv.Z.locals && tv.Z.locals;
      var nv = i(9240),
        ov = {attributes: {'data-cke': !0}};
      (ov.setAttributes = Qn()),
        (ov.insert = Yn().bind(null, 'head')),
        (ov.domAPI = qn()),
        (ov.insertStyleElement = Xn()),
        Zn()(nv.Z, ov),
        nv.Z && nv.Z.locals && nv.Z.locals;
      var rv = i(4102),
        sv = {attributes: {'data-cke': !0}};
      (sv.setAttributes = Qn()),
        (sv.insert = Yn().bind(null, 'head')),
        (sv.domAPI = qn()),
        (sv.insertStyleElement = Xn()),
        Zn()(rv.Z, sv),
        rv.Z && rv.Z.locals && rv.Z.locals;
      class av extends zn {
        constructor(e, t) {
          super(e), (this._indentBy = 'forward' == t ? 1 : -1);
        }
        refresh() {
          this.isEnabled = this._checkEnabled();
        }
        execute() {
          const e = this.editor.model,
            t = e.document;
          let i = Array.from(t.selection.getSelectedBlocks());
          e.change((e) => {
            const t = i[i.length - 1];
            let n = t.nextSibling;
            for (
              ;
              n &&
              'listItem' == n.name &&
              n.getAttribute('listIndent') > t.getAttribute('listIndent');

            )
              i.push(n), (n = n.nextSibling);
            this._indentBy < 0 && (i = i.reverse());
            for (const t of i) {
              const i = t.getAttribute('listIndent') + this._indentBy;
              i < 0
                ? e.rename(t, 'paragraph')
                : e.setAttribute('listIndent', i, t);
            }
            this.fire('_executeCleanup', i);
          });
        }
        _checkEnabled() {
          const e = Sn(
            this.editor.model.document.selection.getSelectedBlocks()
          );
          if (!e || !e.is('element', 'listItem')) return !1;
          if (this._indentBy > 0) {
            const t = e.getAttribute('listIndent'),
              i = e.getAttribute('listType');
            let n = e.previousSibling;
            for (
              ;
              n &&
              n.is('element', 'listItem') &&
              n.getAttribute('listIndent') >= t;

            ) {
              if (n.getAttribute('listIndent') == t)
                return n.getAttribute('listType') == i;
              n = n.previousSibling;
            }
            return !1;
          }
          return !0;
        }
      }
      class lv extends zn {
        constructor(e, t) {
          super(e), (this.type = t);
        }
        refresh() {
          (this.value = this._getValue()),
            (this.isEnabled = this._checkEnabled());
        }
        execute(e = {}) {
          const t = this.editor.model,
            i = t.document,
            n = Array.from(i.selection.getSelectedBlocks()).filter((e) =>
              dv(e, t.schema)
            ),
            o = void 0 !== e.forceValue ? !e.forceValue : this.value;
          t.change((e) => {
            if (o) {
              let t = n[n.length - 1].nextSibling,
                i = Number.POSITIVE_INFINITY,
                o = [];
              for (
                ;
                t && 'listItem' == t.name && 0 !== t.getAttribute('listIndent');

              ) {
                const e = t.getAttribute('listIndent');
                e < i && (i = e);
                const n = e - i;
                o.push({element: t, listIndent: n}), (t = t.nextSibling);
              }
              o = o.reverse();
              for (const t of o)
                e.setAttribute('listIndent', t.listIndent, t.element);
            }
            if (!o) {
              let e = Number.POSITIVE_INFINITY;
              for (const t of n)
                t.is('element', 'listItem') &&
                  t.getAttribute('listIndent') < e &&
                  (e = t.getAttribute('listIndent'));
              (e = 0 === e ? 1 : e), cv(n, !0, e), cv(n, !1, e);
            }
            for (const t of n.reverse())
              o && 'listItem' == t.name
                ? e.rename(t, 'paragraph')
                : o || 'listItem' == t.name
                ? o ||
                  'listItem' != t.name ||
                  t.getAttribute('listType') == this.type ||
                  e.setAttribute('listType', this.type, t)
                : (e.setAttributes({listType: this.type, listIndent: 0}, t),
                  e.rename(t, 'listItem'));
            this.fire('_executeCleanup', n);
          });
        }
        _getValue() {
          const e = Sn(
            this.editor.model.document.selection.getSelectedBlocks()
          );
          return (
            !!e &&
            e.is('element', 'listItem') &&
            e.getAttribute('listType') == this.type
          );
        }
        _checkEnabled() {
          if (this.value) return !0;
          const e = this.editor.model.document.selection,
            t = this.editor.model.schema,
            i = Sn(e.getSelectedBlocks());
          return !!i && dv(i, t);
        }
      }
      function cv(e, t, i) {
        const n = t ? e[0] : e[e.length - 1];
        if (n.is('element', 'listItem')) {
          let o = n[t ? 'previousSibling' : 'nextSibling'],
            r = n.getAttribute('listIndent');
          for (
            ;
            o &&
            o.is('element', 'listItem') &&
            o.getAttribute('listIndent') >= i;

          )
            r > o.getAttribute('listIndent') &&
              (r = o.getAttribute('listIndent')),
              o.getAttribute('listIndent') == r && e[t ? 'unshift' : 'push'](o),
              (o = o[t ? 'previousSibling' : 'nextSibling']);
        }
      }
      function dv(e, t) {
        return t.checkChild(e.parent, 'listItem') && !t.isObject(e);
      }
      class uv extends Vn {
        static get pluginName() {
          return 'ListUtils';
        }
        getListTypeFromListStyleType(e) {
          return (function (e) {
            return q_.includes(e)
              ? 'bulleted'
              : G_.includes(e)
              ? 'numbered'
              : null;
          })(e);
        }
        getSelectedListItems(e) {
          return (function (e) {
            let t = [...e.document.selection.getSelectedBlocks()]
              .filter((e) => e.is('element', 'listItem'))
              .map((t) => {
                const i = e.change((e) => e.createPositionAt(t, 0));
                return [...W_(i, 'backward'), ...W_(i, 'forward')];
              })
              .flat();
            return (t = [...new Set(t)]), t;
          })(e);
        }
        getSiblingNodes(e, t) {
          return W_(e, t);
        }
      }
      function hv(e) {
        return (t, i, n) => {
          const o = n.consumable;
          if (
            !o.test(i.item, 'insert') ||
            !o.test(i.item, 'attribute:listType') ||
            !o.test(i.item, 'attribute:listIndent')
          )
            return;
          o.consume(i.item, 'insert'),
            o.consume(i.item, 'attribute:listType'),
            o.consume(i.item, 'attribute:listIndent');
          const r = i.item;
          F_(r, B_(r, n), n, e);
        };
      }
      const mv = (e, t, i) => {
          if (!i.consumable.test(t.item, e.name)) return;
          const n = i.mapper.toViewElement(t.item),
            o = i.writer;
          o.breakContainer(o.createPositionBefore(n)),
            o.breakContainer(o.createPositionAfter(n));
          const r = n.parent,
            s = 'numbered' == t.attributeNewValue ? 'ol' : 'ul';
          o.rename(s, r);
        },
        gv = (e, t, i) => {
          i.consumable.consume(t.item, e.name);
          const n = i.mapper.toViewElement(t.item).parent,
            o = i.writer;
          j_(o, n, n.nextSibling), j_(o, n.previousSibling, n);
        },
        fv = (e, t, i) => {
          if (i.consumable.test(t.item, e.name) && 'listItem' != t.item.name) {
            let e = i.mapper.toViewPosition(t.range.start);
            const n = i.writer,
              o = [];
            for (
              ;
              ('ul' == e.parent.name || 'ol' == e.parent.name) &&
              ((e = n.breakContainer(e)), 'li' == e.parent.name);

            ) {
              const t = e,
                i = n.createPositionAt(e.parent, 'end');
              if (!t.isEqual(i)) {
                const e = n.remove(n.createRange(t, i));
                o.push(e);
              }
              e = n.createPositionAfter(e.parent);
            }
            if (o.length > 0) {
              for (let t = 0; t < o.length; t++) {
                const i = e.nodeBefore;
                if (((e = n.insert(e, o[t]).end), t > 0)) {
                  const t = j_(n, i, i.nextSibling);
                  t && t.parent == i && e.offset--;
                }
              }
              j_(n, e.nodeBefore, e.nodeAfter);
            }
          }
        },
        pv = (e, t, i) => {
          const n = i.mapper.toViewPosition(t.position),
            o = n.nodeBefore,
            r = n.nodeAfter;
          j_(i.writer, o, r);
        },
        bv = (e, t, i) => {
          if (i.consumable.consume(t.viewItem, {name: !0})) {
            const e = i.writer,
              n = e.createElement('listItem'),
              o = (function (e) {
                let t = 0,
                  i = e.parent;
                for (; i; ) {
                  if (i.is('element', 'li')) t++;
                  else {
                    const e = i.previousSibling;
                    e && e.is('element', 'li') && t++;
                  }
                  i = i.parent;
                }
                return t;
              })(t.viewItem);
            e.setAttribute('listIndent', o, n);
            const r =
              t.viewItem.parent && 'ol' == t.viewItem.parent.name
                ? 'numbered'
                : 'bulleted';
            if (
              (e.setAttribute('listType', r, n),
              !i.safeInsert(n, t.modelCursor))
            )
              return;
            const s = (function (e, t, i) {
              const {writer: n, schema: o} = i;
              let r = n.createPositionAfter(e);
              for (const s of t)
                if ('ul' == s.name || 'ol' == s.name)
                  r = i.convertItem(s, r).modelCursor;
                else {
                  const t = i.convertItem(s, n.createPositionAt(e, 'end')),
                    a = t.modelRange.start.nodeAfter;
                  a &&
                    a.is('element') &&
                    !o.checkChild(e, a.name) &&
                    ((e = t.modelCursor.parent.is('element', 'listItem')
                      ? t.modelCursor.parent
                      : yv(t.modelCursor)),
                    (r = n.createPositionAfter(e)));
                }
              return r;
            })(n, t.viewItem.getChildren(), i);
            (t.modelRange = e.createRange(t.modelCursor, s)),
              i.updateConversionResult(n, t);
          }
        },
        kv = (e, t, i) => {
          if (i.consumable.test(t.viewItem, {name: !0})) {
            const e = Array.from(t.viewItem.getChildren());
            for (const t of e) !t.is('element', 'li') && !Av(t) && t._remove();
          }
        },
        wv = (e, t, i) => {
          if (i.consumable.test(t.viewItem, {name: !0})) {
            if (0 === t.viewItem.childCount) return;
            const e = [...t.viewItem.getChildren()];
            let i = !1;
            for (const t of e) i && !Av(t) && t._remove(), Av(t) && (i = !0);
          }
        };
      function _v(e) {
        return (t, i) => {
          if (i.isPhantom) return;
          const n = i.modelPosition.nodeBefore;
          if (n && n.is('element', 'listItem')) {
            const t = i.mapper.toViewElement(n),
              o = t.getAncestors().find(Av),
              r = e.createPositionAt(t, 0).getWalker();
            for (const e of r) {
              if ('elementStart' == e.type && e.item.is('element', 'li')) {
                i.viewPosition = e.previousPosition;
                break;
              }
              if ('elementEnd' == e.type && e.item == o) {
                i.viewPosition = e.nextPosition;
                break;
              }
            }
          }
        };
      }
      const vv = function (e, [t, i]) {
        let n,
          o = t.is('documentFragment') ? t.getChild(0) : t;
        if (
          ((n = i ? this.createSelection(i) : this.document.selection),
          o && o.is('element', 'listItem'))
        ) {
          const e = n.getFirstPosition();
          let t = null;
          if (
            (e.parent.is('element', 'listItem')
              ? (t = e.parent)
              : e.nodeBefore &&
                e.nodeBefore.is('element', 'listItem') &&
                (t = e.nodeBefore),
            t)
          ) {
            const e = t.getAttribute('listIndent');
            if (e > 0)
              for (; o && o.is('element', 'listItem'); )
                o._setAttribute('listIndent', o.getAttribute('listIndent') + e),
                  (o = o.nextSibling);
          }
        }
      };
      function yv(e) {
        const t = new ua({startPosition: e});
        let i;
        do {
          i = t.next();
        } while (!i.value.item.is('element', 'listItem'));
        return i.value.item;
      }
      function xv(e, t, i, n, o, r) {
        const s = $_(t.nodeBefore, {
            sameIndent: !0,
            smallerIndent: !0,
            listIndent: e,
          }),
          a = o.mapper,
          l = o.writer,
          c = s ? s.getAttribute('listIndent') : null;
        let d;
        if (s)
          if (c == e) {
            const e = a.toViewElement(s).parent;
            d = l.createPositionAfter(e);
          } else {
            const e = r.createPositionAt(s, 'end');
            d = a.toViewPosition(e);
          }
        else d = i;
        d = H_(d);
        for (const e of [...n.getChildren()])
          Av(e) &&
            ((d = l.move(l.createRangeOn(e), d).end),
            j_(l, e, e.nextSibling),
            j_(l, e.previousSibling, e));
      }
      function Av(e) {
        return e.is('element', 'ol') || e.is('element', 'ul');
      }
      class Cv extends Vn {
        static get pluginName() {
          return 'ListEditing';
        }
        static get requires() {
          return [Cm, am, uv];
        }
        init() {
          const e = this.editor;
          e.model.schema.register('listItem', {
            inheritAllFrom: '$block',
            allowAttributes: ['listType', 'listIndent'],
          });
          const t = e.data,
            i = e.editing;
          var n;
          e.model.document.registerPostFixer((t) =>
            (function (e, t) {
              const i = e.document.differ.getChanges(),
                n = new Map();
              let o = !1;
              for (const n of i)
                if ('insert' == n.type && 'listItem' == n.name) r(n.position);
                else if ('insert' == n.type && 'listItem' != n.name) {
                  if ('$text' != n.name) {
                    const i = n.position.nodeAfter;
                    i.hasAttribute('listIndent') &&
                      (t.removeAttribute('listIndent', i), (o = !0)),
                      i.hasAttribute('listType') &&
                        (t.removeAttribute('listType', i), (o = !0)),
                      i.hasAttribute('listStyle') &&
                        (t.removeAttribute('listStyle', i), (o = !0)),
                      i.hasAttribute('listReversed') &&
                        (t.removeAttribute('listReversed', i), (o = !0)),
                      i.hasAttribute('listStart') &&
                        (t.removeAttribute('listStart', i), (o = !0));
                    for (const t of Array.from(e.createRangeIn(i)).filter((e) =>
                      e.item.is('element', 'listItem')
                    ))
                      r(t.previousPosition);
                  }
                  r(n.position.getShiftedBy(n.length));
                } else
                  'remove' == n.type && 'listItem' == n.name
                    ? r(n.position)
                    : (('attribute' == n.type &&
                        'listIndent' == n.attributeKey) ||
                        ('attribute' == n.type &&
                          'listType' == n.attributeKey)) &&
                      r(n.range.start);
              for (const e of n.values()) s(e), a(e);
              return o;
              function r(e) {
                const t = e.nodeBefore;
                if (t && t.is('element', 'listItem')) {
                  let e = t;
                  if (n.has(e)) return;
                  for (
                    let t = e.previousSibling;
                    t && t.is('element', 'listItem');
                    t = e.previousSibling
                  )
                    if (((e = t), n.has(e))) return;
                  n.set(t, e);
                } else {
                  const t = e.nodeAfter;
                  t && t.is('element', 'listItem') && n.set(t, t);
                }
              }
              function s(e) {
                let i = 0,
                  n = null;
                for (; e && e.is('element', 'listItem'); ) {
                  const r = e.getAttribute('listIndent');
                  if (r > i) {
                    let s;
                    null === n
                      ? ((n = r - i), (s = i))
                      : (n > r && (n = r), (s = r - n)),
                      t.setAttribute('listIndent', s, e),
                      (o = !0);
                  } else (n = null), (i = e.getAttribute('listIndent') + 1);
                  e = e.nextSibling;
                }
              }
              function a(e) {
                let i = [],
                  n = null;
                for (; e && e.is('element', 'listItem'); ) {
                  const r = e.getAttribute('listIndent');
                  if (
                    (n &&
                      n.getAttribute('listIndent') > r &&
                      (i = i.slice(0, r + 1)),
                    0 != r)
                  )
                    if (i[r]) {
                      const n = i[r];
                      e.getAttribute('listType') != n &&
                        (t.setAttribute('listType', n, e), (o = !0));
                    } else i[r] = e.getAttribute('listType');
                  (n = e), (e = e.nextSibling);
                }
              }
            })(e.model, t)
          ),
            i.mapper.registerViewToModelLength('li', Ev),
            t.mapper.registerViewToModelLength('li', Ev),
            i.mapper.on('modelToViewPosition', _v(i.view)),
            i.mapper.on(
              'viewToModelPosition',
              ((n = e.model),
              (e, t) => {
                const i = t.viewPosition,
                  o = i.parent,
                  r = t.mapper;
                if ('ul' == o.name || 'ol' == o.name) {
                  if (i.isAtEnd) {
                    const e = r.toModelElement(i.nodeBefore),
                      o = r.getModelLength(i.nodeBefore);
                    t.modelPosition = n.createPositionBefore(e).getShiftedBy(o);
                  } else {
                    const e = r.toModelElement(i.nodeAfter);
                    t.modelPosition = n.createPositionBefore(e);
                  }
                  e.stop();
                } else if (
                  'li' == o.name &&
                  i.nodeBefore &&
                  ('ul' == i.nodeBefore.name || 'ol' == i.nodeBefore.name)
                ) {
                  const s = r.toModelElement(o);
                  let a = 1,
                    l = i.nodeBefore;
                  for (; l && Av(l); )
                    (a += r.getModelLength(l)), (l = l.previousSibling);
                  (t.modelPosition = n.createPositionBefore(s).getShiftedBy(a)),
                    e.stop();
                }
              })
            ),
            t.mapper.on('modelToViewPosition', _v(i.view)),
            e.conversion.for('editingDowncast').add((t) => {
              t.on('insert', fv, {priority: 'high'}),
                t.on('insert:listItem', hv(e.model)),
                t.on('attribute:listType:listItem', mv, {priority: 'high'}),
                t.on('attribute:listType:listItem', gv, {priority: 'low'}),
                t.on(
                  'attribute:listIndent:listItem',
                  (function (e) {
                    return (t, i, n) => {
                      if (!n.consumable.consume(i.item, 'attribute:listIndent'))
                        return;
                      const o = n.mapper.toViewElement(i.item),
                        r = n.writer;
                      r.breakContainer(r.createPositionBefore(o)),
                        r.breakContainer(r.createPositionAfter(o));
                      const s = o.parent,
                        a = s.previousSibling,
                        l = r.createRangeOn(s);
                      r.remove(l),
                        a && a.nextSibling && j_(r, a, a.nextSibling),
                        xv(
                          i.attributeOldValue + 1,
                          i.range.start,
                          l.start,
                          o,
                          n,
                          e
                        ),
                        F_(i.item, o, n, e);
                      for (const e of i.item.getChildren())
                        n.consumable.consume(e, 'insert');
                    };
                  })(e.model)
                ),
                t.on(
                  'remove:listItem',
                  (function (e) {
                    return (t, i, n) => {
                      const o = n.mapper
                          .toViewPosition(i.position)
                          .getLastMatchingPosition(
                            (e) => !e.item.is('element', 'li')
                          ).nodeAfter,
                        r = n.writer;
                      r.breakContainer(r.createPositionBefore(o)),
                        r.breakContainer(r.createPositionAfter(o));
                      const s = o.parent,
                        a = s.previousSibling,
                        l = r.createRangeOn(s),
                        c = r.remove(l);
                      a && a.nextSibling && j_(r, a, a.nextSibling),
                        xv(
                          n.mapper
                            .toModelElement(o)
                            .getAttribute('listIndent') + 1,
                          i.position,
                          l.start,
                          o,
                          n,
                          e
                        );
                      for (const e of r.createRangeIn(c).getItems())
                        n.mapper.unbindViewElement(e);
                      t.stop();
                    };
                  })(e.model)
                ),
                t.on('remove', pv, {priority: 'low'});
            }),
            e.conversion.for('dataDowncast').add((t) => {
              t.on('insert', fv, {priority: 'high'}),
                t.on('insert:listItem', hv(e.model));
            }),
            e.conversion.for('upcast').add((e) => {
              e.on('element:ul', kv, {priority: 'high'}),
                e.on('element:ol', kv, {priority: 'high'}),
                e.on('element:li', wv, {priority: 'high'}),
                e.on('element:li', bv);
            }),
            e.model.on('insertContent', vv, {priority: 'high'}),
            e.commands.add('numberedList', new lv(e, 'numbered')),
            e.commands.add('bulletedList', new lv(e, 'bulleted')),
            e.commands.add('indentList', new av(e, 'forward')),
            e.commands.add('outdentList', new av(e, 'backward'));
          const o = i.view.document;
          this.listenTo(
            o,
            'enter',
            (e, t) => {
              const i = this.editor.model.document,
                n = i.selection.getLastPosition().parent;
              i.selection.isCollapsed &&
                'listItem' == n.name &&
                n.isEmpty &&
                (this.editor.execute('outdentList'),
                t.preventDefault(),
                e.stop());
            },
            {context: 'li'}
          ),
            this.listenTo(
              o,
              'delete',
              (e, t) => {
                if ('backward' !== t.direction) return;
                const i = this.editor.model.document.selection;
                if (!i.isCollapsed) return;
                const n = i.getFirstPosition();
                if (!n.isAtStart) return;
                const o = n.parent;
                'listItem' === o.name &&
                  ((o.previousSibling &&
                    'listItem' === o.previousSibling.name) ||
                    (this.editor.execute('outdentList'),
                    t.preventDefault(),
                    e.stop()));
              },
              {context: 'li'}
            ),
            this.listenTo(
              e.editing.view.document,
              'tab',
              (t, i) => {
                const n = i.shiftKey ? 'outdentList' : 'indentList';
                this.editor.commands.get(n).isEnabled &&
                  (e.execute(n),
                  i.stopPropagation(),
                  i.preventDefault(),
                  t.stop());
              },
              {context: 'li'}
            );
        }
        afterInit() {
          const e = this.editor.commands,
            t = e.get('indent'),
            i = e.get('outdent');
          t && t.registerChildCommand(e.get('indentList')),
            i && i.registerChildCommand(e.get('outdentList'));
        }
      }
      function Ev(e) {
        let t = 1;
        for (const i of e.getChildren())
          if ('ul' == i.name || 'ol' == i.name)
            for (const e of i.getChildren()) t += Ev(e);
        return t;
      }
      class Tv extends Vn {
        static get requires() {
          return [Cv, K_];
        }
        static get pluginName() {
          return 'List';
        }
      }
      const Sv = 'todoListChecked';
      class Iv extends zn {
        constructor(e) {
          super(e),
            (this._selectedElements = []),
            this.on(
              'execute',
              () => {
                this.refresh();
              },
              {priority: 'highest'}
            );
        }
        refresh() {
          (this._selectedElements = this._getSelectedItems()),
            (this.value = this._selectedElements.every(
              (e) => !!e.getAttribute(Sv)
            )),
            (this.isEnabled = !!this._selectedElements.length);
        }
        _getSelectedItems() {
          const e = this.editor.model,
            t = e.schema,
            i = e.document.selection.getFirstRange(),
            n = i.start.parent,
            o = [];
          t.checkAttribute(n, Sv) && o.push(n);
          for (const e of i.getItems())
            t.checkAttribute(e, Sv) && !o.includes(e) && o.push(e);
          return o;
        }
        execute(e = {}) {
          this.editor.model.change((t) => {
            for (const i of this._selectedElements)
              (void 0 === e.forceValue ? !this.value : e.forceValue)
                ? t.setAttribute(Sv, !0, i)
                : t.removeAttribute(Sv, i);
          });
        }
      }
      const Pv = (e, t, i) => {
        const n = t.modelCursor,
          o = n.parent,
          r = t.viewItem;
        if (
          'checkbox' != r.getAttribute('type') ||
          'listItem' != o.name ||
          !n.isAtStart
        )
          return;
        if (!i.consumable.consume(r, {name: !0})) return;
        const s = i.writer;
        s.setAttribute('listType', 'todo', o),
          t.viewItem.hasAttribute('checked') &&
            s.setAttribute('todoListChecked', !0, o),
          (t.modelRange = s.createRange(n));
      };
      function Mv(e) {
        return (t, i) => {
          const n = i.modelPosition,
            o = n.parent;
          if (
            !o.is('element', 'listItem') ||
            'todo' != o.getAttribute('listType')
          )
            return;
          const r = Nv(i.mapper.toViewElement(o), e);
          r && (i.viewPosition = i.mapper.findPositionIn(r, n.offset));
        };
      }
      function Rv(e, t, i, n) {
        return t.createUIElement(
          'label',
          {class: 'todo-list__label', contenteditable: !1},
          function (t) {
            const o = le(document, 'input', {type: 'checkbox', tabindex: '-1'});
            i && o.setAttribute('checked', 'checked'),
              o.addEventListener('change', () => n(e));
            const r = this.toDomElement(t);
            return r.appendChild(o), r;
          }
        );
      }
      function Nv(e, t) {
        const i = t.createRangeIn(e);
        for (const e of i)
          if (
            e.item.is('containerElement', 'span') &&
            e.item.hasClass('todo-list__label__description')
          )
            return e.item;
      }
      const Ov = _n('Ctrl+Enter');
      class Dv extends Vn {
        static get pluginName() {
          return 'TodoListEditing';
        }
        static get requires() {
          return [Cv];
        }
        init() {
          const e = this.editor,
            {editing: t, data: i, model: n} = e;
          n.schema.extend('listItem', {allowAttributes: ['todoListChecked']}),
            n.schema.addAttributeCheck((e, t) => {
              const i = e.last;
              if (
                'todoListChecked' == t &&
                'listItem' == i.name &&
                'todo' != i.getAttribute('listType')
              )
                return !1;
            }),
            e.commands.add('todoList', new lv(e, 'todo'));
          const o = new Iv(e);
          var r, s;
          e.commands.add('checkTodoList', o),
            e.commands.add('todoListCheck', o),
            i.downcastDispatcher.on(
              'insert:listItem',
              (function (e) {
                return (t, i, n) => {
                  const o = n.consumable;
                  if (
                    !o.test(i.item, 'insert') ||
                    !o.test(i.item, 'attribute:listType') ||
                    !o.test(i.item, 'attribute:listIndent')
                  )
                    return;
                  if ('todo' != i.item.getAttribute('listType')) return;
                  const r = i.item;
                  o.consume(r, 'insert'),
                    o.consume(r, 'attribute:listType'),
                    o.consume(r, 'attribute:listIndent'),
                    o.consume(r, 'attribute:todoListChecked');
                  const s = n.writer,
                    a = B_(r, n);
                  s.addClass('todo-list', a.parent);
                  const l = s.createContainerElement('label', {
                      class: 'todo-list__label',
                    }),
                    c = s.createEmptyElement('input', {
                      type: 'checkbox',
                      disabled: 'disabled',
                    }),
                    d = s.createContainerElement('span', {
                      class: 'todo-list__label__description',
                    });
                  r.getAttribute('todoListChecked') &&
                    s.setAttribute('checked', 'checked', c),
                    s.insert(s.createPositionAt(a, 0), l),
                    s.insert(s.createPositionAt(l, 0), c),
                    s.insert(s.createPositionAfter(c), d),
                    F_(r, a, n, e);
                };
              })(n),
              {priority: 'high'}
            ),
            i.upcastDispatcher.on('element:input', Pv, {priority: 'high'}),
            t.downcastDispatcher.on(
              'insert:listItem',
              (function (e, t) {
                return (i, n, o) => {
                  const r = o.consumable;
                  if (
                    !r.test(n.item, 'insert') ||
                    !r.test(n.item, 'attribute:listType') ||
                    !r.test(n.item, 'attribute:listIndent')
                  )
                    return;
                  if ('todo' != n.item.getAttribute('listType')) return;
                  const s = n.item;
                  r.consume(s, 'insert'),
                    r.consume(s, 'attribute:listType'),
                    r.consume(s, 'attribute:listIndent'),
                    r.consume(s, 'attribute:todoListChecked');
                  const a = o.writer,
                    l = B_(s, o),
                    c = !!s.getAttribute('todoListChecked'),
                    d = Rv(s, a, c, t),
                    u = a.createContainerElement('span', {
                      class: 'todo-list__label__description',
                    });
                  a.addClass('todo-list', l.parent),
                    a.insert(a.createPositionAt(l, 0), d),
                    a.insert(a.createPositionAfter(d), u),
                    F_(s, l, o, e);
                };
              })(n, (e) => this._handleCheckmarkChange(e)),
              {priority: 'high'}
            ),
            t.downcastDispatcher.on(
              'attribute:listType:listItem',
              ((r = (e) => this._handleCheckmarkChange(e)),
              (s = t.view),
              (e, t, i) => {
                if (!i.consumable.consume(t.item, e.name)) return;
                const n = i.mapper.toViewElement(t.item),
                  o = i.writer,
                  a = (function (e, t) {
                    const i = t.createRangeIn(e);
                    for (const e of i)
                      if (e.item.is('uiElement', 'label')) return e.item;
                  })(n, s);
                if ('todo' == t.attributeNewValue) {
                  const e = !!t.item.getAttribute('todoListChecked'),
                    i = Rv(t.item, o, e, r),
                    s = o.createContainerElement('span', {
                      class: 'todo-list__label__description',
                    }),
                    a = o.createRangeIn(n),
                    l = Z_(n),
                    c = H_(a.start),
                    d = l ? o.createPositionBefore(l) : a.end,
                    u = o.createRange(c, d);
                  o.addClass('todo-list', n.parent),
                    o.move(u, o.createPositionAt(s, 0)),
                    o.insert(o.createPositionAt(n, 0), i),
                    o.insert(o.createPositionAfter(i), s);
                } else if ('todo' == t.attributeOldValue) {
                  const e = Nv(n, s);
                  o.removeClass('todo-list', n.parent),
                    o.remove(a),
                    o.move(o.createRangeIn(e), o.createPositionBefore(e)),
                    o.remove(e);
                }
              })
            ),
            t.downcastDispatcher.on(
              'attribute:todoListChecked:listItem',
              (function (e) {
                return (t, i, n) => {
                  if ('todo' != i.item.getAttribute('listType')) return;
                  if (
                    !n.consumable.consume(i.item, 'attribute:todoListChecked')
                  )
                    return;
                  const {mapper: o, writer: r} = n,
                    s = !!i.item.getAttribute('todoListChecked'),
                    a = o.toViewElement(i.item).getChild(0),
                    l = Rv(i.item, r, s, e);
                  r.insert(r.createPositionAfter(a), l), r.remove(a);
                };
              })((e) => this._handleCheckmarkChange(e))
            ),
            t.mapper.on('modelToViewPosition', Mv(t.view)),
            i.mapper.on('modelToViewPosition', Mv(t.view)),
            this.listenTo(
              t.view.document,
              'arrowKey',
              (function (e, t) {
                return (i, n) => {
                  if ('left' != yn(n.keyCode, t.contentLanguageDirection))
                    return;
                  const o = e.schema,
                    r = e.document.selection;
                  if (!r.isCollapsed) return;
                  const s = r.getFirstPosition(),
                    a = s.parent;
                  if (
                    'listItem' === a.name &&
                    'todo' == a.getAttribute('listType') &&
                    s.isAtStart
                  ) {
                    const t = o.getNearestSelectionRange(
                      e.createPositionBefore(a),
                      'backward'
                    );
                    t && e.change((e) => e.setSelection(t)),
                      n.preventDefault(),
                      n.stopPropagation(),
                      i.stop();
                  }
                };
              })(n, e.locale),
              {context: 'li'}
            ),
            this.listenTo(
              t.view.document,
              'keydown',
              (t, i) => {
                wn(i) === Ov && (e.execute('checkTodoList'), t.stop());
              },
              {priority: 'high'}
            );
          const a = new Set();
          this.listenTo(n, 'applyOperation', (e, t) => {
            const i = t[0];
            if ('rename' == i.type && 'listItem' == i.oldName) {
              const e = i.position.nodeAfter;
              e.hasAttribute('todoListChecked') && a.add(e);
            } else if (
              'changeAttribute' == i.type &&
              'listType' == i.key &&
              'todo' === i.oldValue
            )
              for (const e of i.range.getItems())
                e.hasAttribute('todoListChecked') &&
                  'todo' !== e.getAttribute('listType') &&
                  a.add(e);
          }),
            n.document.registerPostFixer((e) => {
              let t = !1;
              for (const i of a)
                e.removeAttribute('todoListChecked', i), (t = !0);
              return a.clear(), t;
            });
        }
        _handleCheckmarkChange(e) {
          const t = this.editor,
            i = t.model,
            n = Array.from(i.document.selection.getRanges());
          i.change((i) => {
            i.setSelection(e, 'end'),
              t.execute('checkTodoList'),
              i.setSelection(n);
          });
        }
      }
      class Vv extends Vn {
        static get pluginName() {
          return 'TodoListUI';
        }
        init() {
          const e = this.editor.t;
          U_(
            this.editor,
            'todoList',
            e('To-do List'),
            'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z\\"/></svg>";'
          );
        }
      }
      var Lv = i(9515),
        zv = {attributes: {'data-cke': !0}};
      (zv.setAttributes = Qn()),
        (zv.insert = Yn().bind(null, 'head')),
        (zv.domAPI = qn()),
        (zv.insertStyleElement = Xn()),
        Zn()(Lv.Z, zv),
        Lv.Z && Lv.Z.locals && Lv.Z.locals;
      class Bv extends Vn {
        static get requires() {
          return [Dv, Vv];
        }
        static get pluginName() {
          return 'TodoList';
        }
      }
      function Fv(e, t) {
        const i = (i, n, o) => {
          if (!o.consumable.consume(n.item, i.name)) return;
          const r = n.attributeNewValue,
            s = o.writer,
            a = o.mapper.toViewElement(n.item),
            l = [...a.getChildren()].find((e) =>
              e.getCustomProperty('media-content')
            );
          s.remove(l);
          const c = e.getMediaViewElement(s, r, t);
          s.insert(s.createPositionAt(a, 0), c);
        };
        return (e) => {
          e.on('attribute:url:media', i);
        };
      }
      function jv(e) {
        const t = e.getSelectedElement();
        return t &&
          (function (e) {
            return !!e.getCustomProperty('media') && Vm(e);
          })(t)
          ? t
          : null;
      }
      function Hv(e, t, i, n) {
        return e.createContainerElement('figure', {class: 'media'}, [
          t.getMediaViewElement(e, i, n),
          e.createSlot(),
        ]);
      }
      function $v(e) {
        const t = e.getSelectedElement();
        return t && t.is('element', 'media') ? t : null;
      }
      function Uv(e, t, i, n) {
        e.change((o) => {
          const r = o.createElement('media', {url: t});
          e.insertObject(r, i, null, {
            setSelection: 'on',
            findOptimalPosition: n ? 'auto' : void 0,
          });
        });
      }
      class Zv extends zn {
        refresh() {
          const e = this.editor.model,
            t = e.document.selection,
            i = $v(t);
          (this.value = i ? i.getAttribute('url') : void 0),
            (this.isEnabled =
              (function (e) {
                const t = e.getSelectedElement();
                return !!t && 'media' === t.name;
              })(t) ||
              (function (e, t) {
                let i = Hm(e, t).start.parent;
                return (
                  i.isEmpty && !t.schema.isLimit(i) && (i = i.parent),
                  t.schema.checkChild(i, 'media')
                );
              })(t, e));
        }
        execute(e) {
          const t = this.editor.model,
            i = t.document.selection,
            n = $v(i);
          n
            ? t.change((t) => {
                t.setAttribute('url', e, n);
              })
            : Uv(t, e, i, !0);
        }
      }
      class Wv {
        constructor(e, t) {
          const i = t.providers,
            n = t.extraProviders || [],
            o = new Set(t.removeProviders),
            r = i.concat(n).filter((e) => {
              const t = e.name;
              return t
                ? !o.has(t)
                : (p('media-embed-no-provider-name', {provider: e}), !1);
            });
          (this.locale = e), (this.providerDefinitions = r);
        }
        hasMedia(e) {
          return !!this._getMedia(e);
        }
        getMediaViewElement(e, t, i) {
          return this._getMedia(t).getViewElement(e, i);
        }
        _getMedia(e) {
          if (!e) return new qv(this.locale);
          e = e.trim();
          for (const t of this.providerDefinitions) {
            const i = t.html,
              n = xn(t.url);
            for (const t of n) {
              const n = this._getUrlMatches(e, t);
              if (n) return new qv(this.locale, e, n, i);
            }
          }
          return null;
        }
        _getUrlMatches(e, t) {
          let i = e.match(t);
          if (i) return i;
          let n = e.replace(/^https?:\/\//, '');
          return (
            (i = n.match(t)),
            i || ((n = n.replace(/^www\./, '')), (i = n.match(t)), i || null)
          );
        }
      }
      class qv {
        constructor(e, t, i, n) {
          (this.url = this._getValidUrl(t)),
            (this._locale = e),
            (this._match = i),
            (this._previewRenderer = n);
        }
        getViewElement(e, t) {
          const i = {};
          let n;
          if (
            t.renderForEditingView ||
            (t.renderMediaPreview && this.url && this._previewRenderer)
          ) {
            this.url && (i['data-oembed-url'] = this.url),
              t.renderForEditingView && (i.class = 'ck-media__wrapper');
            const o = this._getPreviewHtml(t);
            n = e.createRawElement('div', i, (e, t) => {
              t.setContentOf(e, o);
            });
          } else
            this.url && (i.url = this.url),
              (n = e.createEmptyElement(t.elementName, i));
          return e.setCustomProperty('media-content', !0, n), n;
        }
        _getPreviewHtml(e) {
          return this._previewRenderer
            ? this._previewRenderer(this._match)
            : this.url && e.renderForEditingView
            ? this._getPlaceholderHtml()
            : '';
        }
        _getPlaceholderHtml() {
          const e = new Kd(),
            t = this._locale.t;
          return (
            (e.content =
              'export default "<svg viewBox=\\"0 0 64 42\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z\\"/></svg>";'),
            (e.viewBox = '0 0 64 42'),
            new Ed({
              tag: 'div',
              attributes: {class: 'ck ck-reset_all ck-media__placeholder'},
              children: [
                {
                  tag: 'div',
                  attributes: {class: 'ck-media__placeholder__icon'},
                  children: [e],
                },
                {
                  tag: 'a',
                  attributes: {
                    class: 'ck-media__placeholder__url',
                    target: '_blank',
                    rel: 'noopener noreferrer',
                    href: this.url,
                    'data-cke-tooltip-text': t('Open media in new tab'),
                  },
                  children: [
                    {
                      tag: 'span',
                      attributes: {class: 'ck-media__placeholder__url__text'},
                      children: [this.url],
                    },
                  ],
                },
              ],
            }).render().outerHTML
          );
        }
        _getValidUrl(e) {
          return e ? (e.match(/^https?/) ? e : 'https://' + e) : null;
        }
      }
      var Gv = i(2466),
        Yv = {attributes: {'data-cke': !0}};
      (Yv.setAttributes = Qn()),
        (Yv.insert = Yn().bind(null, 'head')),
        (Yv.domAPI = qn()),
        (Yv.insertStyleElement = Xn()),
        Zn()(Gv.Z, Yv),
        Gv.Z && Gv.Z.locals && Gv.Z.locals;
      class Kv extends Vn {
        static get pluginName() {
          return 'MediaEmbedEditing';
        }
        constructor(e) {
          super(e),
            e.config.define('mediaEmbed', {
              elementName: 'oembed',
              providers: [
                {
                  name: 'dailymotion',
                  url: /^dailymotion\.com\/video\/(\w+)/,
                  html: (e) =>
                    `<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`,
                },
                {
                  name: 'spotify',
                  url: [
                    /^open\.spotify\.com\/(artist\/\w+)/,
                    /^open\.spotify\.com\/(album\/\w+)/,
                    /^open\.spotify\.com\/(track\/\w+)/,
                  ],
                  html: (e) =>
                    `<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`,
                },
                {
                  name: 'youtube',
                  url: [
                    /^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,
                    /^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,
                    /^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,
                    /^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/,
                  ],
                  html: (e) => {
                    const t = e[1],
                      i = e[2];
                    return `<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${t}${
                      i ? `?start=${i}` : ''
                    }" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`;
                  },
                },
                {
                  name: 'vimeo',
                  url: [
                    /^vimeo\.com\/(\d+)/,
                    /^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,
                    /^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,
                    /^vimeo\.com\/channels\/[^/]+\/(\d+)/,
                    /^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,
                    /^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,
                    /^player\.vimeo\.com\/video\/(\d+)/,
                  ],
                  html: (e) =>
                    `<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`,
                },
                {name: 'instagram', url: /^instagram\.com\/p\/(\w+)/},
                {name: 'twitter', url: /^twitter\.com/},
                {
                  name: 'googleMaps',
                  url: [
                    /^google\.com\/maps/,
                    /^goo\.gl\/maps/,
                    /^maps\.google\.com/,
                    /^maps\.app\.goo\.gl/,
                  ],
                },
                {name: 'flickr', url: /^flickr\.com/},
                {name: 'facebook', url: /^facebook\.com/},
              ],
            }),
            (this.registry = new Wv(e.locale, e.config.get('mediaEmbed')));
        }
        init() {
          const e = this.editor,
            t = e.model.schema,
            i = e.t,
            n = e.conversion,
            o = e.config.get('mediaEmbed.previewsInData'),
            r = e.config.get('mediaEmbed.elementName'),
            s = this.registry;
          e.commands.add('mediaEmbed', new Zv(e)),
            t.register('media', {
              inheritAllFrom: '$blockObject',
              allowAttributes: ['url'],
            }),
            n.for('dataDowncast').elementToStructure({
              model: 'media',
              view: (e, {writer: t}) => {
                const i = e.getAttribute('url');
                return Hv(t, s, i, {
                  elementName: r,
                  renderMediaPreview: !!i && o,
                });
              },
            }),
            n
              .for('dataDowncast')
              .add(Fv(s, {elementName: r, renderMediaPreview: o})),
            n.for('editingDowncast').elementToStructure({
              model: 'media',
              view: (e, {writer: t}) => {
                const n = e.getAttribute('url');
                return (function (e, t, i) {
                  return (
                    t.setCustomProperty('media', !0, e), Lm(e, t, {label: i})
                  );
                })(
                  Hv(t, s, n, {elementName: r, renderForEditingView: !0}),
                  t,
                  i('media widget')
                );
              },
            }),
            n
              .for('editingDowncast')
              .add(Fv(s, {elementName: r, renderForEditingView: !0})),
            n
              .for('upcast')
              .elementToElement({
                view: (e) =>
                  ['oembed', r].includes(e.name) && e.getAttribute('url')
                    ? {name: !0}
                    : null,
                model: (e, {writer: t}) => {
                  const i = e.getAttribute('url');
                  return s.hasMedia(i)
                    ? t.createElement('media', {url: i})
                    : null;
                },
              })
              .elementToElement({
                view: {name: 'div', attributes: {'data-oembed-url': !0}},
                model: (e, {writer: t}) => {
                  const i = e.getAttribute('data-oembed-url');
                  return s.hasMedia(i)
                    ? t.createElement('media', {url: i})
                    : null;
                },
              })
              .add((e) => {
                e.on('element:figure', (e, t, i) => {
                  if (
                    !i.consumable.consume(t.viewItem, {
                      name: !0,
                      classes: 'media',
                    })
                  )
                    return;
                  const {modelRange: n, modelCursor: o} = i.convertChildren(
                    t.viewItem,
                    t.modelCursor
                  );
                  (t.modelRange = n),
                    (t.modelCursor = o),
                    Sn(n.getItems()) ||
                      i.consumable.revert(t.viewItem, {
                        name: !0,
                        classes: 'media',
                      });
                });
              });
        }
      }
      const Qv = /^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;
      class Jv extends Vn {
        static get requires() {
          return [_g, am, Pg];
        }
        static get pluginName() {
          return 'AutoMediaEmbed';
        }
        constructor(e) {
          super(e), (this._timeoutId = null), (this._positionToInsert = null);
        }
        init() {
          const e = this.editor,
            t = e.model.document,
            i = e.plugins.get('ClipboardPipeline');
          this.listenTo(i, 'inputTransformation', () => {
            const e = t.selection.getFirstRange(),
              i = mc.fromPosition(e.start);
            i.stickiness = 'toPrevious';
            const n = mc.fromPosition(e.end);
            (n.stickiness = 'toNext'),
              t.once(
                'change:data',
                () => {
                  this._embedMediaBetweenPositions(i, n),
                    i.detach(),
                    n.detach();
                },
                {priority: 'high'}
              );
          }),
            e.commands.get('undo').on(
              'execute',
              () => {
                this._timeoutId &&
                  (zi.window.clearTimeout(this._timeoutId),
                  this._positionToInsert.detach(),
                  (this._timeoutId = null),
                  (this._positionToInsert = null));
              },
              {priority: 'high'}
            );
        }
        _embedMediaBetweenPositions(e, t) {
          const i = this.editor,
            n = i.plugins.get(Kv).registry,
            o = new Ma(e, t),
            r = o.getWalker({ignoreElementEnd: !0});
          let s = '';
          for (const e of r) e.item.is('$textProxy') && (s += e.item.data);
          (s = s.trim()),
            s.match(Qv) &&
            n.hasMedia(s) &&
            i.commands.get('mediaEmbed').isEnabled
              ? ((this._positionToInsert = mc.fromPosition(e)),
                (this._timeoutId = zi.window.setTimeout(() => {
                  i.model.change((e) => {
                    (this._timeoutId = null), e.remove(o), o.detach();
                    let t = null;
                    '$graveyard' !== this._positionToInsert.root.rootName &&
                      (t = this._positionToInsert),
                      Uv(i.model, s, t, !1),
                      this._positionToInsert.detach(),
                      (this._positionToInsert = null);
                  }),
                    i.plugins.get(am).requestUndoOnBackspace();
                }, 100)))
              : o.detach();
        }
      }
      var Xv = i(4508),
        ey = {attributes: {'data-cke': !0}};
      (ey.setAttributes = Qn()),
        (ey.insert = Yn().bind(null, 'head')),
        (ey.domAPI = qn()),
        (ey.insertStyleElement = Xn()),
        Zn()(Xv.Z, ey),
        Xv.Z && Xv.Z.locals && Xv.Z.locals;
      class ty extends Cd {
        constructor(e, t) {
          super(t);
          const i = t.t;
          (this.focusTracker = new In()),
            (this.keystrokes = new Pn()),
            this.set('mediaURLInputValue', ''),
            (this.urlInputView = this._createUrlInput()),
            (this.saveButtonView = this._createButton(
              i('Save'),
              dd.check,
              'ck-button-save'
            )),
            (this.saveButtonView.type = 'submit'),
            this.saveButtonView
              .bind('isEnabled')
              .to(this, 'mediaURLInputValue', (e) => !!e),
            (this.cancelButtonView = this._createButton(
              i('Cancel'),
              dd.cancel,
              'ck-button-cancel',
              'cancel'
            )),
            (this._focusables = new yd()),
            (this._focusCycler = new pu({
              focusables: this._focusables,
              focusTracker: this.focusTracker,
              keystrokeHandler: this.keystrokes,
              actions: {focusPrevious: 'shift + tab', focusNext: 'tab'},
            })),
            (this._validators = e),
            this.setTemplate({
              tag: 'form',
              attributes: {
                class: ['ck', 'ck-media-form', 'ck-responsive-form'],
                tabindex: '-1',
              },
              children: [
                this.urlInputView,
                this.saveButtonView,
                this.cancelButtonView,
              ],
            });
        }
        render() {
          super.render(),
            _d({view: this}),
            [
              this.urlInputView,
              this.saveButtonView,
              this.cancelButtonView,
            ].forEach((e) => {
              this._focusables.add(e), this.focusTracker.add(e.element);
            }),
            this.keystrokes.listenTo(this.element);
          const e = (e) => e.stopPropagation();
          this.keystrokes.set('arrowright', e),
            this.keystrokes.set('arrowleft', e),
            this.keystrokes.set('arrowup', e),
            this.keystrokes.set('arrowdown', e),
            this.listenTo(
              this.urlInputView.element,
              'selectstart',
              (e, t) => {
                t.stopPropagation();
              },
              {priority: 'high'}
            );
        }
        destroy() {
          super.destroy(),
            this.focusTracker.destroy(),
            this.keystrokes.destroy();
        }
        focus() {
          this._focusCycler.focusFirst();
        }
        get url() {
          return this.urlInputView.fieldView.element.value.trim();
        }
        set url(e) {
          this.urlInputView.fieldView.element.value = e.trim();
        }
        isValid() {
          this.resetFormStatus();
          for (const e of this._validators) {
            const t = e(this);
            if (t) return (this.urlInputView.errorText = t), !1;
          }
          return !0;
        }
        resetFormStatus() {
          (this.urlInputView.errorText = null),
            (this.urlInputView.infoText = this._urlInputViewInfoDefault);
        }
        _createUrlInput() {
          const e = this.locale.t,
            t = new yh(this.locale, xh),
            i = t.fieldView;
          return (
            (this._urlInputViewInfoDefault = e(
              'Paste the media URL in the input.'
            )),
            (this._urlInputViewInfoTip = e(
              'Tip: Paste the URL into the content to embed faster.'
            )),
            (t.label = e('Media URL')),
            (t.infoText = this._urlInputViewInfoDefault),
            i.on('input', () => {
              (t.infoText = i.element.value
                ? this._urlInputViewInfoTip
                : this._urlInputViewInfoDefault),
                (this.mediaURLInputValue = i.element.value.trim());
            }),
            t
          );
        }
        _createButton(e, t, i, n) {
          const o = new Xd(this.locale);
          return (
            o.set({label: e, icon: t, tooltip: !0}),
            o.extendTemplate({attributes: {class: i}}),
            n && o.delegate('execute').to(this, n),
            o
          );
        }
      }
      class iy extends Vn {
        static get requires() {
          return [Kv];
        }
        static get pluginName() {
          return 'MediaEmbedUI';
        }
        init() {
          const e = this.editor,
            t = e.commands.get('mediaEmbed');
          e.ui.componentFactory.add('mediaEmbed', (e) => {
            const i = zu(e);
            return this._setUpDropdown(i, t), i;
          });
        }
        _setUpDropdown(e, t) {
          const i = this.editor,
            n = i.t,
            o = e.buttonView,
            r = i.plugins.get(Kv).registry;
          e.once('change:isOpen', () => {
            const n = new (wd(ty))(
              (function (e, t) {
                return [
                  (t) => {
                    if (!t.url.length) return e('The URL must not be empty.');
                  },
                  (i) => {
                    if (!t.hasMedia(i.url))
                      return e('This media URL is not supported.');
                  },
                ];
              })(i.t, r),
              i.locale
            );
            e.panelView.children.add(n),
              o.on(
                'open',
                () => {
                  n.disableCssTransitions(),
                    (n.url = t.value || ''),
                    n.urlInputView.fieldView.select(),
                    n.enableCssTransitions();
                },
                {priority: 'low'}
              ),
              e.on('submit', () => {
                n.isValid() &&
                  (i.execute('mediaEmbed', n.url), i.editing.view.focus());
              }),
              e.on('change:isOpen', () => n.resetFormStatus()),
              e.on('cancel', () => {
                i.editing.view.focus();
              }),
              n.delegate('submit', 'cancel').to(e),
              n.urlInputView.fieldView.bind('value').to(t, 'value'),
              n.urlInputView.bind('isEnabled').to(t, 'isEnabled');
          }),
            e.bind('isEnabled').to(t),
            o.set({
              label: n('Insert media'),
              icon: 'export default "<svg xmlns=\\"http://www.w3.org/2000/svg\\" viewBox=\\"0 0 20 20\\"><path d=\\"M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z\\"/></svg>";',
              tooltip: !0,
            });
        }
      }
      var ny = i(1589),
        oy = {attributes: {'data-cke': !0}};
      (oy.setAttributes = Qn()),
        (oy.insert = Yn().bind(null, 'head')),
        (oy.domAPI = qn()),
        (oy.insertStyleElement = Xn()),
        Zn()(ny.Z, oy),
        ny.Z && ny.Z.locals && ny.Z.locals;
      class ry extends Vn {
        static get requires() {
          return [Kv, iy, Jv, ng];
        }
        static get pluginName() {
          return 'MediaEmbed';
        }
      }
      class sy extends Vn {
        static get requires() {
          return [og];
        }
        static get pluginName() {
          return 'MediaEmbedToolbar';
        }
        afterInit() {
          const e = this.editor,
            t = e.t;
          e.plugins.get(og).register('mediaEmbed', {
            ariaLabel: t('Media toolbar'),
            items: e.config.get('mediaEmbed.toolbar') || [],
            getRelatedElement: jv,
          });
        }
      }
      class ay extends zn {
        refresh() {
          const e = this.editor.model,
            t = e.schema,
            i = e.document.selection;
          this.isEnabled = (function (e, t, i) {
            const n = (function (e, t) {
              const i = Hm(e, t).start.parent;
              return i.isEmpty && !i.is('element', '$root') ? i.parent : i;
            })(e, i);
            return t.checkChild(n, 'pageBreak');
          })(i, t, e);
        }
        execute() {
          const e = this.editor.model;
          e.change((t) => {
            const i = t.createElement('pageBreak');
            e.insertObject(i, null, null, {setSelection: 'after'});
          });
        }
      }
      var ly = i(6467),
        cy = {attributes: {'data-cke': !0}};
      (cy.setAttributes = Qn()),
        (cy.insert = Yn().bind(null, 'head')),
        (cy.domAPI = qn()),
        (cy.insertStyleElement = Xn()),
        Zn()(ly.Z, cy),
        ly.Z && ly.Z.locals && ly.Z.locals;
      class dy extends Vn {
        static get pluginName() {
          return 'PageBreakEditing';
        }
        init() {
          const e = this.editor,
            t = e.model.schema,
            i = e.t,
            n = e.conversion;
          t.register('pageBreak', {inheritAllFrom: '$blockObject'}),
            n.for('dataDowncast').elementToStructure({
              model: 'pageBreak',
              view: (e, {writer: t}) =>
                t.createContainerElement(
                  'div',
                  {class: 'page-break', style: 'page-break-after: always'},
                  t.createContainerElement('span', {style: 'display: none'})
                ),
            }),
            n.for('editingDowncast').elementToStructure({
              model: 'pageBreak',
              view: (e, {writer: t}) => {
                const n = i('Page break'),
                  o = t.createContainerElement('div'),
                  r = t.createRawElement(
                    'span',
                    {class: 'page-break__label'},
                    function (e) {
                      e.innerText = i('Page break');
                    }
                  );
                return (
                  t.addClass('page-break', o),
                  t.insert(t.createPositionAt(o, 0), r),
                  (function (e, t, i) {
                    return (
                      t.setCustomProperty('pageBreak', !0, e),
                      Lm(e, t, {label: i})
                    );
                  })(o, t, n)
                );
              },
            }),
            n.for('upcast').elementToElement({
              view: (e) => {
                const t = 'always' == e.getStyle('page-break-before'),
                  i = 'always' == e.getStyle('page-break-after');
                if (!t && !i) return null;
                if (1 == e.childCount) {
                  const t = e.getChild(0);
                  if (
                    !t.is('element', 'span') ||
                    'none' != t.getStyle('display')
                  )
                    return null;
                } else if (e.childCount > 1) return null;
                return {name: !0};
              },
              model: 'pageBreak',
              converterPriority: 'high',
            }),
            e.commands.add('pageBreak', new ay(e));
        }
      }
      class uy extends Vn {
        static get pluginName() {
          return 'PageBreakUI';
        }
        init() {
          const e = this.editor,
            t = e.t;
          e.ui.componentFactory.add('pageBreak', (i) => {
            const n = e.commands.get('pageBreak'),
              o = new Xd(i);
            return (
              o.set({
                label: t('Page break'),
                icon: 'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M3.598.687h1.5v5h-1.5zm14.5 0h1.5v5h-1.5z\\"/><path d=\\"M19.598 4.187v1.5h-16v-1.5zm-16 14.569h1.5v-5h-1.5zm14.5 0h1.5v-5h-1.5z\\"/><path d=\\"M19.598 15.256v-1.5h-16v1.5zM5.081 9h6v2h-6zm8 0h6v2h-6zm-9.483 1L0 12.5v-5z\\"/></svg>";',
                tooltip: !0,
              }),
              o.bind('isEnabled').to(n, 'isEnabled'),
              this.listenTo(o, 'execute', () => {
                e.execute('pageBreak'), e.editing.view.focus();
              }),
              o
            );
          });
        }
      }
      class hy extends Vn {
        static get requires() {
          return [dy, uy, ng];
        }
        static get pluginName() {
          return 'PageBreak';
        }
      }
      function my(e, t, i, {blockElements: n, inlineObjectElements: o}) {
        let r = i.createPositionAt(e, 'forward' == t ? 'after' : 'before');
        return (
          (r = r.getLastMatchingPosition(
            ({item: e}) =>
              e.is('element') && !n.includes(e.name) && !o.includes(e.name),
            {direction: t}
          )),
          'forward' == t ? r.nodeAfter : r.nodeBefore
        );
      }
      function gy(e, t) {
        return !!e && e.is('element') && t.includes(e.name);
      }
      function fy(e) {
        if (e.startsWith('arabic-leading-zero')) return 'decimal-leading-zero';
        switch (e) {
          case 'alpha-upper':
            return 'upper-alpha';
          case 'alpha-lower':
            return 'lower-alpha';
          case 'roman-upper':
            return 'upper-roman';
          case 'roman-lower':
            return 'lower-roman';
          case 'circle':
          case 'disc':
          case 'square':
            return e;
          default:
            return null;
        }
      }
      function py(e, t, i) {
        const n = t.parent,
          o = i.createElement(e.type),
          r = n.getChildIndex(t) + 1;
        return (
          i.insertChild(r, o, n),
          e.style && i.setStyle('list-style-type', e.style, o),
          e.startIndex &&
            e.startIndex > 1 &&
            i.setAttribute('start', e.startIndex, o),
          o
        );
      }
      function by(e) {
        const t = {},
          i = e.getStyle('mso-list');
        if (i) {
          const e = i.match(/(^|\s{1,100})l(\d+)/i),
            n = i.match(/\s{0,100}lfo(\d+)/i),
            o = i.match(/\s{0,100}level(\d+)/i);
          e &&
            n &&
            o &&
            ((t.id = e[2]), (t.order = n[1]), (t.indent = parseInt(o[1])));
        }
        return t;
      }
      const ky = /id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;
      class wy {
        constructor(e) {
          this.document = e;
        }
        isActive(e) {
          return ky.test(e);
        }
        execute(e) {
          const t = new nd(this.document),
            {body: i} = e._parsedData;
          !(function (e, t) {
            for (const i of e.getChildren())
              if (
                i.is('element', 'b') &&
                'normal' === i.getStyle('font-weight')
              ) {
                const n = e.getChildIndex(i);
                t.remove(i), t.insertChild(n, i.getChildren(), e);
              }
          })(i, t),
            (function (e, t) {
              for (const i of t.createRangeIn(e)) {
                const e = i.item;
                if (e.is('element', 'li')) {
                  const i = e.getChild(0);
                  i && i.is('element', 'p') && t.unwrapElement(i);
                }
              }
            })(i, t),
            (function (e, t) {
              const i = new _r(t.document.stylesProcessor),
                n = new cs(i, {renderingMode: 'data'}),
                o = n.blockElements,
                r = n.inlineObjectElements,
                s = [];
              for (const i of t.createRangeIn(e)) {
                const e = i.item;
                if (e.is('element', 'br')) {
                  const i = my(e, 'forward', t, {
                      blockElements: o,
                      inlineObjectElements: r,
                    }),
                    n = my(e, 'backward', t, {
                      blockElements: o,
                      inlineObjectElements: r,
                    }),
                    a = gy(i, o);
                  (gy(n, o) || a) && s.push(e);
                }
              }
              for (const e of s)
                e.hasClass('Apple-interchange-newline')
                  ? t.remove(e)
                  : t.replace(e, t.createElement('p'));
            })(i, t),
            (e.content = i);
        }
      }
      const _y =
          /<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,
        vy = /xmlns:o="urn:schemas-microsoft-com/i;
      class yy {
        constructor(e) {
          this.document = e;
        }
        isActive(e) {
          return _y.test(e) || vy.test(e);
        }
        execute(e) {
          const {body: t, stylesString: i} = e._parsedData;
          (function (e, t) {
            if (!e.childCount) return;
            const i = new nd(e.document),
              n = (function (e, t) {
                const i = t.createRangeIn(e),
                  n = new mo({name: /^p|h\d+$/, styles: {'mso-list': /.*/}}),
                  o = [];
                for (const e of i)
                  if ('elementStart' === e.type && n.match(e.item)) {
                    const t = by(e.item);
                    o.push({
                      element: e.item,
                      id: t.id,
                      order: t.order,
                      indent: t.indent,
                    });
                  }
                return o;
              })(e, i);
            if (!n.length) return;
            let o = null,
              r = 1;
            n.forEach((e, s) => {
              const a = (function (e, t) {
                  if (!e) return !0;
                  if (e.id !== t.id) return t.indent - e.indent != 1;
                  const i = t.element.previousSibling;
                  return (
                    !i ||
                    !((n = i).is('element', 'ol') || n.is('element', 'ul'))
                  );
                  var n;
                })(n[s - 1], e),
                l =
                  ((d = e),
                  (c = a ? null : n[s - 1])
                    ? d.indent - c.indent
                    : d.indent - 1);
              var c, d;
              if ((a && ((o = null), (r = 1)), !o || 0 !== l)) {
                const n = (function (e, t) {
                  const i = /mso-level-number-format:([^;]{0,100});/gi,
                    n = /mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,
                    o = new RegExp(
                      `@list l${e.id}:level${e.indent}\\s*({[^}]*)`,
                      'gi'
                    ).exec(t);
                  let r = 'decimal',
                    s = 'ol',
                    a = null;
                  if (o && o[1]) {
                    const t = i.exec(o[1]);
                    if (
                      (t &&
                        t[1] &&
                        ((r = t[1].trim()),
                        (s = 'bullet' !== r && 'image' !== r ? 'ol' : 'ul')),
                      'bullet' === r)
                    ) {
                      const t = (function (e) {
                        const t = (function (e) {
                          if (e.getChild(0).is('$text')) return null;
                          for (const t of e.getChildren()) {
                            if (!t.is('element', 'span')) continue;
                            const e = t.getChild(0);
                            if (e) return e.is('$text') ? e : e.getChild(0);
                          }
                          return null;
                        })(e);
                        if (!t) return null;
                        const i = t._data;
                        return 'o' === i
                          ? 'circle'
                          : '·' === i
                          ? 'disc'
                          : '§' === i
                          ? 'square'
                          : null;
                      })(e.element);
                      t && (r = t);
                    } else {
                      const e = n.exec(o[1]);
                      e && e[1] && (a = parseInt(e[1]));
                    }
                  }
                  return {type: s, startIndex: a, style: fy(r)};
                })(e, t);
                if (o) {
                  if (e.indent > r) {
                    const e = o.getChild(o.childCount - 1),
                      t = e.getChild(e.childCount - 1);
                    (o = py(n, t, i)), (r += 1);
                  } else if (e.indent < r) {
                    const t = r - e.indent;
                    (o = (function (e, t) {
                      const i = e.getAncestors({parentFirst: !0});
                      let n = null,
                        o = 0;
                      for (const e of i)
                        if (
                          ((e.is('element', 'ul') || e.is('element', 'ol')) &&
                            o++,
                          o === t)
                        ) {
                          n = e;
                          break;
                        }
                      return n;
                    })(o, t)),
                      (r = e.indent);
                  }
                } else o = py(n, e.element, i);
                e.indent <= r &&
                  (o.is('element', n.type) || (o = i.rename(n.type, o)));
              }
              const u = (function (e, t) {
                return (
                  (function (e, t) {
                    const i = new mo({
                        name: 'span',
                        styles: {'mso-list': 'Ignore'},
                      }),
                      n = t.createRangeIn(e);
                    for (const e of n)
                      'elementStart' === e.type &&
                        i.match(e.item) &&
                        t.remove(e.item);
                  })(e, t),
                  t.rename('li', e)
                );
              })(e.element, i);
              i.appendChild(u, o);
            });
          })(t, i),
            (function (e, t) {
              if (!e.childCount) return;
              const i = new nd(e.document),
                n = (function (e, t) {
                  const i = t.createRangeIn(e),
                    n = new mo({name: /v:(.+)/}),
                    o = [];
                  for (const e of i) {
                    if ('elementStart' != e.type) continue;
                    const t = e.item,
                      i = t.previousSibling,
                      r = i && i.is('element') ? i.name : null;
                    n.match(t) &&
                      t.getAttribute('o:gfxdata') &&
                      'v:shapetype' !== r &&
                      o.push(e.item.getAttribute('id'));
                  }
                  return o;
                })(e, i);
              !(function (e, t, i) {
                const n = i.createRangeIn(t),
                  o = new mo({name: 'img'}),
                  r = [];
                for (const t of n)
                  if (t.item.is('element') && o.match(t.item)) {
                    const i = t.item,
                      n = i.getAttribute('v:shapes')
                        ? i.getAttribute('v:shapes').split(' ')
                        : [];
                    n.length && n.every((t) => e.indexOf(t) > -1)
                      ? r.push(i)
                      : i.getAttribute('src') || r.push(i);
                  }
                for (const e of r) i.remove(e);
              })(n, e, i),
                (function (e, t, i) {
                  const n = i.createRangeIn(t),
                    o = [];
                  for (const t of n)
                    if (
                      'elementStart' == t.type &&
                      t.item.is('element', 'v:shape')
                    ) {
                      const i = t.item.getAttribute('id');
                      if (e.includes(i)) continue;
                      r(t.item.parent.getChildren(), i) || o.push(t.item);
                    }
                  for (const e of o) {
                    const t = {src: s(e)};
                    e.hasAttribute('alt') && (t.alt = e.getAttribute('alt'));
                    const n = i.createElement('img', t);
                    i.insertChild(e.index + 1, n, e.parent);
                  }
                  function r(e, t) {
                    for (const i of e)
                      if (i.is('element')) {
                        if ('img' == i.name && i.getAttribute('v:shapes') == t)
                          return !0;
                        if (r(i.getChildren(), t)) return !0;
                      }
                    return !1;
                  }
                  function s(e) {
                    for (const t of e.getChildren())
                      if (t.is('element') && t.getAttribute('src'))
                        return t.getAttribute('src');
                  }
                })(n, e, i),
                (function (e, t) {
                  const i = t.createRangeIn(e),
                    n = new mo({name: /v:(.+)/}),
                    o = [];
                  for (const e of i)
                    'elementStart' == e.type &&
                      n.match(e.item) &&
                      o.push(e.item);
                  for (const e of o) t.remove(e);
                })(e, i);
              const o = (function (e, t) {
                const i = t.createRangeIn(e),
                  n = new mo({name: 'img'}),
                  o = [];
                for (const e of i)
                  e.item.is('element') &&
                    n.match(e.item) &&
                    e.item.getAttribute('src').startsWith('file://') &&
                    o.push(e.item);
                return o;
              })(e, i);
              o.length &&
                (function (e, t, i) {
                  if (e.length === t.length)
                    for (let o = 0; o < e.length; o++) {
                      const r = `data:${t[o].type};base64,${
                        ((n = t[o].hex),
                        btoa(
                          n
                            .match(/\w{2}/g)
                            .map((e) => String.fromCharCode(parseInt(e, 16)))
                            .join('')
                        ))
                      }`;
                      i.setAttribute('src', r, e[o]);
                    }
                  var n;
                })(
                  o,
                  (function (e) {
                    if (!e) return [];
                    const t =
                        /{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,
                      i = new RegExp(
                        '(?:(' + t.source + '))([\\da-fA-F\\s]+)\\}',
                        'g'
                      ),
                      n = e.match(i),
                      o = [];
                    if (n)
                      for (const e of n) {
                        let i = !1;
                        e.includes('\\pngblip')
                          ? (i = 'image/png')
                          : e.includes('\\jpegblip') && (i = 'image/jpeg'),
                          i &&
                            o.push({
                              hex: e.replace(t, '').replace(/[^\da-fA-F]/g, ''),
                              type: i,
                            });
                      }
                    return o;
                  })(t),
                  i
                );
            })(t, e.dataTransfer.getData('text/rtf')),
            (e.content = t);
        }
      }
      function xy(e) {
        return e.replace(
          /<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,
          (e, t) =>
            1 === t.length
              ? ' '
              : Array(t.length + 1)
                  .join('  ')
                  .substr(0, t.length)
        );
      }
      class Ay extends Vn {
        static get pluginName() {
          return 'PasteFromOffice';
        }
        static get requires() {
          return [qh];
        }
        init() {
          const e = this.editor,
            t = e.plugins.get('ClipboardPipeline'),
            i = e.editing.view.document,
            n = [];
          n.push(new yy(i)),
            n.push(new wy(i)),
            t.on(
              'inputTransformation',
              (t, o) => {
                if (o._isTransformedWithPasteFromOffice) return;
                if (
                  e.model.document.selection
                    .getFirstPosition()
                    .parent.is('element', 'codeBlock')
                )
                  return;
                const r = o.dataTransfer.getData('text/html'),
                  s = n.find((e) => e.isActive(r));
                s &&
                  ((o._parsedData = (function (e, t) {
                    const i = new DOMParser(),
                      n = (function (e) {
                        return xy(xy(e))
                          .replace(
                            /(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,
                            '$1$2'
                          )
                          .replace(
                            /<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,
                            ''
                          )
                          .replace(/ <\//g, ' </')
                          .replace(/ <o:p><\/o:p>/g, ' <o:p></o:p>')
                          .replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g, '')
                          .replace(/>([^\S\r\n]*[\r\n]\s*)</g, '><');
                      })(
                        (function (e) {
                          const t = '</body>',
                            i = e.indexOf(t);
                          if (i < 0) return e;
                          const n = e.indexOf('</html>', i + t.length);
                          return (
                            e.substring(0, i + t.length) +
                            (n >= 0 ? e.substring(n) : '')
                          );
                        })((e = e.replace(/<!--\[if gte vml 1]>/g, '')))
                      ),
                      o = i.parseFromString(n, 'text/html');
                    !(function (e) {
                      e.querySelectorAll('span[style*=spacerun]').forEach(
                        (e) => {
                          const t = e,
                            i = t.innerText.length || 0;
                          t.innerText = Array(i + 1)
                            .join('  ')
                            .substr(0, i);
                        }
                      );
                    })(o);
                    const r = o.body.innerHTML,
                      s = (function (e, t) {
                        const i = new _r(t),
                          n = new cs(i, {renderingMode: 'data'}),
                          o = e.createDocumentFragment(),
                          r = e.body.childNodes;
                        for (; r.length > 0; ) o.appendChild(r[0]);
                        return n.domToView(o, {skipComments: !0});
                      })(o, t),
                      a = (function (e) {
                        const t = [],
                          i = [],
                          n = Array.from(e.getElementsByTagName('style'));
                        for (const e of n)
                          e.sheet &&
                            e.sheet.cssRules &&
                            e.sheet.cssRules.length &&
                            (t.push(e.sheet), i.push(e.innerHTML));
                        return {styles: t, stylesString: i.join(' ')};
                      })(o);
                    return {
                      body: s,
                      bodyString: r,
                      styles: a.styles,
                      stylesString: a.stylesString,
                    };
                  })(r, i.stylesProcessor)),
                  s.execute(o),
                  (o._isTransformedWithPasteFromOffice = !0));
              },
              {priority: 'high'}
            );
        }
      }
      function Cy(e, t, i = '    ') {
        return `${i.repeat(Math.max(0, t))}${e}`;
      }
      var Ey = i(7575),
        Ty = {attributes: {'data-cke': !0}};
      (Ty.setAttributes = Qn()),
        (Ty.insert = Yn().bind(null, 'head')),
        (Ty.domAPI = qn()),
        (Ty.insertStyleElement = Xn()),
        Zn()(Ey.Z, Ty),
        Ey.Z && Ey.Z.locals && Ey.Z.locals;
      const Sy = 'SourceEditingMode';
      class Iy extends Vn {
        static get pluginName() {
          return 'SourceEditing';
        }
        static get requires() {
          return [cd];
        }
        constructor(e) {
          super(e),
            this.set('isSourceEditingMode', !1),
            (this._elementReplacer = new U()),
            (this._replacedRoots = new Map()),
            (this._dataFromRoots = new Map());
        }
        init() {
          const e = this.editor,
            t = e.t;
          e.ui.componentFactory.add('sourceEditing', (i) => {
            const n = new Xd(i);
            return (
              n.set({
                label: t('Source'),
                icon: 'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"m12.5 0 5 4.5v15.003h-16V0h11zM3 1.5v3.25l-1.497 1-.003 8 1.5 1v3.254L7.685 18l-.001 1.504H17.5V8.002L16 9.428l-.004-4.22-4.222-3.692L3 1.5z\\"/><path d=\\"M4.06 6.64a.75.75 0 0 1 .958 1.15l-.085.07L2.29 9.75l2.646 1.89c.302.216.4.62.232.951l-.058.095a.75.75 0 0 1-.951.232l-.095-.058-3.5-2.5V9.14l3.496-2.5zm4.194 6.22a.75.75 0 0 1-.958-1.149l.085-.07 2.643-1.89-2.646-1.89a.75.75 0 0 1-.232-.952l.058-.095a.75.75 0 0 1 .95-.232l.096.058 3.5 2.5v1.22l-3.496 2.5zm7.644-.836 2.122 2.122-5.825 5.809-2.125-.005.003-2.116zm2.539-1.847 1.414 1.414a.5.5 0 0 1 0 .707l-1.06 1.06-2.122-2.12 1.061-1.061a.5.5 0 0 1 .707 0z\\"/></svg>";',
                tooltip: !0,
                withText: !0,
                class: 'ck-source-editing-button',
              }),
              n.bind('isOn').to(this, 'isSourceEditingMode'),
              n
                .bind('isEnabled')
                .to(
                  this,
                  'isEnabled',
                  e,
                  'isReadOnly',
                  e.plugins.get(cd),
                  'hasAny',
                  (e, t, i) => !!e && !t && !i
                ),
              this.listenTo(n, 'execute', () => {
                this.isSourceEditingMode = !this.isSourceEditingMode;
              }),
              n
            );
          }),
            this._isAllowedToHandleSourceEditingMode() &&
              (this.on('change:isSourceEditingMode', (e, t, i) => {
                i
                  ? (this._showSourceEditing(), this._disableCommands())
                  : (this._hideSourceEditing(), this._enableCommands());
              }),
              this.on('change:isEnabled', (e, t, i) =>
                this._handleReadOnlyMode(!i)
              ),
              this.listenTo(e, 'change:isReadOnly', (e, t, i) =>
                this._handleReadOnlyMode(i)
              )),
            e.data.on(
              'get',
              () => {
                this.isSourceEditingMode && this._updateEditorData();
              },
              {priority: 'high'}
            );
        }
        afterInit() {
          const e = this.editor;
          [
            'RealTimeCollaborativeEditing',
            'CommentsEditing',
            'TrackChangesEditing',
            'RevisionHistory',
          ].some((t) => e.plugins.has(t)) &&
            console.warn(
              'You initialized the editor with the source editing feature and at least one of the collaboration features. Please be advised that the source editing feature may not work, and be careful when editing document source that contains markers created by the collaboration features.'
            ),
            e.plugins.has('RestrictedEditingModeEditing') &&
              console.warn(
                'You initialized the editor with the source editing feature and restricted editing feature. Please be advised that the source editing feature may not work, and be careful when editing document source that contains markers created by the restricted editing feature.'
              );
        }
        _showSourceEditing() {
          const e = this.editor,
            t = e.editing.view,
            i = e.model;
          i.change((e) => {
            e.setSelection(null),
              e.removeSelectionAttribute(
                i.document.selection.getAttributeKeys()
              );
          });
          for (const [i, n] of t.domRoots) {
            const o = Py(e.data.get({rootName: i})),
              r = le(n.ownerDocument, 'textarea', {
                rows: '1',
                'aria-label': 'Source code editing area',
              }),
              s = le(
                n.ownerDocument,
                'div',
                {class: 'ck-source-editing-area', 'data-value': o},
                [r]
              );
            (r.value = o),
              r.setSelectionRange(0, 0),
              r.addEventListener('input', () => {
                s.dataset.value = r.value;
              }),
              t.change((e) => {
                const n = t.document.getRoot(i);
                e.addClass('ck-hidden', n);
              }),
              e.ui.setEditableElement('sourceEditing:' + i, r),
              this._replacedRoots.set(i, s),
              this._elementReplacer.replace(n, s),
              this._dataFromRoots.set(i, o);
          }
          this._focusSourceEditing();
        }
        _hideSourceEditing() {
          const e = this.editor.editing.view;
          this._updateEditorData(),
            e.change((t) => {
              for (const [i] of this._replacedRoots)
                t.removeClass('ck-hidden', e.document.getRoot(i));
            }),
            this._elementReplacer.restore(),
            this._replacedRoots.clear(),
            this._dataFromRoots.clear(),
            e.focus();
        }
        _updateEditorData() {
          const e = this.editor,
            t = {};
          for (const [e, i] of this._replacedRoots) {
            const n = this._dataFromRoots.get(e),
              o = i.dataset.value;
            n !== o && (t[e] = o);
          }
          Object.keys(t).length && e.data.set(t, {batchType: {isUndoable: !0}});
        }
        _focusSourceEditing() {
          const e = this.editor,
            [t] = this._replacedRoots.values(),
            i = t.querySelector('textarea');
          (e.editing.view.document.isFocused = !1), i.focus();
        }
        _disableCommands() {
          const e = this.editor;
          for (const t of e.commands.commands()) t.forceDisabled(Sy);
        }
        _enableCommands() {
          const e = this.editor;
          for (const t of e.commands.commands()) t.clearForceDisabled(Sy);
        }
        _handleReadOnlyMode(e) {
          if (this.isSourceEditingMode)
            for (const [, t] of this._replacedRoots)
              t.querySelector('textarea').readOnly = e;
        }
        _isAllowedToHandleSourceEditingMode() {
          const e = this.editor.ui.view.editable;
          return e && !e.hasExternalElement;
        }
      }
      function Py(e) {
        return (function (e) {
          return e.startsWith('<');
        })(e)
          ? (function (e) {
              const t = [
                  {name: 'address', isVoid: !1},
                  {name: 'article', isVoid: !1},
                  {name: 'aside', isVoid: !1},
                  {name: 'blockquote', isVoid: !1},
                  {name: 'br', isVoid: !0},
                  {name: 'details', isVoid: !1},
                  {name: 'dialog', isVoid: !1},
                  {name: 'dd', isVoid: !1},
                  {name: 'div', isVoid: !1},
                  {name: 'dl', isVoid: !1},
                  {name: 'dt', isVoid: !1},
                  {name: 'fieldset', isVoid: !1},
                  {name: 'figcaption', isVoid: !1},
                  {name: 'figure', isVoid: !1},
                  {name: 'footer', isVoid: !1},
                  {name: 'form', isVoid: !1},
                  {name: 'h1', isVoid: !1},
                  {name: 'h2', isVoid: !1},
                  {name: 'h3', isVoid: !1},
                  {name: 'h4', isVoid: !1},
                  {name: 'h5', isVoid: !1},
                  {name: 'h6', isVoid: !1},
                  {name: 'header', isVoid: !1},
                  {name: 'hgroup', isVoid: !1},
                  {name: 'hr', isVoid: !0},
                  {name: 'input', isVoid: !0},
                  {name: 'li', isVoid: !1},
                  {name: 'main', isVoid: !1},
                  {name: 'nav', isVoid: !1},
                  {name: 'ol', isVoid: !1},
                  {name: 'p', isVoid: !1},
                  {name: 'section', isVoid: !1},
                  {name: 'table', isVoid: !1},
                  {name: 'tbody', isVoid: !1},
                  {name: 'td', isVoid: !1},
                  {name: 'textarea', isVoid: !1},
                  {name: 'th', isVoid: !1},
                  {name: 'thead', isVoid: !1},
                  {name: 'tr', isVoid: !1},
                  {name: 'ul', isVoid: !1},
                ],
                i = t.map((e) => e.name).join('|'),
                n = e
                  .replace(new RegExp(`</?(${i})( .*?)?>`, 'g'), '\n$&\n')
                  .split('\n');
              let o = 0;
              return n
                .filter((e) => e.length)
                .map((e) =>
                  (function (e, t) {
                    return t.some(
                      (t) =>
                        !t.isVoid && !!new RegExp(`<${t.name}( .*?)?>`).test(e)
                    );
                  })(e, t)
                    ? Cy(e, o++)
                    : (function (e, t) {
                        return t.some((t) =>
                          new RegExp(`</${t.name}>`).test(e)
                        );
                      })(e, t)
                    ? Cy(e, --o)
                    : Cy(e, o)
                )
                .join('\n');
            })(e)
          : e;
      }
      const My = [
        'caption',
        'colgroup',
        'dd',
        'dt',
        'figcaption',
        'legend',
        'li',
        'optgroup',
        'option',
        'rp',
        'rt',
        'summary',
        'tbody',
        'td',
        'tfoot',
        'th',
        'thead',
        'tr',
      ];
      class Ry extends Xd {
        constructor(e, t) {
          super(e),
            (this.styleDefinition = t),
            (this.previewView = this._createPreview()),
            this.set({
              label: t.name,
              class: 'ck-style-grid__button',
              withText: !0,
            }),
            this.extendTemplate({attributes: {role: 'option'}}),
            this.children.add(this.previewView, 0);
        }
        _createPreview() {
          const {element: e, classes: t} = this.styleDefinition,
            i = new Cd(this.locale);
          return (
            i.setTemplate({
              tag: 'div',
              attributes: {
                class: [
                  'ck',
                  'ck-reset_all-excluded',
                  'ck-style-grid__button__preview',
                  'ck-content',
                ],
                'aria-hidden': 'true',
              },
              children: [
                {
                  tag: this._isPreviewable(e) ? e : 'div',
                  attributes: {class: t},
                  children: [{text: 'AaBbCcDdEeFfGgHhIiJj'}],
                },
              ],
            }),
            i
          );
        }
        _isPreviewable(e) {
          return !My.includes(e);
        }
      }
      var Ny = i(3338),
        Oy = {attributes: {'data-cke': !0}};
      (Oy.setAttributes = Qn()),
        (Oy.insert = Yn().bind(null, 'head')),
        (Oy.domAPI = qn()),
        (Oy.insertStyleElement = Xn()),
        Zn()(Ny.Z, Oy),
        Ny.Z && Ny.Z.locals && Ny.Z.locals;
      class Dy extends Cd {
        constructor(e, t) {
          super(e),
            (this.focusTracker = new In()),
            (this.keystrokes = new Pn()),
            this.set('activeStyles', []),
            this.set('enabledStyles', []),
            (this.children = this.createCollection()),
            this.children.delegate('execute').to(this);
          for (const i of t) {
            const t = new Ry(e, i);
            this.children.add(t);
          }
          this.on('change:activeStyles', () => {
            for (const e of this.children)
              e.isOn = this.activeStyles.includes(e.styleDefinition.name);
          }),
            this.on('change:enabledStyles', () => {
              for (const e of this.children)
                e.isEnabled = this.enabledStyles.includes(
                  e.styleDefinition.name
                );
            }),
            this.setTemplate({
              tag: 'div',
              attributes: {class: ['ck', 'ck-style-grid'], role: 'listbox'},
              children: this.children,
            });
        }
        render() {
          super.render();
          for (const e of this.children) this.focusTracker.add(e.element);
          vd({
            keystrokeHandler: this.keystrokes,
            focusTracker: this.focusTracker,
            gridItems: this.children,
            numberOfColumns: 3,
            uiLanguageDirection: this.locale && this.locale.uiLanguageDirection,
          }),
            this.keystrokes.listenTo(this.element);
        }
        focus() {
          this.children.first.focus();
        }
        destroy() {
          super.destroy(),
            this.focusTracker.destroy(),
            this.keystrokes.destroy();
        }
      }
      var Vy = i(5931),
        Ly = {attributes: {'data-cke': !0}};
      (Ly.setAttributes = Qn()),
        (Ly.insert = Yn().bind(null, 'head')),
        (Ly.domAPI = qn()),
        (Ly.insertStyleElement = Xn()),
        Zn()(Vy.Z, Ly),
        Vy.Z && Vy.Z.locals && Vy.Z.locals;
      class zy extends Cd {
        constructor(e, t, i) {
          super(e),
            (this.labelView = new ch(e)),
            (this.labelView.text = t),
            (this.gridView = new Dy(e, i)),
            this.setTemplate({
              tag: 'div',
              attributes: {
                class: ['ck', 'ck-style-panel__style-group'],
                role: 'group',
                'aria-labelledby': this.labelView.id,
              },
              children: [this.labelView, this.gridView],
            });
        }
      }
      var By = i(2683),
        Fy = {attributes: {'data-cke': !0}};
      (Fy.setAttributes = Qn()),
        (Fy.insert = Yn().bind(null, 'head')),
        (Fy.domAPI = qn()),
        (Fy.insertStyleElement = Xn()),
        Zn()(By.Z, Fy),
        By.Z && By.Z.locals && By.Z.locals;
      class jy extends Cd {
        constructor(e, t) {
          super(e);
          const i = e.t;
          (this.focusTracker = new In()),
            (this.keystrokes = new Pn()),
            (this.children = this.createCollection()),
            (this.blockStylesGroupView = new zy(e, i('Block styles'), t.block)),
            (this.inlineStylesGroupView = new zy(
              e,
              i('Text styles'),
              t.inline
            )),
            this.set('activeStyles', []),
            this.set('enabledStyles', []),
            (this._focusables = new yd()),
            (this._focusCycler = new pu({
              focusables: this._focusables,
              focusTracker: this.focusTracker,
              keystrokeHandler: this.keystrokes,
              actions: {focusPrevious: ['shift + tab'], focusNext: ['tab']},
            })),
            t.block.length && this.children.add(this.blockStylesGroupView),
            t.inline.length && this.children.add(this.inlineStylesGroupView),
            this.blockStylesGroupView.gridView.delegate('execute').to(this),
            this.inlineStylesGroupView.gridView.delegate('execute').to(this),
            this.blockStylesGroupView.gridView
              .bind('activeStyles', 'enabledStyles')
              .to(this, 'activeStyles', 'enabledStyles'),
            this.inlineStylesGroupView.gridView
              .bind('activeStyles', 'enabledStyles')
              .to(this, 'activeStyles', 'enabledStyles'),
            this.setTemplate({
              tag: 'div',
              attributes: {class: ['ck', 'ck-style-panel']},
              children: this.children,
            });
        }
        render() {
          super.render(),
            this._focusables.add(this.blockStylesGroupView.gridView),
            this._focusables.add(this.inlineStylesGroupView.gridView),
            this.focusTracker.add(this.blockStylesGroupView.gridView.element),
            this.focusTracker.add(this.inlineStylesGroupView.gridView.element),
            this.keystrokes.listenTo(this.element);
        }
        focus() {
          this._focusCycler.focusFirst();
        }
        focusLast() {
          this._focusCycler.focusLast();
        }
      }
      class Hy extends Vn {
        static get pluginName() {
          return 'StyleUtils';
        }
        normalizeConfig(e, t = []) {
          const i = {block: [], inline: []};
          for (const n of t) {
            const t = [],
              o = [];
            for (const i of e.getDefinitionsForView(n.element))
              i.isBlock ? t.push(i.model) : o.push(i.model);
            t.length
              ? i.block.push({...n, modelElements: t, isBlock: !0})
              : i.inline.push({...n, ghsAttributes: o});
          }
          return i;
        }
      }
      var $y = i(4849),
        Uy = {attributes: {'data-cke': !0}};
      (Uy.setAttributes = Qn()),
        (Uy.insert = Yn().bind(null, 'head')),
        (Uy.domAPI = qn()),
        (Uy.insertStyleElement = Xn()),
        Zn()($y.Z, Uy),
        $y.Z && $y.Z.locals && $y.Z.locals;
      class Zy extends Vn {
        static get pluginName() {
          return 'StyleUI';
        }
        static get requires() {
          return [Hy];
        }
        init() {
          const e = this.editor,
            t = e.plugins.get('DataSchema'),
            i = e.plugins.get('StyleUtils'),
            n = e.config.get('style.definitions'),
            o = i.normalizeConfig(t, n);
          e.ui.componentFactory.add('style', (t) => {
            const i = t.t,
              n = zu(t),
              r = e.commands.get('style');
            return (
              n.once('change:isOpen', () => {
                const e = new jy(t, o);
                n.panelView.children.add(e),
                  e.delegate('execute').to(n),
                  e.bind('activeStyles').to(r, 'value'),
                  e.bind('enabledStyles').to(r, 'enabledStyles');
              }),
              n.bind('isEnabled').to(r),
              (n.buttonView.withText = !0),
              n.buttonView
                .bind('label')
                .to(r, 'value', (e) =>
                  e.length > 1
                    ? i('Multiple styles')
                    : 1 === e.length
                    ? e[0]
                    : i('Styles')
                ),
              n.bind('class').to(r, 'value', (e) => {
                const t = ['ck-style-dropdown'];
                return (
                  e.length > 1 && t.push('ck-style-dropdown_multiple-active'),
                  t.join(' ')
                );
              }),
              n.on('execute', (t) => {
                e.execute('style', {styleName: t.source.styleDefinition.name}),
                  e.editing.view.focus();
              }),
              n
            );
          });
        }
      }
      class Wy extends zn {
        constructor(e, t) {
          super(e),
            this.set('value', []),
            this.set('enabledStyles', []),
            (this._styleDefinitions = t);
        }
        refresh() {
          const e = this.editor.model,
            t = e.document.selection,
            i = new Set(),
            n = new Set();
          for (const o of this._styleDefinitions.inline)
            for (const r of o.ghsAttributes)
              e.schema.checkAttributeInSelection(t, r) && n.add(o.name),
                qy(this._getValueFromFirstAllowedNode(r), o.classes) &&
                  i.add(o.name);
          const o = Sn(t.getSelectedBlocks());
          if (o) {
            const t = o.getAncestors({includeSelf: !0, parentFirst: !0});
            for (const o of t) {
              if (e.schema.isLimit(o)) break;
              if (e.schema.checkAttribute(o, 'htmlAttributes'))
                for (const e of this._styleDefinitions.block)
                  e.modelElements.includes(o.name) &&
                    (n.add(e.name),
                    qy(o.getAttribute('htmlAttributes'), e.classes) &&
                      i.add(e.name));
            }
          }
          (this.enabledStyles = Array.from(n).sort()),
            (this.isEnabled = this.enabledStyles.length > 0),
            (this.value = this.isEnabled ? Array.from(i).sort() : []);
        }
        execute({styleName: e, forceValue: t}) {
          if (!this.enabledStyles.includes(e))
            return void p('style-command-executed-with-incorrect-style-name');
          const i = this.editor.model,
            n = i.document.selection,
            o = this.editor.plugins.get('GeneralHtmlSupport'),
            r = [
              ...this._styleDefinitions.inline,
              ...this._styleDefinitions.block,
            ].find(({name: t}) => t == e),
            s = void 0 === t ? !this.value.includes(r.name) : t;
          i.change(() => {
            let e;
            e = (function (e) {
              return 'isBlock' in e;
            })(r)
              ? (function (e, t, i) {
                  const n = new Set();
                  for (const o of e) {
                    const e = o.getAncestors({
                      includeSelf: !0,
                      parentFirst: !0,
                    });
                    for (const o of e) {
                      if (i.isLimit(o)) break;
                      if (t.includes(o.name)) {
                        n.add(o);
                        break;
                      }
                    }
                  }
                  return n;
                })(n.getSelectedBlocks(), r.modelElements, i.schema)
              : [n];
            for (const t of e)
              s
                ? o.addModelHtmlClass(r.element, r.classes, t)
                : o.removeModelHtmlClass(r.element, r.classes, t);
          });
        }
        _getValueFromFirstAllowedNode(e) {
          const t = this.editor.model,
            i = t.schema,
            n = t.document.selection;
          if (n.isCollapsed) return n.getAttribute(e);
          for (const t of n.getRanges())
            for (const n of t.getItems())
              if (i.checkAttribute(n, e)) return n.getAttribute(e);
          return null;
        }
      }
      function qy(e, t) {
        return (
          M(e) &&
          ((i = e), Boolean(i.classes) && Array.isArray(i.classes)) &&
          t.every((t) => e.classes.includes(t))
        );
        var i;
      }
      class Gy extends Vn {
        static get pluginName() {
          return 'StyleEditing';
        }
        static get requires() {
          return ['GeneralHtmlSupport', Hy];
        }
        init() {
          const e = this.editor,
            t = e.plugins.get('DataSchema'),
            i = e.plugins.get('StyleUtils'),
            n = e.config.get('style.definitions'),
            o = i.normalizeConfig(t, n);
          e.commands.add('style', new Wy(e, o)),
            this._configureGHSDataFilter(o);
        }
        _configureGHSDataFilter({block: e, inline: t}) {
          const i = this.editor.plugins.get('DataFilter');
          i.loadAllowedConfig(e.map(Yy)), i.loadAllowedConfig(t.map(Yy));
        }
      }
      function Yy({element: e, classes: t}) {
        return {name: e, classes: t};
      }
      class Ky extends Vn {
        static get pluginName() {
          return 'Style';
        }
        static get requires() {
          return [Gy, Zy];
        }
      }
      function Qy(e, t, i, n, o = 1) {
        null != t && null != o && t > o
          ? n.setAttribute(e, t, i)
          : n.removeAttribute(e, i);
      }
      function Jy(e, t, i = {}) {
        const n = e.createElement('tableCell', i);
        return e.insertElement('paragraph', n), e.insert(n, t), n;
      }
      function Xy(e, t) {
        const i = t.parent.parent,
          n = parseInt(i.getAttribute('headingColumns') || '0'),
          {column: o} = e.getCellLocation(t);
        return !!n && o < n;
      }
      function ex(e) {
        return (t) => {
          t.on(
            `element:${e}`,
            (e, t, {writer: i}) => {
              if (!t.modelRange) return;
              const n = t.modelRange.start.nodeAfter,
                o = i.createPositionAt(n, 0);
              if (t.viewItem.isEmpty)
                return void i.insertElement('paragraph', o);
              const r = Array.from(n.getChildren());
              if (r.every((e) => e.is('element', '$marker'))) {
                const e = i.createElement('paragraph');
                i.insert(e, i.createPositionAt(n, 0));
                for (const t of r)
                  i.move(i.createRangeOn(t), i.createPositionAt(e, 'end'));
              }
            },
            {priority: 'low'}
          );
        };
      }
      function tx(e) {
        let t = 0,
          i = 0;
        const n = Array.from(e.getChildren()).filter(
          (e) => 'th' === e.name || 'td' === e.name
        );
        for (; i < n.length && 'th' === n[i].name; ) {
          const e = n[i];
          (t += parseInt(e.getAttribute('colspan') || '1')), i++;
        }
        return t;
      }
      class ix {
        constructor(e, t = {}) {
          (this._table = e),
            (this._startRow = void 0 !== t.row ? t.row : t.startRow || 0),
            (this._endRow = void 0 !== t.row ? t.row : t.endRow),
            (this._startColumn =
              void 0 !== t.column ? t.column : t.startColumn || 0),
            (this._endColumn = void 0 !== t.column ? t.column : t.endColumn),
            (this._includeAllSlots = !!t.includeAllSlots),
            (this._skipRows = new Set()),
            (this._row = 0),
            (this._rowIndex = 0),
            (this._column = 0),
            (this._cellIndex = 0),
            (this._spannedCells = new Map()),
            (this._nextCellAtColumn = -1);
        }
        [Symbol.iterator]() {
          return this;
        }
        next() {
          const e = this._table.getChild(this._rowIndex);
          if (!e || this._isOverEndRow()) return {done: !0, value: void 0};
          if (!e.is('element', 'tableRow'))
            return this._rowIndex++, this.next();
          if (this._isOverEndColumn()) return this._advanceToNextRow();
          let t = null;
          const i = this._getSpanned();
          if (i)
            this._includeAllSlots &&
              !this._shouldSkipSlot() &&
              (t = this._formatOutValue(i.cell, i.row, i.column));
          else {
            const i = e.getChild(this._cellIndex);
            if (!i) return this._advanceToNextRow();
            const n = parseInt(i.getAttribute('colspan') || '1'),
              o = parseInt(i.getAttribute('rowspan') || '1');
            (n > 1 || o > 1) && this._recordSpans(i, o, n),
              this._shouldSkipSlot() || (t = this._formatOutValue(i)),
              (this._nextCellAtColumn = this._column + n);
          }
          return (
            this._column++,
            this._column == this._nextCellAtColumn && this._cellIndex++,
            t || this.next()
          );
        }
        skipRow(e) {
          this._skipRows.add(e);
        }
        _advanceToNextRow() {
          return (
            this._row++,
            this._rowIndex++,
            (this._column = 0),
            (this._cellIndex = 0),
            (this._nextCellAtColumn = -1),
            this.next()
          );
        }
        _isOverEndRow() {
          return void 0 !== this._endRow && this._row > this._endRow;
        }
        _isOverEndColumn() {
          return void 0 !== this._endColumn && this._column > this._endColumn;
        }
        _formatOutValue(e, t = this._row, i = this._column) {
          return {done: !1, value: new nx(this, e, t, i)};
        }
        _shouldSkipSlot() {
          const e = this._skipRows.has(this._row),
            t = this._row < this._startRow,
            i = this._column < this._startColumn,
            n = void 0 !== this._endColumn && this._column > this._endColumn;
          return e || t || i || n;
        }
        _getSpanned() {
          const e = this._spannedCells.get(this._row);
          return (e && e.get(this._column)) || null;
        }
        _recordSpans(e, t, i) {
          const n = {cell: e, row: this._row, column: this._column};
          for (let e = this._row; e < this._row + t; e++)
            for (let t = this._column; t < this._column + i; t++)
              (e == this._row && t == this._column) ||
                this._markSpannedCell(e, t, n);
        }
        _markSpannedCell(e, t, i) {
          this._spannedCells.has(e) || this._spannedCells.set(e, new Map()),
            this._spannedCells.get(e).set(t, i);
        }
      }
      class nx {
        constructor(e, t, i, n) {
          (this.cell = t),
            (this.row = e._row),
            (this.column = e._column),
            (this.cellAnchorRow = i),
            (this.cellAnchorColumn = n),
            (this._cellIndex = e._cellIndex),
            (this._rowIndex = e._rowIndex),
            (this._table = e._table);
        }
        get isAnchor() {
          return (
            this.row === this.cellAnchorRow &&
            this.column === this.cellAnchorColumn
          );
        }
        get cellWidth() {
          return parseInt(this.cell.getAttribute('colspan') || '1');
        }
        get cellHeight() {
          return parseInt(this.cell.getAttribute('rowspan') || '1');
        }
        get rowIndex() {
          return this._rowIndex;
        }
        getPositionBefore() {
          return this._table.root.document.model.createPositionAt(
            this._table.getChild(this.row),
            this._cellIndex
          );
        }
      }
      function ox(e, t) {
        return (i, {writer: n}) => {
          const o = i.getAttribute('headingRows') || 0,
            r = n.createContainerElement('table', null, []),
            s = n.createContainerElement('figure', {class: 'table'}, r);
          o > 0 &&
            n.insert(
              n.createPositionAt(r, 'end'),
              n.createContainerElement(
                'thead',
                null,
                n.createSlot((e) => e.is('element', 'tableRow') && e.index < o)
              )
            ),
            o < e.getRows(i) &&
              n.insert(
                n.createPositionAt(r, 'end'),
                n.createContainerElement(
                  'tbody',
                  null,
                  n.createSlot(
                    (e) => e.is('element', 'tableRow') && e.index >= o
                  )
                )
              );
          for (const {positionOffset: e, filter: i} of t.additionalSlots)
            n.insert(n.createPositionAt(r, e), n.createSlot(i));
          return (
            n.insert(
              n.createPositionAt(r, 'after'),
              n.createSlot(
                (e) =>
                  !e.is('element', 'tableRow') &&
                  !t.additionalSlots.some(({filter: t}) => t(e))
              )
            ),
            t.asWidget
              ? (function (e, t) {
                  return (
                    t.setCustomProperty('table', !0, e),
                    Lm(e, t, {hasSelectionHandle: !0})
                  );
                })(s, n)
              : s
          );
        };
      }
      function rx(e = {}) {
        return (t, {writer: i}) => {
          const n = t.parent,
            o = n.parent,
            r = o.getChildIndex(n),
            s = new ix(o, {row: r}),
            a = o.getAttribute('headingRows') || 0,
            l = o.getAttribute('headingColumns') || 0;
          let c = null;
          for (const n of s)
            if (n.cell == t) {
              const t = n.row < a || n.column < l ? 'th' : 'td';
              c = e.asWidget
                ? jm(i.createEditableElement(t), i)
                : i.createContainerElement(t);
              break;
            }
          return c;
        };
      }
      function sx(e = {}) {
        return (t, {writer: i}) => {
          if (!t.parent.is('element', 'tableCell')) return null;
          if (!ax(t)) return null;
          if (e.asWidget)
            return i.createContainerElement('span', {
              class: 'ck-table-bogus-paragraph',
            });
          {
            const e = i.createContainerElement('p');
            return (
              i.setCustomProperty('dataPipeline:transparentRendering', !0, e), e
            );
          }
        };
      }
      function ax(e) {
        return 1 == e.parent.childCount && !!e.getAttributeKeys().next().done;
      }
      class lx extends zn {
        refresh() {
          const e = this.editor.model,
            t = e.document.selection,
            i = e.schema;
          this.isEnabled = (function (e, t) {
            const i = e.getFirstPosition().parent,
              n = i === i.root ? i : i.parent;
            return t.checkChild(n, 'table');
          })(t, i);
        }
        execute(e = {}) {
          const t = this.editor,
            i = t.model,
            n = t.plugins.get('TableUtils'),
            o = t.config.get('table.defaultHeadings.rows'),
            r = t.config.get('table.defaultHeadings.columns');
          void 0 === e.headingRows && o && (e.headingRows = o),
            void 0 === e.headingColumns && r && (e.headingColumns = r),
            i.change((t) => {
              const o = n.createTable(t, e);
              i.insertObject(o, null, null, {findOptimalPosition: 'auto'}),
                t.setSelection(
                  t.createPositionAt(o.getNodeByPath([0, 0, 0]), 0)
                );
            });
        }
      }
      class cx extends zn {
        constructor(e, t = {}) {
          super(e), (this.order = t.order || 'below');
        }
        refresh() {
          const e = this.editor.model.document.selection,
            t = !!this.editor.plugins
              .get('TableUtils')
              .getSelectionAffectedTableCells(e).length;
          this.isEnabled = t;
        }
        execute() {
          const e = this.editor,
            t = e.model.document.selection,
            i = e.plugins.get('TableUtils'),
            n = 'above' === this.order,
            o = i.getSelectionAffectedTableCells(t),
            r = i.getRowIndexes(o),
            s = n ? r.first : r.last,
            a = o[0].findAncestor('table');
          i.insertRows(a, {at: n ? s : s + 1, copyStructureFromAbove: !n});
        }
      }
      class dx extends zn {
        constructor(e, t = {}) {
          super(e), (this.order = t.order || 'right');
        }
        refresh() {
          const e = this.editor.model.document.selection,
            t = !!this.editor.plugins
              .get('TableUtils')
              .getSelectionAffectedTableCells(e).length;
          this.isEnabled = t;
        }
        execute() {
          const e = this.editor,
            t = e.model.document.selection,
            i = e.plugins.get('TableUtils'),
            n = 'left' === this.order,
            o = i.getSelectionAffectedTableCells(t),
            r = i.getColumnIndexes(o),
            s = n ? r.first : r.last,
            a = o[0].findAncestor('table');
          i.insertColumns(a, {columns: 1, at: n ? s : s + 1});
        }
      }
      class ux extends zn {
        constructor(e, t = {}) {
          super(e), (this.direction = t.direction || 'horizontally');
        }
        refresh() {
          const e = this.editor.plugins
            .get('TableUtils')
            .getSelectionAffectedTableCells(
              this.editor.model.document.selection
            );
          this.isEnabled = 1 === e.length;
        }
        execute() {
          const e = this.editor.plugins.get('TableUtils'),
            t = e.getSelectionAffectedTableCells(
              this.editor.model.document.selection
            )[0];
          'horizontally' === this.direction
            ? e.splitCellHorizontally(t, 2)
            : e.splitCellVertically(t, 2);
        }
      }
      function hx(e, t, i) {
        const {startRow: n, startColumn: o, endRow: r, endColumn: s} = t,
          a = i.createElement('table'),
          l = r - n + 1;
        for (let e = 0; e < l; e++) i.insertElement('tableRow', a, 'end');
        const c = [
          ...new ix(e, {
            startRow: n,
            endRow: r,
            startColumn: o,
            endColumn: s,
            includeAllSlots: !0,
          }),
        ];
        for (const {
          row: e,
          column: t,
          cell: l,
          isAnchor: d,
          cellAnchorRow: u,
          cellAnchorColumn: h,
        } of c) {
          const c = e - n,
            m = a.getChild(c);
          if (d) {
            const n = i.cloneElement(l);
            i.append(n, m), bx(n, e, t, r, s, i);
          } else (u < n || h < o) && Jy(i, i.createPositionAt(m, 'end'));
        }
        return (
          (function (e, t, i, n, o) {
            const r = parseInt(t.getAttribute('headingRows') || '0');
            r > 0 && Qy('headingRows', r - i, e, o, 0);
            const s = parseInt(t.getAttribute('headingColumns') || '0');
            s > 0 && Qy('headingColumns', s - n, e, o, 0);
          })(a, e, n, o, i),
          a
        );
      }
      function mx(e, t, i = 0) {
        const n = [],
          o = new ix(e, {startRow: i, endRow: t - 1});
        for (const e of o) {
          const {row: i, cellHeight: o} = e;
          i < t && t <= i + o - 1 && n.push(e);
        }
        return n;
      }
      function gx(e, t, i) {
        const n = e.parent,
          o = n.parent,
          r = n.index,
          s = t - r,
          a = {},
          l = parseInt(e.getAttribute('rowspan')) - s;
        l > 1 && (a.rowspan = l);
        const c = parseInt(e.getAttribute('colspan') || '1');
        c > 1 && (a.colspan = c);
        const d = r + s,
          u = [...new ix(o, {startRow: r, endRow: d, includeAllSlots: !0})];
        let h,
          m = null;
        for (const t of u) {
          const {row: n, column: o, cell: r} = t;
          r === e && void 0 === h && (h = o),
            void 0 !== h &&
              h === o &&
              n === d &&
              (m = Jy(i, t.getPositionBefore(), a));
        }
        return Qy('rowspan', s, e, i), m;
      }
      function fx(e, t) {
        const i = [],
          n = new ix(e);
        for (const e of n) {
          const {column: n, cellWidth: o} = e;
          n < t && t <= n + o - 1 && i.push(e);
        }
        return i;
      }
      function px(e, t, i, n) {
        const o = i - t,
          r = {},
          s = parseInt(e.getAttribute('colspan')) - o;
        s > 1 && (r.colspan = s);
        const a = parseInt(e.getAttribute('rowspan') || '1');
        a > 1 && (r.rowspan = a);
        const l = Jy(n, n.createPositionAfter(e), r);
        return Qy('colspan', o, e, n), l;
      }
      function bx(e, t, i, n, o, r) {
        const s = parseInt(e.getAttribute('colspan') || '1'),
          a = parseInt(e.getAttribute('rowspan') || '1');
        i + s - 1 > o && Qy('colspan', o - i + 1, e, r, 1),
          t + a - 1 > n && Qy('rowspan', n - t + 1, e, r, 1);
      }
      function kx(e, t) {
        const i = t.getColumns(e),
          n = new Array(i).fill(0);
        for (const {column: t} of new ix(e)) n[t]++;
        const o = n.reduce((e, t, i) => (t ? e : [...e, i]), []);
        if (o.length > 0) {
          const i = o[o.length - 1];
          return t.removeColumns(e, {at: i}), !0;
        }
        return !1;
      }
      function wx(e, t) {
        const i = [],
          n = t.getRows(e);
        for (let t = 0; t < n; t++) e.getChild(t).isEmpty && i.push(t);
        if (i.length > 0) {
          const n = i[i.length - 1];
          return t.removeRows(e, {at: n}), !0;
        }
        return !1;
      }
      function _x(e, t) {
        kx(e, t) || wx(e, t);
      }
      function vx(e, t) {
        const i = Array.from(
          new ix(e, {
            startColumn: t.firstColumn,
            endColumn: t.lastColumn,
            row: t.lastRow,
          })
        );
        if (i.every(({cellHeight: e}) => 1 === e)) return t.lastRow;
        const n = i[0].cellHeight - 1;
        return t.lastRow + n;
      }
      function yx(e, t) {
        const i = Array.from(
          new ix(e, {
            startRow: t.firstRow,
            endRow: t.lastRow,
            column: t.lastColumn,
          })
        );
        if (i.every(({cellWidth: e}) => 1 === e)) return t.lastColumn;
        const n = i[0].cellWidth - 1;
        return t.lastColumn + n;
      }
      class xx extends zn {
        constructor(e, t) {
          super(e),
            (this.direction = t.direction),
            (this.isHorizontal =
              'right' == this.direction || 'left' == this.direction);
        }
        refresh() {
          const e = this._getMergeableCell();
          (this.value = e), (this.isEnabled = !!e);
        }
        execute() {
          const e = this.editor.model,
            t = e.document,
            i = this.editor.plugins
              .get('TableUtils')
              .getTableCellsContainingSelection(t.selection)[0],
            n = this.value,
            o = this.direction;
          e.change((e) => {
            const t = 'right' == o || 'down' == o,
              r = t ? i : n,
              s = t ? n : i,
              a = s.parent;
            !(function (e, t, i) {
              Ax(e) ||
                (Ax(t) && i.remove(i.createRangeIn(t)),
                i.move(i.createRangeIn(e), i.createPositionAt(t, 'end'))),
                i.remove(e);
            })(s, r, e);
            const l = this.isHorizontal ? 'colspan' : 'rowspan',
              c = parseInt(i.getAttribute(l) || '1'),
              d = parseInt(n.getAttribute(l) || '1');
            e.setAttribute(l, c + d, r), e.setSelection(e.createRangeIn(r));
            const u = this.editor.plugins.get('TableUtils');
            _x(a.findAncestor('table'), u);
          });
        }
        _getMergeableCell() {
          const e = this.editor.model.document,
            t = this.editor.plugins.get('TableUtils'),
            i = t.getTableCellsContainingSelection(e.selection)[0];
          if (!i) return;
          const n = this.isHorizontal
            ? (function (e, t, i) {
                const n = e.parent.parent,
                  o = 'right' == t ? e.nextSibling : e.previousSibling,
                  r = (n.getAttribute('headingColumns') || 0) > 0;
                if (!o) return;
                const s = 'right' == t ? e : o,
                  a = 'right' == t ? o : e,
                  {column: l} = i.getCellLocation(s),
                  {column: c} = i.getCellLocation(a),
                  d = parseInt(s.getAttribute('colspan') || '1'),
                  u = Xy(i, s),
                  h = Xy(i, a);
                return r && u != h ? void 0 : l + d === c ? o : void 0;
              })(i, this.direction, t)
            : (function (e, t, i) {
                const n = e.parent,
                  o = n.parent,
                  r = o.getChildIndex(n);
                if (
                  ('down' == t && r === i.getRows(o) - 1) ||
                  ('up' == t && 0 === r)
                )
                  return null;
                const s = parseInt(e.getAttribute('rowspan') || '1'),
                  a = o.getAttribute('headingRows') || 0;
                if (
                  a &&
                  (('down' == t && r + s === a) || ('up' == t && r === a))
                )
                  return null;
                const l = parseInt(e.getAttribute('rowspan') || '1'),
                  c = 'down' == t ? r + l : r,
                  d = [...new ix(o, {endRow: c})],
                  u = d.find((t) => t.cell === e).column,
                  h = d.find(
                    ({row: e, cellHeight: i, column: n}) =>
                      n === u && ('down' == t ? e === c : c === e + i)
                  );
                return h && h.cell ? h.cell : null;
              })(i, this.direction, t);
          if (!n) return;
          const o = this.isHorizontal ? 'rowspan' : 'colspan',
            r = parseInt(i.getAttribute(o) || '1');
          return parseInt(n.getAttribute(o) || '1') === r ? n : void 0;
        }
      }
      function Ax(e) {
        const t = e.getChild(0);
        return 1 == e.childCount && t.is('element', 'paragraph') && t.isEmpty;
      }
      class Cx extends zn {
        refresh() {
          const e = this.editor.plugins.get('TableUtils'),
            t = e.getSelectionAffectedTableCells(
              this.editor.model.document.selection
            ),
            i = t[0];
          if (i) {
            const n = i.findAncestor('table'),
              o = e.getRows(n) - 1,
              r = e.getRowIndexes(t),
              s = 0 === r.first && r.last === o;
            this.isEnabled = !s;
          } else this.isEnabled = !1;
        }
        execute() {
          const e = this.editor.model,
            t = this.editor.plugins.get('TableUtils'),
            i = t.getSelectionAffectedTableCells(e.document.selection),
            n = t.getRowIndexes(i),
            o = i[0],
            r = o.findAncestor('table'),
            s = t.getCellLocation(o).column;
          e.change((e) => {
            const i = n.last - n.first + 1;
            t.removeRows(r, {at: n.first, rows: i});
            const o = (function (e, t, i, n) {
              const o = e.getChild(Math.min(t, n - 1));
              let r = o.getChild(0),
                s = 0;
              for (const e of o.getChildren()) {
                if (s > i) return r;
                (r = e), (s += parseInt(e.getAttribute('colspan') || '1'));
              }
              return r;
            })(r, n.first, s, t.getRows(r));
            e.setSelection(e.createPositionAt(o, 0));
          });
        }
      }
      class Ex extends zn {
        refresh() {
          const e = this.editor.plugins.get('TableUtils'),
            t = e.getSelectionAffectedTableCells(
              this.editor.model.document.selection
            ),
            i = t[0];
          if (i) {
            const n = i.findAncestor('table'),
              o = e.getColumns(n),
              {first: r, last: s} = e.getColumnIndexes(t);
            this.isEnabled = s - r < o - 1;
          } else this.isEnabled = !1;
        }
        execute() {
          const e = this.editor.plugins.get('TableUtils'),
            [t, i] = (function (e, t) {
              const i = t.getSelectionAffectedTableCells(e),
                n = i[0],
                o = i.pop(),
                r = [n, o];
              return n.isBefore(o) ? r : r.reverse();
            })(this.editor.model.document.selection, e),
            n = t.parent.parent,
            o = [...new ix(n)],
            r = {
              first: o.find((e) => e.cell === t).column,
              last: o.find((e) => e.cell === i).column,
            },
            s = (function (e, t, i, n) {
              return parseInt(i.getAttribute('colspan') || '1') > 1
                ? i
                : t.previousSibling || i.nextSibling
                ? i.nextSibling || t.previousSibling
                : n.first
                ? e.reverse().find(({column: e}) => e < n.first).cell
                : e.reverse().find(({column: e}) => e > n.last).cell;
            })(o, t, i, r);
          this.editor.model.change((t) => {
            const i = r.last - r.first + 1;
            e.removeColumns(n, {at: r.first, columns: i}),
              t.setSelection(t.createPositionAt(s, 0));
          });
        }
      }
      class Tx extends zn {
        refresh() {
          const e = this.editor.plugins.get('TableUtils'),
            t = this.editor.model,
            i = e.getSelectionAffectedTableCells(t.document.selection),
            n = i.length > 0;
          (this.isEnabled = n),
            (this.value =
              n && i.every((e) => this._isInHeading(e, e.parent.parent)));
        }
        execute(e = {}) {
          if (e.forceValue === this.value) return;
          const t = this.editor.plugins.get('TableUtils'),
            i = this.editor.model,
            n = t.getSelectionAffectedTableCells(i.document.selection),
            o = n[0].findAncestor('table'),
            {first: r, last: s} = t.getRowIndexes(n),
            a = this.value ? r : s + 1,
            l = o.getAttribute('headingRows') || 0;
          i.change((e) => {
            if (a) {
              const t = mx(o, a, a > l ? l : 0);
              for (const {cell: i} of t) gx(i, a, e);
            }
            Qy('headingRows', a, o, e, 0);
          });
        }
        _isInHeading(e, t) {
          const i = parseInt(t.getAttribute('headingRows') || '0');
          return !!i && e.parent.index < i;
        }
      }
      class Sx extends zn {
        refresh() {
          const e = this.editor.model,
            t = this.editor.plugins.get('TableUtils'),
            i = t.getSelectionAffectedTableCells(e.document.selection),
            n = i.length > 0;
          (this.isEnabled = n), (this.value = n && i.every((e) => Xy(t, e)));
        }
        execute(e = {}) {
          if (e.forceValue === this.value) return;
          const t = this.editor.plugins.get('TableUtils'),
            i = this.editor.model,
            n = t.getSelectionAffectedTableCells(i.document.selection),
            o = n[0].findAncestor('table'),
            {first: r, last: s} = t.getColumnIndexes(n),
            a = this.value ? r : s + 1;
          i.change((e) => {
            if (a) {
              const t = fx(o, a);
              for (const {cell: i, column: n} of t) px(i, n, a, e);
            }
            Qy('headingColumns', a, o, e, 0);
          });
        }
      }
      class Ix extends Vn {
        static get pluginName() {
          return 'TableUtils';
        }
        init() {
          this.decorate('insertColumns'), this.decorate('insertRows');
        }
        getCellLocation(e) {
          const t = e.parent,
            i = t.parent,
            n = i.getChildIndex(t),
            o = new ix(i, {row: n});
          for (const {cell: t, row: i, column: n} of o)
            if (t === e) return {row: i, column: n};
        }
        createTable(e, t) {
          const i = e.createElement('table'),
            n = t.rows || 2,
            o = t.columns || 2;
          return (
            Px(e, i, 0, n, o),
            t.headingRows &&
              Qy('headingRows', Math.min(t.headingRows, n), i, e, 0),
            t.headingColumns &&
              Qy('headingColumns', Math.min(t.headingColumns, o), i, e, 0),
            i
          );
        }
        insertRows(e, t = {}) {
          const i = this.editor.model,
            n = t.at || 0,
            o = t.rows || 1,
            r = void 0 !== t.copyStructureFromAbove,
            s = t.copyStructureFromAbove ? n - 1 : n,
            a = this.getRows(e),
            l = this.getColumns(e);
          if (n > a)
            throw new f('tableutils-insertrows-insert-out-of-range', this, {
              options: t,
            });
          i.change((t) => {
            const i = e.getAttribute('headingRows') || 0;
            if (
              (i > n && Qy('headingRows', i + o, e, t, 0),
              !r && (0 === n || n === a))
            )
              return void Px(t, e, n, o, l);
            const c = r ? Math.max(n, s) : n,
              d = new ix(e, {endRow: c}),
              u = new Array(l).fill(1);
            for (const {
              row: e,
              column: i,
              cellHeight: a,
              cellWidth: l,
              cell: c,
            } of d) {
              const d = e + a - 1,
                h = e <= s && s <= d;
              e < n && n <= d
                ? (t.setAttribute('rowspan', a + o, c), (u[i] = -l))
                : r && h && (u[i] = l);
            }
            for (let i = 0; i < o; i++) {
              const i = t.createElement('tableRow');
              t.insert(i, e, n);
              for (let e = 0; e < u.length; e++) {
                const n = u[e],
                  o = t.createPositionAt(i, 'end');
                n > 0 && Jy(t, o, n > 1 ? {colspan: n} : void 0),
                  (e += Math.abs(n) - 1);
              }
            }
          });
        }
        insertColumns(e, t = {}) {
          const i = this.editor.model,
            n = t.at || 0,
            o = t.columns || 1;
          i.change((t) => {
            const i = e.getAttribute('headingColumns');
            n < i && t.setAttribute('headingColumns', i + o, e);
            const r = this.getColumns(e);
            if (0 === n || r === n) {
              for (const i of e.getChildren())
                i.is('element', 'tableRow') &&
                  Mx(o, t, t.createPositionAt(i, n ? 'end' : 0));
              return;
            }
            const s = new ix(e, {column: n, includeAllSlots: !0});
            for (const e of s) {
              const {
                row: i,
                cell: r,
                cellAnchorColumn: a,
                cellAnchorRow: l,
                cellWidth: c,
                cellHeight: d,
              } = e;
              if (a < n) {
                t.setAttribute('colspan', c + o, r);
                const e = l + d - 1;
                for (let t = i; t <= e; t++) s.skipRow(t);
              } else Mx(o, t, e.getPositionBefore());
            }
          });
        }
        removeRows(e, t) {
          const i = this.editor.model,
            n = t.rows || 1,
            o = this.getRows(e),
            r = t.at,
            s = r + n - 1;
          if (s > o - 1)
            throw new f('tableutils-removerows-row-index-out-of-range', this, {
              table: e,
              options: t,
            });
          i.change((t) => {
            const i = {first: r, last: s},
              {cellsToMove: n, cellsToTrim: o} = (function (
                e,
                {first: t, last: i}
              ) {
                const n = new Map(),
                  o = [];
                for (const {
                  row: r,
                  column: s,
                  cellHeight: a,
                  cell: l,
                } of new ix(e, {endRow: i})) {
                  const e = r + a - 1;
                  if (r >= t && r <= i && e > i) {
                    const e = a - (i - r + 1);
                    n.set(s, {cell: l, rowspan: e});
                  }
                  if (r < t && e >= t) {
                    let n;
                    (n = e >= i ? i - t + 1 : e - t + 1),
                      o.push({cell: l, rowspan: a - n});
                  }
                }
                return {cellsToMove: n, cellsToTrim: o};
              })(e, i);
            n.size &&
              (function (e, t, i, n) {
                const o = [...new ix(e, {includeAllSlots: !0, row: t})],
                  r = e.getChild(t);
                let s;
                for (const {column: e, cell: t, isAnchor: a} of o)
                  if (i.has(e)) {
                    const {cell: t, rowspan: o} = i.get(e),
                      a = s
                        ? n.createPositionAfter(s)
                        : n.createPositionAt(r, 0);
                    n.move(n.createRangeOn(t), a),
                      Qy('rowspan', o, t, n),
                      (s = t);
                  } else a && (s = t);
              })(e, s + 1, n, t);
            for (let i = s; i >= r; i--) t.remove(e.getChild(i));
            for (const {rowspan: e, cell: i} of o) Qy('rowspan', e, i, t);
            !(function (e, {first: t, last: i}, n) {
              const o = e.getAttribute('headingRows') || 0;
              t < o && Qy('headingRows', i < o ? o - (i - t + 1) : t, e, n, 0);
            })(e, i, t),
              kx(e, this) || wx(e, this);
          });
        }
        removeColumns(e, t) {
          const i = this.editor.model,
            n = t.at,
            o = t.columns || 1,
            r = t.at + o - 1;
          i.change((t) => {
            !(function (e, t, i) {
              const n = e.getAttribute('headingColumns') || 0;
              if (n && t.first < n) {
                const o = Math.min(n - 1, t.last) - t.first + 1;
                i.setAttribute('headingColumns', n - o, e);
              }
            })(e, {first: n, last: r}, t);
            for (let i = r; i >= n; i--)
              for (const {cell: n, column: o, cellWidth: r} of [...new ix(e)])
                o <= i && r > 1 && o + r > i
                  ? Qy('colspan', r - 1, n, t)
                  : o === i && t.remove(n);
            wx(e, this) || kx(e, this);
          });
        }
        splitCellVertically(e, t = 2) {
          const i = this.editor.model,
            n = e.parent.parent,
            o = parseInt(e.getAttribute('rowspan') || '1'),
            r = parseInt(e.getAttribute('colspan') || '1');
          i.change((i) => {
            if (r > 1) {
              const {newCellsSpan: n, updatedSpan: s} = Rx(r, t);
              Qy('colspan', s, e, i);
              const a = {};
              n > 1 && (a.colspan = n),
                o > 1 && (a.rowspan = o),
                Mx(r > t ? t - 1 : r - 1, i, i.createPositionAfter(e), a);
            }
            if (r < t) {
              const s = t - r,
                a = [...new ix(n)],
                {column: l} = a.find(({cell: t}) => t === e),
                c = a.filter(
                  ({cell: t, cellWidth: i, column: n}) =>
                    (t !== e && n === l) || (n < l && n + i > l)
                );
              for (const {cell: e, cellWidth: t} of c)
                i.setAttribute('colspan', t + s, e);
              const d = {};
              o > 1 && (d.rowspan = o), Mx(s, i, i.createPositionAfter(e), d);
              const u = n.getAttribute('headingColumns') || 0;
              u > l && Qy('headingColumns', u + s, n, i);
            }
          });
        }
        splitCellHorizontally(e, t = 2) {
          const i = this.editor.model,
            n = e.parent,
            o = n.parent,
            r = o.getChildIndex(n),
            s = parseInt(e.getAttribute('rowspan') || '1'),
            a = parseInt(e.getAttribute('colspan') || '1');
          i.change((i) => {
            if (s > 1) {
              const n = [
                  ...new ix(o, {
                    startRow: r,
                    endRow: r + s - 1,
                    includeAllSlots: !0,
                  }),
                ],
                {newCellsSpan: l, updatedSpan: c} = Rx(s, t);
              Qy('rowspan', c, e, i);
              const {column: d} = n.find(({cell: t}) => t === e),
                u = {};
              l > 1 && (u.rowspan = l), a > 1 && (u.colspan = a);
              for (const e of n) {
                const {column: t, row: n} = e;
                n >= r + c &&
                  t === d &&
                  (n + r + c) % l == 0 &&
                  Mx(1, i, e.getPositionBefore(), u);
              }
            }
            if (s < t) {
              const n = t - s,
                l = [...new ix(o, {startRow: 0, endRow: r})];
              for (const {cell: t, cellHeight: o, row: s} of l)
                if (t !== e && s + o > r) {
                  const e = o + n;
                  i.setAttribute('rowspan', e, t);
                }
              const c = {};
              a > 1 && (c.colspan = a), Px(i, o, r + 1, n, 1, c);
              const d = o.getAttribute('headingRows') || 0;
              d > r && Qy('headingRows', d + n, o, i);
            }
          });
        }
        getColumns(e) {
          return [...e.getChild(0).getChildren()].reduce(
            (e, t) => e + parseInt(t.getAttribute('colspan') || '1'),
            0
          );
        }
        getRows(e) {
          return Array.from(e.getChildren()).reduce(
            (e, t) => (t.is('element', 'tableRow') ? e + 1 : e),
            0
          );
        }
        createTableWalker(e, t = {}) {
          return new ix(e, t);
        }
        getSelectedTableCells(e) {
          const t = [];
          for (const i of this.sortRanges(e.getRanges())) {
            const e = i.getContainedElement();
            e && e.is('element', 'tableCell') && t.push(e);
          }
          return t;
        }
        getTableCellsContainingSelection(e) {
          const t = [];
          for (const i of e.getRanges()) {
            const e = i.start.findAncestor('tableCell');
            e && t.push(e);
          }
          return t;
        }
        getSelectionAffectedTableCells(e) {
          const t = this.getSelectedTableCells(e);
          return t.length ? t : this.getTableCellsContainingSelection(e);
        }
        getRowIndexes(e) {
          const t = e.map((e) => e.parent.index);
          return this._getFirstLastIndexesObject(t);
        }
        getColumnIndexes(e) {
          const t = e[0].findAncestor('table'),
            i = [...new ix(t)]
              .filter((t) => e.includes(t.cell))
              .map((e) => e.column);
          return this._getFirstLastIndexesObject(i);
        }
        isSelectionRectangular(e) {
          if (e.length < 2 || !this._areCellInTheSameTableSection(e)) return !1;
          const t = new Set(),
            i = new Set();
          let n = 0;
          for (const o of e) {
            const {row: e, column: r} = this.getCellLocation(o),
              s = parseInt(o.getAttribute('rowspan')) || 1,
              a = parseInt(o.getAttribute('colspan')) || 1;
            t.add(e),
              i.add(r),
              s > 1 && t.add(e + s - 1),
              a > 1 && i.add(r + a - 1),
              (n += s * a);
          }
          const o = (function (e, t) {
            const i = Array.from(e.values()),
              n = Array.from(t.values());
            return (
              (Math.max(...i) - Math.min(...i) + 1) *
              (Math.max(...n) - Math.min(...n) + 1)
            );
          })(t, i);
          return o == n;
        }
        sortRanges(e) {
          return Array.from(e).sort(Nx);
        }
        _getFirstLastIndexesObject(e) {
          const t = e.sort((e, t) => e - t);
          return {first: t[0], last: t[t.length - 1]};
        }
        _areCellInTheSameTableSection(e) {
          const t = e[0].findAncestor('table'),
            i = this.getRowIndexes(e),
            n = parseInt(t.getAttribute('headingRows')) || 0;
          if (!this._areIndexesInSameSection(i, n)) return !1;
          const o = this.getColumnIndexes(e),
            r = parseInt(t.getAttribute('headingColumns')) || 0;
          return this._areIndexesInSameSection(o, r);
        }
        _areIndexesInSameSection({first: e, last: t}, i) {
          return e < i == t < i;
        }
      }
      function Px(e, t, i, n, o, r = {}) {
        for (let s = 0; s < n; s++) {
          const n = e.createElement('tableRow');
          e.insert(n, t, i), Mx(o, e, e.createPositionAt(n, 'end'), r);
        }
      }
      function Mx(e, t, i, n = {}) {
        for (let o = 0; o < e; o++) Jy(t, i, n);
      }
      function Rx(e, t) {
        if (e < t) return {newCellsSpan: 1, updatedSpan: 1};
        const i = Math.floor(e / t);
        return {newCellsSpan: i, updatedSpan: e - i * t + i};
      }
      function Nx(e, t) {
        const i = e.start,
          n = t.start;
        return i.isBefore(n) ? -1 : 1;
      }
      class Ox extends zn {
        refresh() {
          const e = this.editor.plugins.get(Ix),
            t = e.getSelectedTableCells(this.editor.model.document.selection);
          this.isEnabled = e.isSelectionRectangular(t);
        }
        execute() {
          const e = this.editor.model,
            t = this.editor.plugins.get(Ix);
          e.change((i) => {
            const n = t.getSelectedTableCells(e.document.selection),
              o = n.shift(),
              {mergeWidth: r, mergeHeight: s} = (function (e, t, i) {
                let n = 0,
                  o = 0;
                for (const e of t) {
                  const {row: t, column: r} = i.getCellLocation(e);
                  (n = Lx(e, r, n, 'colspan')), (o = Lx(e, t, o, 'rowspan'));
                }
                const {row: r, column: s} = i.getCellLocation(e);
                return {mergeWidth: n - s, mergeHeight: o - r};
              })(o, n, t);
            Qy('colspan', r, o, i), Qy('rowspan', s, o, i);
            for (const e of n) Dx(e, o, i);
            _x(o.findAncestor('table'), t), i.setSelection(o, 'in');
          });
        }
      }
      function Dx(e, t, i) {
        Vx(e) ||
          (Vx(t) && i.remove(i.createRangeIn(t)),
          i.move(i.createRangeIn(e), i.createPositionAt(t, 'end'))),
          i.remove(e);
      }
      function Vx(e) {
        const t = e.getChild(0);
        return 1 == e.childCount && t.is('element', 'paragraph') && t.isEmpty;
      }
      function Lx(e, t, i, n) {
        const o = parseInt(e.getAttribute(n) || '1');
        return Math.max(i, t + o);
      }
      class zx extends zn {
        constructor(e) {
          super(e), (this.affectsData = !1);
        }
        refresh() {
          const e = this.editor.plugins
            .get('TableUtils')
            .getSelectionAffectedTableCells(
              this.editor.model.document.selection
            );
          this.isEnabled = e.length > 0;
        }
        execute() {
          const e = this.editor.model,
            t = this.editor.plugins.get('TableUtils'),
            i = t.getSelectionAffectedTableCells(e.document.selection),
            n = t.getRowIndexes(i),
            o = i[0].findAncestor('table'),
            r = [];
          for (let t = n.first; t <= n.last; t++)
            for (const i of o.getChild(t).getChildren())
              r.push(e.createRangeOn(i));
          e.change((e) => {
            e.setSelection(r);
          });
        }
      }
      class Bx extends zn {
        constructor(e) {
          super(e), (this.affectsData = !1);
        }
        refresh() {
          const e = this.editor.plugins
            .get('TableUtils')
            .getSelectionAffectedTableCells(
              this.editor.model.document.selection
            );
          this.isEnabled = e.length > 0;
        }
        execute() {
          const e = this.editor.plugins.get('TableUtils'),
            t = this.editor.model,
            i = e.getSelectionAffectedTableCells(t.document.selection),
            n = i[0],
            o = i.pop(),
            r = n.findAncestor('table'),
            s = e.getCellLocation(n),
            a = e.getCellLocation(o),
            l = Math.min(s.column, a.column),
            c = Math.max(s.column, a.column),
            d = [];
          for (const e of new ix(r, {startColumn: l, endColumn: c}))
            d.push(t.createRangeOn(e.cell));
          t.change((e) => {
            e.setSelection(d);
          });
        }
      }
      function Fx(e, t) {
        let i = !1;
        const n = (function (e) {
          const t = parseInt(e.getAttribute('headingRows') || '0'),
            i = Array.from(e.getChildren()).reduce(
              (e, t) => (t.is('element', 'tableRow') ? e + 1 : e),
              0
            ),
            n = [];
          for (const {row: o, cell: r, cellHeight: s} of new ix(e)) {
            if (s < 2) continue;
            const e = o < t ? t : i;
            if (o + s > e) {
              const t = e - o;
              n.push({cell: r, rowspan: t});
            }
          }
          return n;
        })(e);
        if (n.length) {
          i = !0;
          for (const e of n) Qy('rowspan', e.rowspan, e.cell, t, 1);
        }
        return i;
      }
      function jx(e, t) {
        let i = !1;
        const n = (function (e) {
            const t = new Array(e.childCount).fill(0);
            for (const {rowIndex: i} of new ix(e, {includeAllSlots: !0}))
              t[i]++;
            return t;
          })(e),
          o = [];
        for (const [t, i] of n.entries())
          !i && e.getChild(t).is('element', 'tableRow') && o.push(t);
        if (o.length) {
          i = !0;
          for (const i of o.reverse()) t.remove(e.getChild(i)), n.splice(i, 1);
        }
        const r = n.filter((t, i) => e.getChild(i).is('element', 'tableRow')),
          s = r[0];
        if (!r.every((e) => e === s)) {
          const n = r.reduce((e, t) => (t > e ? t : e), 0);
          for (const [o, s] of r.entries()) {
            const r = n - s;
            if (r) {
              for (let i = 0; i < r; i++)
                Jy(t, t.createPositionAt(e.getChild(o), 'end'));
              i = !0;
            }
          }
        }
        return i;
      }
      function Hx(e) {
        if ('attribute' !== e.type) return !1;
        const t = e.attributeKey;
        return 'headingRows' === t || 'colspan' === t || 'rowspan' === t;
      }
      function $x(e, t) {
        let i = !1;
        for (const n of e.getChildren())
          n.is('element', 'tableRow') && (i = Ux(n, t) || i);
        return i;
      }
      function Ux(e, t) {
        let i = !1;
        for (const n of e.getChildren()) i = Zx(n, t) || i;
        return i;
      }
      function Zx(e, t) {
        if (0 == e.childCount) return t.insertElement('paragraph', e), !0;
        const i = Array.from(e.getChildren()).filter((e) => e.is('$text'));
        for (const e of i) t.wrap(t.createRangeOn(e), 'paragraph');
        return !!i.length;
      }
      function Wx(e) {
        return (
          !!e.position.parent.is('element', 'tableCell') &&
          (('insert' == e.type && '$text' == e.name) || 'remove' == e.type)
        );
      }
      function qx(e, t) {
        if (!e.is('element', 'paragraph')) return !1;
        const i = t.toViewElement(e);
        return !!i && ax(e) !== i.is('element', 'span');
      }
      var Gx = i(1217),
        Yx = {attributes: {'data-cke': !0}};
      (Yx.setAttributes = Qn()),
        (Yx.insert = Yn().bind(null, 'head')),
        (Yx.domAPI = qn()),
        (Yx.insertStyleElement = Xn()),
        Zn()(Gx.Z, Yx),
        Gx.Z && Gx.Z.locals && Gx.Z.locals;
      class Kx extends Vn {
        static get pluginName() {
          return 'TableEditing';
        }
        static get requires() {
          return [Ix];
        }
        constructor(e) {
          super(e), (this._additionalSlots = []);
        }
        init() {
          const e = this.editor,
            t = e.model,
            i = t.schema,
            n = e.conversion,
            o = e.plugins.get(Ix);
          i.register('table', {
            inheritAllFrom: '$blockObject',
            allowAttributes: ['headingRows', 'headingColumns'],
          }),
            i.register('tableRow', {allowIn: 'table', isLimit: !0}),
            i.register('tableCell', {
              allowContentOf: '$container',
              allowIn: 'tableRow',
              allowAttributes: ['colspan', 'rowspan'],
              isLimit: !0,
              isSelectable: !0,
            }),
            n.for('upcast').add((e) => {
              e.on('element:figure', (e, t, i) => {
                if (
                  !i.consumable.test(t.viewItem, {name: !0, classes: 'table'})
                )
                  return;
                const n = (function (e) {
                  for (const t of e.getChildren())
                    if (t.is('element', 'table')) return t;
                })(t.viewItem);
                if (!n || !i.consumable.test(n, {name: !0})) return;
                i.consumable.consume(t.viewItem, {name: !0, classes: 'table'});
                const o = Sn(
                  i.convertItem(n, t.modelCursor).modelRange.getItems()
                );
                o
                  ? (i.convertChildren(
                      t.viewItem,
                      i.writer.createPositionAt(o, 'end')
                    ),
                    i.updateConversionResult(o, t))
                  : i.consumable.revert(t.viewItem, {
                      name: !0,
                      classes: 'table',
                    });
              });
            }),
            n.for('upcast').add((e) => {
              e.on('element:table', (e, t, i) => {
                const n = t.viewItem;
                if (!i.consumable.test(n, {name: !0})) return;
                const {
                    rows: o,
                    headingRows: r,
                    headingColumns: s,
                  } = (function (e) {
                    let t,
                      i = 0;
                    const n = [],
                      o = [];
                    let r;
                    for (const s of Array.from(e.getChildren())) {
                      if (
                        'tbody' !== s.name &&
                        'thead' !== s.name &&
                        'tfoot' !== s.name
                      )
                        continue;
                      'thead' !== s.name || r || (r = s);
                      const e = Array.from(s.getChildren()).filter((e) =>
                        e.is('element', 'tr')
                      );
                      for (const a of e)
                        if (
                          (r && s === r) ||
                          ('tbody' === s.name &&
                            Array.from(a.getChildren()).length &&
                            Array.from(a.getChildren()).every((e) =>
                              e.is('element', 'th')
                            ))
                        )
                          i++, n.push(a);
                        else {
                          o.push(a);
                          const e = tx(a);
                          (!t || e < t) && (t = e);
                        }
                    }
                    return {
                      headingRows: i,
                      headingColumns: t || 0,
                      rows: [...n, ...o],
                    };
                  })(n),
                  a = {};
                s && (a.headingColumns = s), r && (a.headingRows = r);
                const l = i.writer.createElement('table', a);
                if (i.safeInsert(l, t.modelCursor)) {
                  if (
                    (i.consumable.consume(n, {name: !0}),
                    o.forEach((e) =>
                      i.convertItem(e, i.writer.createPositionAt(l, 'end'))
                    ),
                    i.convertChildren(n, i.writer.createPositionAt(l, 'end')),
                    l.isEmpty)
                  ) {
                    const e = i.writer.createElement('tableRow');
                    i.writer.insert(e, i.writer.createPositionAt(l, 'end')),
                      Jy(i.writer, i.writer.createPositionAt(e, 'end'));
                  }
                  i.updateConversionResult(l, t);
                }
              });
            }),
            n.for('editingDowncast').elementToStructure({
              model: {name: 'table', attributes: ['headingRows']},
              view: ox(o, {
                asWidget: !0,
                additionalSlots: this._additionalSlots,
              }),
            }),
            n.for('dataDowncast').elementToStructure({
              model: {name: 'table', attributes: ['headingRows']},
              view: ox(o, {additionalSlots: this._additionalSlots}),
            }),
            n.for('upcast').elementToElement({model: 'tableRow', view: 'tr'}),
            n.for('upcast').add((e) => {
              e.on(
                'element:tr',
                (e, t) => {
                  t.viewItem.isEmpty && 0 == t.modelCursor.index && e.stop();
                },
                {priority: 'high'}
              );
            }),
            n.for('downcast').elementToElement({
              model: 'tableRow',
              view: (e, {writer: t}) =>
                e.isEmpty
                  ? t.createEmptyElement('tr')
                  : t.createContainerElement('tr'),
            }),
            n.for('upcast').elementToElement({model: 'tableCell', view: 'td'}),
            n.for('upcast').elementToElement({model: 'tableCell', view: 'th'}),
            n.for('upcast').add(ex('td')),
            n.for('upcast').add(ex('th')),
            n
              .for('editingDowncast')
              .elementToElement({model: 'tableCell', view: rx({asWidget: !0})}),
            n
              .for('dataDowncast')
              .elementToElement({model: 'tableCell', view: rx()}),
            n.for('editingDowncast').elementToElement({
              model: 'paragraph',
              view: sx({asWidget: !0}),
              converterPriority: 'high',
            }),
            n.for('dataDowncast').elementToElement({
              model: 'paragraph',
              view: sx(),
              converterPriority: 'high',
            }),
            n
              .for('downcast')
              .attributeToAttribute({model: 'colspan', view: 'colspan'}),
            n.for('upcast').attributeToAttribute({
              model: {key: 'colspan', value: Qx('colspan')},
              view: 'colspan',
            }),
            n
              .for('downcast')
              .attributeToAttribute({model: 'rowspan', view: 'rowspan'}),
            n.for('upcast').attributeToAttribute({
              model: {key: 'rowspan', value: Qx('rowspan')},
              view: 'rowspan',
            }),
            e.config.define('table.defaultHeadings.rows', 0),
            e.config.define('table.defaultHeadings.columns', 0),
            e.commands.add('insertTable', new lx(e)),
            e.commands.add('insertTableRowAbove', new cx(e, {order: 'above'})),
            e.commands.add('insertTableRowBelow', new cx(e, {order: 'below'})),
            e.commands.add('insertTableColumnLeft', new dx(e, {order: 'left'})),
            e.commands.add(
              'insertTableColumnRight',
              new dx(e, {order: 'right'})
            ),
            e.commands.add('removeTableRow', new Cx(e)),
            e.commands.add('removeTableColumn', new Ex(e)),
            e.commands.add(
              'splitTableCellVertically',
              new ux(e, {direction: 'vertically'})
            ),
            e.commands.add(
              'splitTableCellHorizontally',
              new ux(e, {direction: 'horizontally'})
            ),
            e.commands.add('mergeTableCells', new Ox(e)),
            e.commands.add(
              'mergeTableCellRight',
              new xx(e, {direction: 'right'})
            ),
            e.commands.add(
              'mergeTableCellLeft',
              new xx(e, {direction: 'left'})
            ),
            e.commands.add(
              'mergeTableCellDown',
              new xx(e, {direction: 'down'})
            ),
            e.commands.add('mergeTableCellUp', new xx(e, {direction: 'up'})),
            e.commands.add('setTableColumnHeader', new Sx(e)),
            e.commands.add('setTableRowHeader', new Tx(e)),
            e.commands.add('selectTableRow', new zx(e)),
            e.commands.add('selectTableColumn', new Bx(e)),
            (function (e) {
              e.document.registerPostFixer((t) =>
                (function (e, t) {
                  const i = t.document.differ.getChanges();
                  let n = !1;
                  const o = new Set();
                  for (const t of i) {
                    let i = null;
                    'insert' == t.type &&
                      'table' == t.name &&
                      (i = t.position.nodeAfter),
                      ('insert' != t.type && 'remove' != t.type) ||
                        ('tableRow' != t.name && 'tableCell' != t.name) ||
                        (i = t.position.findAncestor('table')),
                      Hx(t) && (i = t.range.start.findAncestor('table')),
                      i &&
                        !o.has(i) &&
                        ((n = Fx(i, e) || n), (n = jx(i, e) || n), o.add(i));
                  }
                  return n;
                })(t, e)
              );
            })(t),
            (function (e) {
              e.document.registerPostFixer((t) =>
                (function (e, t) {
                  const i = t.document.differ.getChanges();
                  let n = !1;
                  for (const t of i)
                    'insert' == t.type &&
                      'table' == t.name &&
                      (n = $x(t.position.nodeAfter, e) || n),
                      'insert' == t.type &&
                        'tableRow' == t.name &&
                        (n = Ux(t.position.nodeAfter, e) || n),
                      'insert' == t.type &&
                        'tableCell' == t.name &&
                        (n = Zx(t.position.nodeAfter, e) || n),
                      ('remove' != t.type && 'insert' != t.type) ||
                        !Wx(t) ||
                        (n = Zx(t.position.parent, e) || n);
                  return n;
                })(t, e)
              );
            })(t),
            this.listenTo(t.document, 'change:data', () => {
              !(function (e, t) {
                const i = e.document.differ;
                for (const e of i.getChanges()) {
                  let i,
                    n = !1;
                  if ('attribute' == e.type) {
                    const t = e.range.start.nodeAfter;
                    if (!t || !t.is('element', 'table')) continue;
                    if (
                      'headingRows' != e.attributeKey &&
                      'headingColumns' != e.attributeKey
                    )
                      continue;
                    (i = t), (n = 'headingRows' == e.attributeKey);
                  } else
                    ('tableRow' != e.name && 'tableCell' != e.name) ||
                      ((i = e.position.findAncestor('table')),
                      (n = 'tableRow' == e.name));
                  if (!i) continue;
                  const o = i.getAttribute('headingRows') || 0,
                    r = i.getAttribute('headingColumns') || 0,
                    s = new ix(i);
                  for (const e of s) {
                    const i = e.row < o || e.column < r ? 'th' : 'td',
                      s = t.mapper.toViewElement(e.cell);
                    s &&
                      s.is('element') &&
                      s.name != i &&
                      t.reconvertItem(n ? e.cell.parent : e.cell);
                  }
                }
              })(t, e.editing),
                (function (e, t) {
                  const i = e.document.differ,
                    n = new Set();
                  for (const e of i.getChanges()) {
                    const t =
                      'attribute' == e.type
                        ? e.range.start.parent
                        : e.position.parent;
                    t.is('element', 'tableCell') && n.add(t);
                  }
                  for (const e of n.values()) {
                    const i = Array.from(e.getChildren()).filter((e) =>
                      qx(e, t.mapper)
                    );
                    for (const e of i) t.reconvertItem(e);
                  }
                })(t, e.editing);
            });
        }
        registerAdditionalSlot(e) {
          this._additionalSlots.push(e);
        }
      }
      function Qx(e) {
        return (t) => {
          const i = parseInt(t.getAttribute(e));
          return Number.isNaN(i) || i <= 0 ? null : i;
        };
      }
      var Jx = i(6285),
        Xx = {attributes: {'data-cke': !0}};
      (Xx.setAttributes = Qn()),
        (Xx.insert = Yn().bind(null, 'head')),
        (Xx.domAPI = qn()),
        (Xx.insertStyleElement = Xn()),
        Zn()(Jx.Z, Xx),
        Jx.Z && Jx.Z.locals && Jx.Z.locals;
      class eA extends Cd {
        constructor(e) {
          super(e);
          const t = this.bindTemplate;
          (this.items = this._createGridCollection()),
            (this.keystrokes = new Pn()),
            (this.focusTracker = new In()),
            this.set('rows', 0),
            this.set('columns', 0),
            this.bind('label').to(
              this,
              'columns',
              this,
              'rows',
              (e, t) => `${t} × ${e}`
            ),
            this.setTemplate({
              tag: 'div',
              attributes: {class: ['ck']},
              children: [
                {
                  tag: 'div',
                  attributes: {class: ['ck-insert-table-dropdown__grid']},
                  on: {
                    'mouseover@.ck-insert-table-dropdown-grid-box':
                      t.to('boxover'),
                  },
                  children: this.items,
                },
                {
                  tag: 'div',
                  attributes: {
                    class: ['ck', 'ck-insert-table-dropdown__label'],
                    'aria-hidden': !0,
                  },
                  children: [{text: t.to('label')}],
                },
              ],
              on: {
                mousedown: t.to((e) => {
                  e.preventDefault();
                }),
                click: t.to(() => {
                  this.fire('execute');
                }),
              },
            }),
            this.on('boxover', (e, t) => {
              const {row: i, column: n} = t.target.dataset;
              this.items
                .get(10 * (parseInt(i, 10) - 1) + (parseInt(n, 10) - 1))
                .focus();
            }),
            this.focusTracker.on('change:focusedElement', (e, t, i) => {
              if (!i) return;
              const {row: n, column: o} = i.dataset;
              this.set({rows: parseInt(n), columns: parseInt(o)});
            }),
            this.on('change:columns', () => this._highlightGridBoxes()),
            this.on('change:rows', () => this._highlightGridBoxes());
        }
        render() {
          super.render(),
            vd({
              keystrokeHandler: this.keystrokes,
              focusTracker: this.focusTracker,
              gridItems: this.items,
              numberOfColumns: 10,
              uiLanguageDirection:
                this.locale && this.locale.uiLanguageDirection,
            });
          for (const e of this.items) this.focusTracker.add(e.element);
          this.keystrokes.listenTo(this.element);
        }
        focus() {
          this.items.get(0).focus();
        }
        focusLast() {
          this.items.get(0).focus();
        }
        _highlightGridBoxes() {
          const e = this.rows,
            t = this.columns;
          this.items.map((i, n) => {
            const o = Math.floor(n / 10) < e && n % 10 < t;
            i.set('isOn', o);
          });
        }
        _createGridButton(e, t, i, n) {
          const o = new Xd(e);
          return (
            o.set({label: n, class: 'ck-insert-table-dropdown-grid-box'}),
            o.extendTemplate({attributes: {'data-row': t, 'data-column': i}}),
            o
          );
        }
        _createGridCollection() {
          const e = [];
          for (let t = 0; t < 100; t++) {
            const i = Math.floor(t / 10),
              n = t % 10,
              o = `${i + 1} × ${n + 1}`;
            e.push(this._createGridButton(this.locale, i + 1, n + 1, o));
          }
          return this.createCollection(e);
        }
      }
      class tA extends Vn {
        static get pluginName() {
          return 'TableUI';
        }
        init() {
          const e = this.editor,
            t = this.editor.t,
            i = 'ltr' === e.locale.contentLanguageDirection;
          e.ui.componentFactory.add('insertTable', (i) => {
            const n = e.commands.get('insertTable'),
              o = zu(i);
            let r;
            return (
              o.bind('isEnabled').to(n),
              o.buttonView.set({
                icon: 'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z\\"/></svg>";',
                label: t('Insert table'),
                tooltip: !0,
              }),
              o.on('change:isOpen', () => {
                r ||
                  ((r = new eA(i)),
                  o.panelView.children.add(r),
                  r.delegate('execute').to(o),
                  o.on('execute', () => {
                    e.execute('insertTable', {
                      rows: r.rows,
                      columns: r.columns,
                    }),
                      e.editing.view.focus();
                  }));
              }),
              o
            );
          }),
            e.ui.componentFactory.add('tableColumn', (e) => {
              const n = [
                {
                  type: 'switchbutton',
                  model: {
                    commandName: 'setTableColumnHeader',
                    label: t('Header column'),
                    bindIsOn: !0,
                  },
                },
                {type: 'separator'},
                {
                  type: 'button',
                  model: {
                    commandName: i
                      ? 'insertTableColumnLeft'
                      : 'insertTableColumnRight',
                    label: t('Insert column left'),
                  },
                },
                {
                  type: 'button',
                  model: {
                    commandName: i
                      ? 'insertTableColumnRight'
                      : 'insertTableColumnLeft',
                    label: t('Insert column right'),
                  },
                },
                {
                  type: 'button',
                  model: {
                    commandName: 'removeTableColumn',
                    label: t('Delete column'),
                  },
                },
                {
                  type: 'button',
                  model: {
                    commandName: 'selectTableColumn',
                    label: t('Select column'),
                  },
                },
              ];
              return this._prepareDropdown(
                t('Column'),
                'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z\\" opacity=\\".6\\"/><path d=\\"M18 7v1H2V7h16zm0 5v1H2v-1h16z\\" opacity=\\".6\\"/><path d=\\"M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z\\"/></svg>";',
                n,
                e
              );
            }),
            e.ui.componentFactory.add('tableRow', (e) => {
              const i = [
                {
                  type: 'switchbutton',
                  model: {
                    commandName: 'setTableRowHeader',
                    label: t('Header row'),
                    bindIsOn: !0,
                  },
                },
                {type: 'separator'},
                {
                  type: 'button',
                  model: {
                    commandName: 'insertTableRowAbove',
                    label: t('Insert row above'),
                  },
                },
                {
                  type: 'button',
                  model: {
                    commandName: 'insertTableRowBelow',
                    label: t('Insert row below'),
                  },
                },
                {
                  type: 'button',
                  model: {
                    commandName: 'removeTableRow',
                    label: t('Delete row'),
                  },
                },
                {
                  type: 'button',
                  model: {
                    commandName: 'selectTableRow',
                    label: t('Select row'),
                  },
                },
              ];
              return this._prepareDropdown(
                t('Row'),
                'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z\\" opacity=\\".6\\"/><path d=\\"M7 2h1v16H7V2zm5 0h1v16h-1V2z\\" opacity=\\".6\\"/><path d=\\"M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z\\"/></svg>";',
                i,
                e
              );
            }),
            e.ui.componentFactory.add('mergeTableCells', (e) => {
              const n = [
                {
                  type: 'button',
                  model: {
                    commandName: 'mergeTableCellUp',
                    label: t('Merge cell up'),
                  },
                },
                {
                  type: 'button',
                  model: {
                    commandName: i
                      ? 'mergeTableCellRight'
                      : 'mergeTableCellLeft',
                    label: t('Merge cell right'),
                  },
                },
                {
                  type: 'button',
                  model: {
                    commandName: 'mergeTableCellDown',
                    label: t('Merge cell down'),
                  },
                },
                {
                  type: 'button',
                  model: {
                    commandName: i
                      ? 'mergeTableCellLeft'
                      : 'mergeTableCellRight',
                    label: t('Merge cell left'),
                  },
                },
                {type: 'separator'},
                {
                  type: 'button',
                  model: {
                    commandName: 'splitTableCellVertically',
                    label: t('Split cell vertically'),
                  },
                },
                {
                  type: 'button',
                  model: {
                    commandName: 'splitTableCellHorizontally',
                    label: t('Split cell horizontally'),
                  },
                },
              ];
              return this._prepareMergeSplitButtonDropdown(
                t('Merge cells'),
                'export default "<svg viewBox=\\"0 0 20 20\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z\\" opacity=\\".6\\"/><path d=\\"M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z\\" opacity=\\".6\\"/><path d=\\"M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z\\"/></svg>";',
                n,
                e
              );
            });
        }
        _prepareDropdown(e, t, i, n) {
          const o = this.editor,
            r = zu(n),
            s = this._fillDropdownWithListOptions(r, i);
          return (
            r.buttonView.set({label: e, icon: t, tooltip: !0}),
            r
              .bind('isEnabled')
              .toMany(s, 'isEnabled', (...e) => e.some((e) => e)),
            this.listenTo(r, 'execute', (e) => {
              o.execute(e.source.commandName),
                e.source instanceof iu || o.editing.view.focus();
            }),
            r
          );
        }
        _prepareMergeSplitButtonDropdown(e, t, i, n) {
          const o = this.editor,
            r = zu(n, fu),
            s = 'mergeTableCells',
            a = o.commands.get(s),
            l = this._fillDropdownWithListOptions(r, i);
          return (
            r.buttonView.set({label: e, icon: t, tooltip: !0, isEnabled: !0}),
            r
              .bind('isEnabled')
              .toMany([a, ...l], 'isEnabled', (...e) => e.some((e) => e)),
            this.listenTo(r.buttonView, 'execute', () => {
              o.execute(s), o.editing.view.focus();
            }),
            this.listenTo(r, 'execute', (e) => {
              o.execute(e.source.commandName), o.editing.view.focus();
            }),
            r
          );
        }
        _fillDropdownWithListOptions(e, t) {
          const i = this.editor,
            n = [],
            o = new Tn();
          for (const e of t) iA(e, i, n, o);
          return ju(e, o), n;
        }
      }
      function iA(e, t, i, n) {
        if ('button' === e.type || 'switchbutton' === e.type) {
          const n = (e.model = new Ah(e.model)),
            {commandName: o, bindIsOn: r} = e.model,
            s = t.commands.get(o);
          i.push(s),
            n.set({commandName: o}),
            n.bind('isEnabled').to(s),
            r && n.bind('isOn').to(s, 'value'),
            n.set({withText: !0});
        }
        n.add(e);
      }
      var nA = i(3908),
        oA = {attributes: {'data-cke': !0}};
      (oA.setAttributes = Qn()),
        (oA.insert = Yn().bind(null, 'head')),
        (oA.domAPI = qn()),
        (oA.insertStyleElement = Xn()),
        Zn()(nA.Z, oA),
        nA.Z && nA.Z.locals && nA.Z.locals;
      class rA extends Vn {
        static get pluginName() {
          return 'TableSelection';
        }
        static get requires() {
          return [Ix, Ix];
        }
        init() {
          const e = this.editor,
            t = e.model,
            i = e.editing.view;
          this.listenTo(
            t,
            'deleteContent',
            (e, t) => this._handleDeleteContent(e, t),
            {priority: 'high'}
          ),
            this.listenTo(
              i.document,
              'insertText',
              (e, t) => this._handleInsertTextEvent(e, t),
              {priority: 'high'}
            ),
            this._defineSelectionConverter(),
            this._enablePluginDisabling();
        }
        getSelectedTableCells() {
          const e = this.editor.plugins.get(Ix),
            t = this.editor.model.document.selection,
            i = e.getSelectedTableCells(t);
          return 0 == i.length ? null : i;
        }
        getSelectionAsFragment() {
          const e = this.editor.plugins.get(Ix),
            t = this.getSelectedTableCells();
          return t
            ? this.editor.model.change((i) => {
                const n = i.createDocumentFragment(),
                  {first: o, last: r} = e.getColumnIndexes(t),
                  {first: s, last: a} = e.getRowIndexes(t),
                  l = t[0].findAncestor('table');
                let c = a,
                  d = r;
                if (e.isSelectionRectangular(t)) {
                  const e = {
                    firstColumn: o,
                    lastColumn: r,
                    firstRow: s,
                    lastRow: a,
                  };
                  (c = vx(l, e)), (d = yx(l, e));
                }
                const u = hx(
                  l,
                  {startRow: s, startColumn: o, endRow: c, endColumn: d},
                  i
                );
                return i.insert(u, n, 0), n;
              })
            : null;
        }
        setCellSelection(e, t) {
          const i = this._getCellsToSelect(e, t);
          this.editor.model.change((e) => {
            e.setSelection(
              i.cells.map((t) => e.createRangeOn(t)),
              {backward: i.backward}
            );
          });
        }
        getFocusCell() {
          const e = [...this.editor.model.document.selection.getRanges()]
            .pop()
            .getContainedElement();
          return e && e.is('element', 'tableCell') ? e : null;
        }
        getAnchorCell() {
          const e = Sn(
            this.editor.model.document.selection.getRanges()
          ).getContainedElement();
          return e && e.is('element', 'tableCell') ? e : null;
        }
        _defineSelectionConverter() {
          const e = this.editor,
            t = new Set();
          e.conversion.for('editingDowncast').add((e) =>
            e.on(
              'selection',
              (e, i, n) => {
                const o = n.writer;
                !(function (e) {
                  for (const i of t)
                    e.removeClass('ck-editor__editable_selected', i);
                  t.clear();
                })(o);
                const r = this.getSelectedTableCells();
                if (!r) return;
                for (const e of r) {
                  const i = n.mapper.toViewElement(e);
                  o.addClass('ck-editor__editable_selected', i), t.add(i);
                }
                const s = n.mapper.toViewElement(r[r.length - 1]);
                o.setSelection(s, 0);
              },
              {priority: 'lowest'}
            )
          );
        }
        _enablePluginDisabling() {
          const e = this.editor;
          this.on('change:isEnabled', () => {
            if (!this.isEnabled) {
              const t = this.getSelectedTableCells();
              if (!t) return;
              e.model.change((i) => {
                const n = i.createPositionAt(t[0], 0),
                  o = e.model.schema.getNearestSelectionRange(n);
                i.setSelection(o);
              });
            }
          });
        }
        _handleDeleteContent(e, t) {
          const i = this.editor.plugins.get(Ix),
            n = t[0],
            o = t[1],
            r = this.editor.model,
            s = !o || 'backward' == o.direction,
            a = i.getSelectedTableCells(n);
          a.length &&
            (e.stop(),
            r.change((e) => {
              const t = a[s ? a.length - 1 : 0];
              r.change((e) => {
                for (const t of a) r.deleteContent(e.createSelection(t, 'in'));
              });
              const i = r.schema.getNearestSelectionRange(
                e.createPositionAt(t, 0)
              );
              n.is('documentSelection') ? e.setSelection(i) : n.setTo(i);
            }));
        }
        _handleInsertTextEvent(e, t) {
          const i = this.editor,
            n = this.getSelectedTableCells();
          if (!n) return;
          const o = i.editing.view,
            r = i.editing.mapper,
            s = n.map((e) => o.createRangeOn(r.toViewElement(e)));
          t.selection = o.createSelection(s);
        }
        _getCellsToSelect(e, t) {
          const i = this.editor.plugins.get('TableUtils'),
            n = i.getCellLocation(e),
            o = i.getCellLocation(t),
            r = Math.min(n.row, o.row),
            s = Math.max(n.row, o.row),
            a = Math.min(n.column, o.column),
            l = Math.max(n.column, o.column),
            c = new Array(s - r + 1).fill(null).map(() => []),
            d = {startRow: r, endRow: s, startColumn: a, endColumn: l};
          for (const {row: t, cell: i} of new ix(e.findAncestor('table'), d))
            c[t - r].push(i);
          const u = o.row < n.row,
            h = o.column < n.column;
          return (
            u && c.reverse(),
            h && c.forEach((e) => e.reverse()),
            {cells: c.flat(), backward: u || h}
          );
        }
      }
      class sA extends Vn {
        static get pluginName() {
          return 'TableClipboard';
        }
        static get requires() {
          return [rA, Ix];
        }
        init() {
          const e = this.editor,
            t = e.editing.view.document;
          this.listenTo(t, 'copy', (e, t) => this._onCopyCut(e, t)),
            this.listenTo(t, 'cut', (e, t) => this._onCopyCut(e, t)),
            this.listenTo(
              e.model,
              'insertContent',
              (e, [t, i]) => this._onInsertContent(e, t, i),
              {priority: 'high'}
            ),
            this.decorate('_replaceTableSlotCell');
        }
        _onCopyCut(e, t) {
          const i = this.editor.plugins.get(rA);
          if (!i.getSelectedTableCells()) return;
          if ('cut' == e.name && this.editor.isReadOnly) return;
          t.preventDefault(), e.stop();
          const n = this.editor.data,
            o = this.editor.editing.view.document,
            r = n.toView(i.getSelectionAsFragment());
          o.fire('clipboardOutput', {
            dataTransfer: t.dataTransfer,
            content: r,
            method: e.name,
          });
        }
        _onInsertContent(e, t, i) {
          if (i && !i.is('documentSelection')) return;
          const n = this.editor.model,
            o = this.editor.plugins.get(Ix);
          let r = this.getTableIfOnlyTableInContent(t, n);
          if (!r) return;
          const s = o.getSelectionAffectedTableCells(n.document.selection);
          s.length
            ? (e.stop(),
              n.change((e) => {
                const t = {width: o.getColumns(r), height: o.getRows(r)},
                  i = (function (e, t, i, n) {
                    const o = e[0].findAncestor('table'),
                      r = n.getColumnIndexes(e),
                      s = n.getRowIndexes(e),
                      a = {
                        firstColumn: r.first,
                        lastColumn: r.last,
                        firstRow: s.first,
                        lastRow: s.last,
                      },
                      l = 1 === e.length;
                    return (
                      l &&
                        ((a.lastRow += t.height - 1),
                        (a.lastColumn += t.width - 1),
                        (function (e, t, i, n) {
                          const o = n.getColumns(e),
                            r = n.getRows(e);
                          i > o && n.insertColumns(e, {at: o, columns: i - o}),
                            t > r && n.insertRows(e, {at: r, rows: t - r});
                        })(o, a.lastRow + 1, a.lastColumn + 1, n)),
                      l || !n.isSelectionRectangular(e)
                        ? (function (e, t, i) {
                            const {
                                firstRow: n,
                                lastRow: o,
                                firstColumn: r,
                                lastColumn: s,
                              } = t,
                              a = {first: n, last: o},
                              l = {first: r, last: s};
                            lA(e, r, a, i),
                              lA(e, s + 1, a, i),
                              aA(e, n, l, i),
                              aA(e, o + 1, l, i, n);
                          })(o, a, i)
                        : ((a.lastRow = vx(o, a)), (a.lastColumn = yx(o, a))),
                      a
                    );
                  })(s, t, e, o),
                  n = i.lastRow - i.firstRow + 1,
                  a = i.lastColumn - i.firstColumn + 1,
                  l = {
                    startRow: 0,
                    startColumn: 0,
                    endRow: Math.min(n, t.height) - 1,
                    endColumn: Math.min(a, t.width) - 1,
                  };
                r = hx(r, l, e);
                const c = s[0].findAncestor('table'),
                  d = this._replaceSelectedCellsWithPasted(r, t, c, i, e);
                if (this.editor.plugins.get('TableSelection').isEnabled) {
                  const t = o.sortRanges(d.map((t) => e.createRangeOn(t)));
                  e.setSelection(t);
                } else e.setSelection(d[0], 0);
              }))
            : _x(r, o);
        }
        _replaceSelectedCellsWithPasted(e, t, i, n, o) {
          const {width: r, height: s} = t,
            a = (function (e, t, i) {
              const n = new Array(i)
                .fill(null)
                .map(() => new Array(t).fill(null));
              for (const {column: t, row: i, cell: o} of new ix(e)) n[i][t] = o;
              return n;
            })(e, r, s),
            l = [
              ...new ix(i, {
                startRow: n.firstRow,
                endRow: n.lastRow,
                startColumn: n.firstColumn,
                endColumn: n.lastColumn,
                includeAllSlots: !0,
              }),
            ],
            c = [];
          let d;
          for (const e of l) {
            const {row: t, column: i} = e;
            i === n.firstColumn && (d = e.getPositionBefore());
            const l = t - n.firstRow,
              u = i - n.firstColumn,
              h = a[l % s][u % r],
              m = h ? o.cloneElement(h) : null,
              g = this._replaceTableSlotCell(e, m, d, o);
            g &&
              (bx(g, t, i, n.lastRow, n.lastColumn, o),
              c.push(g),
              (d = o.createPositionAfter(g)));
          }
          const u = parseInt(i.getAttribute('headingRows') || '0'),
            h = parseInt(i.getAttribute('headingColumns') || '0'),
            m = n.firstRow < u && u <= n.lastRow,
            g = n.firstColumn < h && h <= n.lastColumn;
          if (m) {
            const e = aA(
              i,
              u,
              {first: n.firstColumn, last: n.lastColumn},
              o,
              n.firstRow
            );
            c.push(...e);
          }
          if (g) {
            const e = lA(i, h, {first: n.firstRow, last: n.lastRow}, o);
            c.push(...e);
          }
          return c;
        }
        _replaceTableSlotCell(e, t, i, n) {
          const {cell: o, isAnchor: r} = e;
          return r && n.remove(o), t ? (n.insert(t, i), t) : null;
        }
        getTableIfOnlyTableInContent(e, t) {
          if (!e.is('documentFragment') && !e.is('element')) return null;
          if (e.is('element', 'table')) return e;
          if (1 == e.childCount && e.getChild(0).is('element', 'table'))
            return e.getChild(0);
          const i = t.createRangeIn(e);
          for (const e of i.getItems())
            if (e.is('element', 'table')) {
              const n = t.createRange(i.start, t.createPositionBefore(e));
              if (t.hasContent(n, {ignoreWhitespaces: !0})) return null;
              const o = t.createRange(t.createPositionAfter(e), i.end);
              return t.hasContent(o, {ignoreWhitespaces: !0}) ? null : e;
            }
          return null;
        }
      }
      function aA(e, t, i, n, o = 0) {
        if (!(t < 1))
          return mx(e, t, o)
            .filter(({column: e, cellWidth: t}) => cA(e, t, i))
            .map(({cell: e}) => gx(e, t, n));
      }
      function lA(e, t, i, n) {
        if (!(t < 1))
          return fx(e, t)
            .filter(({row: e, cellHeight: t}) => cA(e, t, i))
            .map(({cell: e, column: i}) => px(e, i, t, n));
      }
      function cA(e, t, i) {
        const n = e + t - 1,
          {first: o, last: r} = i;
        return (e >= o && e <= r) || (e < o && n >= o);
      }
      class dA extends Vn {
        static get pluginName() {
          return 'TableKeyboard';
        }
        static get requires() {
          return [rA, Ix];
        }
        init() {
          const e = this.editor.editing.view.document;
          this.listenTo(e, 'arrowKey', (...e) => this._onArrowKey(...e), {
            context: 'table',
          }),
            this.listenTo(
              e,
              'tab',
              (...e) => this._handleTabOnSelectedTable(...e),
              {context: 'figure'}
            ),
            this.listenTo(e, 'tab', (...e) => this._handleTab(...e), {
              context: ['th', 'td'],
            });
        }
        _handleTabOnSelectedTable(e, t) {
          const i = this.editor,
            n = i.model.document.selection.getSelectedElement();
          n &&
            n.is('element', 'table') &&
            (t.preventDefault(),
            t.stopPropagation(),
            e.stop(),
            i.model.change((e) => {
              e.setSelection(e.createRangeIn(n.getChild(0).getChild(0)));
            }));
        }
        _handleTab(e, t) {
          const i = this.editor,
            n = this.editor.plugins.get(Ix),
            o = this.editor.plugins.get('TableSelection'),
            r = i.model.document.selection,
            s = !t.shiftKey;
          let a = n.getTableCellsContainingSelection(r)[0];
          if ((a || (a = o.getFocusCell()), !a)) return;
          t.preventDefault(), t.stopPropagation(), e.stop();
          const l = a.parent,
            c = l.parent,
            d = c.getChildIndex(l),
            u = l.getChildIndex(a),
            h = 0 === u;
          if (!s && h && 0 === d)
            return void i.model.change((e) => {
              e.setSelection(e.createRangeOn(c));
            });
          const m = u === l.childCount - 1,
            g = d === n.getRows(c) - 1;
          if (
            s &&
            g &&
            m &&
            (i.execute('insertTableRowBelow'), d === n.getRows(c) - 1)
          )
            return void i.model.change((e) => {
              e.setSelection(e.createRangeOn(c));
            });
          let f;
          if (s && m) {
            const e = c.getChild(d + 1);
            f = e.getChild(0);
          } else if (!s && h) {
            const e = c.getChild(d - 1);
            f = e.getChild(e.childCount - 1);
          } else f = l.getChild(u + (s ? 1 : -1));
          i.model.change((e) => {
            e.setSelection(e.createRangeIn(f));
          });
        }
        _onArrowKey(e, t) {
          const i = this.editor,
            n = yn(t.keyCode, i.locale.contentLanguageDirection);
          this._handleArrowKeys(n, t.shiftKey) &&
            (t.preventDefault(), t.stopPropagation(), e.stop());
        }
        _handleArrowKeys(e, t) {
          const i = this.editor.plugins.get(Ix),
            n = this.editor.plugins.get('TableSelection'),
            o = this.editor.model,
            r = o.document.selection,
            s = ['right', 'down'].includes(e),
            a = i.getSelectedTableCells(r);
          if (a.length) {
            let i;
            return (
              (i = t ? n.getFocusCell() : s ? a[a.length - 1] : a[0]),
              this._navigateFromCellInDirection(i, e, t),
              !0
            );
          }
          const l = r.focus.findAncestor('tableCell');
          if (!l) return !1;
          if (!r.isCollapsed)
            if (t) {
              if (r.isBackward == s && !r.containsEntireContent(l)) return !1;
            } else {
              const e = r.getSelectedElement();
              if (!e || !o.schema.isObject(e)) return !1;
            }
          return (
            !!this._isSelectionAtCellEdge(r, l, s) &&
            (this._navigateFromCellInDirection(l, e, t), !0)
          );
        }
        _isSelectionAtCellEdge(e, t, i) {
          const n = this.editor.model,
            o = this.editor.model.schema,
            r = i ? e.getLastPosition() : e.getFirstPosition();
          if (!o.getLimitElement(r).is('element', 'tableCell'))
            return n.createPositionAt(t, i ? 'end' : 0).isTouching(r);
          const s = n.createSelection(r);
          return (
            n.modifySelection(s, {direction: i ? 'forward' : 'backward'}),
            r.isEqual(s.focus)
          );
        }
        _navigateFromCellInDirection(e, t, i = !1) {
          const n = this.editor.model,
            o = e.findAncestor('table'),
            r = [...new ix(o, {includeAllSlots: !0})],
            {row: s, column: a} = r[r.length - 1],
            l = r.find(({cell: t}) => t == e);
          let {row: c, column: d} = l;
          switch (t) {
            case 'left':
              d--;
              break;
            case 'up':
              c--;
              break;
            case 'right':
              d += l.cellWidth;
              break;
            case 'down':
              c += l.cellHeight;
          }
          if (c < 0 || c > s || (d < 0 && c <= 0) || (d > a && c >= s))
            return void n.change((e) => {
              e.setSelection(e.createRangeOn(o));
            });
          d < 0 ? ((d = i ? 0 : a), c--) : d > a && ((d = i ? a : 0), c++);
          const u = r.find((e) => e.row == c && e.column == d).cell,
            h = ['right', 'down'].includes(t),
            m = this.editor.plugins.get('TableSelection');
          if (i && m.isEnabled) {
            const t = m.getAnchorCell() || e;
            m.setCellSelection(t, u);
          } else {
            const e = n.createPositionAt(u, h ? 0 : 'end');
            n.change((t) => {
              t.setSelection(e);
            });
          }
        }
      }
      class uA extends ps {
        constructor() {
          super(...arguments),
            (this.domEventType = ['mousemove', 'mouseleave']);
        }
        onDomEvent(e) {
          this.fire(e.type, e);
        }
      }
      class hA extends Vn {
        static get pluginName() {
          return 'TableMouse';
        }
        static get requires() {
          return [rA, Ix];
        }
        init() {
          this.editor.editing.view.addObserver(uA),
            this._enableShiftClickSelection(),
            this._enableMouseDragSelection();
        }
        _enableShiftClickSelection() {
          const e = this.editor,
            t = e.plugins.get(Ix);
          let i = !1;
          const n = e.plugins.get(rA);
          this.listenTo(e.editing.view.document, 'mousedown', (o, r) => {
            const s = e.model.document.selection;
            if (!this.isEnabled || !n.isEnabled) return;
            if (!r.domEvent.shiftKey) return;
            const a =
              n.getAnchorCell() || t.getTableCellsContainingSelection(s)[0];
            if (!a) return;
            const l = this._getModelTableCellFromDomEvent(r);
            l &&
              mA(a, l) &&
              ((i = !0), n.setCellSelection(a, l), r.preventDefault());
          }),
            this.listenTo(e.editing.view.document, 'mouseup', () => {
              i = !1;
            }),
            this.listenTo(
              e.editing.view.document,
              'selectionChange',
              (e) => {
                i && e.stop();
              },
              {priority: 'highest'}
            );
        }
        _enableMouseDragSelection() {
          const e = this.editor;
          let t,
            i,
            n = !1,
            o = !1;
          const r = e.plugins.get(rA);
          this.listenTo(e.editing.view.document, 'mousedown', (e, i) => {
            this.isEnabled &&
              r.isEnabled &&
              (i.domEvent.shiftKey ||
                i.domEvent.ctrlKey ||
                i.domEvent.altKey ||
                (t = this._getModelTableCellFromDomEvent(i)));
          }),
            this.listenTo(e.editing.view.document, 'mousemove', (e, s) => {
              if (!s.domEvent.buttons) return;
              if (!t) return;
              const a = this._getModelTableCellFromDomEvent(s);
              a && mA(t, a) && ((i = a), n || i == t || (n = !0)),
                n && ((o = !0), r.setCellSelection(t, i), s.preventDefault());
            }),
            this.listenTo(e.editing.view.document, 'mouseup', () => {
              (n = !1), (o = !1), (t = null), (i = null);
            }),
            this.listenTo(
              e.editing.view.document,
              'selectionChange',
              (e) => {
                o && e.stop();
              },
              {priority: 'highest'}
            );
        }
        _getModelTableCellFromDomEvent(e) {
          const t = e.target,
            i = this.editor.editing.view.createPositionAt(t, 0);
          return this.editor.editing.mapper
            .toModelPosition(i)
            .parent.findAncestor('tableCell', {includeSelf: !0});
        }
      }
      function mA(e, t) {
        return e.parent.parent == t.parent.parent;
      }
      var gA = i(9885),
        fA = {attributes: {'data-cke': !0}};
      (fA.setAttributes = Qn()),
        (fA.insert = Yn().bind(null, 'head')),
        (fA.domAPI = qn()),
        (fA.insertStyleElement = Xn()),
        Zn()(gA.Z, fA),
        gA.Z && gA.Z.locals && gA.Z.locals;
      class pA extends Vn {
        static get requires() {
          return [Kx, tA, rA, hA, dA, sA, ng];
        }
        static get pluginName() {
          return 'Table';
        }
      }
      function bA(e) {
        const t = e.getSelectedElement();
        return t && wA(t) ? t : null;
      }
      function kA(e) {
        const t = e.getFirstPosition();
        if (!t) return null;
        let i = t.parent;
        for (; i; ) {
          if (i.is('element') && wA(i)) return i;
          i = i.parent;
        }
        return null;
      }
      function wA(e) {
        return !!e.getCustomProperty('table') && Vm(e);
      }
      class _A extends Vn {
        static get requires() {
          return [og];
        }
        static get pluginName() {
          return 'TableToolbar';
        }
        afterInit() {
          const e = this.editor,
            t = e.t,
            i = e.plugins.get(og),
            n = e.config.get('table.contentToolbar'),
            o = e.config.get('table.tableToolbar');
          n &&
            i.register('tableContent', {
              ariaLabel: t('Table toolbar'),
              items: n,
              getRelatedElement: kA,
            }),
            o &&
              i.register('table', {
                ariaLabel: t('Table toolbar'),
                items: o,
                getRelatedElement: bA,
              });
        }
      }
      var vA = i(645),
        yA = {attributes: {'data-cke': !0}};
      (yA.setAttributes = Qn()),
        (yA.insert = Yn().bind(null, 'head')),
        (yA.domAPI = qn()),
        (yA.insertStyleElement = Xn()),
        Zn()(vA.Z, yA),
        vA.Z && vA.Z.locals && vA.Z.locals;
      var xA = i(3105),
        AA = {attributes: {'data-cke': !0}};
      (AA.setAttributes = Qn()),
        (AA.insert = Yn().bind(null, 'head')),
        (AA.domAPI = qn()),
        (AA.insertStyleElement = Xn()),
        Zn()(xA.Z, AA),
        xA.Z && xA.Z.locals && xA.Z.locals;
      var CA = i(2385),
        EA = {attributes: {'data-cke': !0}};
      (EA.setAttributes = Qn()),
        (EA.insert = Yn().bind(null, 'head')),
        (EA.domAPI = qn()),
        (EA.insertStyleElement = Xn()),
        Zn()(CA.Z, EA),
        CA.Z && CA.Z.locals && CA.Z.locals;
      var TA = i(1341),
        SA = {attributes: {'data-cke': !0}};
      (SA.setAttributes = Qn()),
        (SA.insert = Yn().bind(null, 'head')),
        (SA.domAPI = qn()),
        (SA.insertStyleElement = Xn()),
        Zn()(TA.Z, SA),
        TA.Z && TA.Z.locals && TA.Z.locals;
      var IA = i(2168),
        PA = {attributes: {'data-cke': !0}};
      (PA.setAttributes = Qn()),
        (PA.insert = Yn().bind(null, 'head')),
        (PA.domAPI = qn()),
        (PA.insertStyleElement = Xn()),
        Zn()(IA.Z, PA),
        IA.Z && IA.Z.locals && IA.Z.locals,
        dd.alignLeft,
        dd.alignCenter,
        dd.alignRight,
        dd.alignJustify,
        dd.alignTop,
        dd.alignMiddle,
        dd.alignBottom;
      const MA = Gu.defaultPositions;
      MA.northArrowSouth,
        MA.northArrowSouthWest,
        MA.northArrowSouthEast,
        MA.southArrowNorth,
        MA.southArrowNorthWest,
        MA.southArrowNorthEast,
        MA.viewportStickyNorth;
      var RA = i(31),
        NA = {attributes: {'data-cke': !0}};
      function OA(e) {
        return !!e && e.is('element', 'table');
      }
      function DA(e) {
        for (const t of e.getChildren())
          if (t.is('element', 'caption')) return t;
        return null;
      }
      function VA(e) {
        const t = e.parent;
        return ('figcaption' == e.name &&
          t &&
          t.is('element', 'figure') &&
          t.hasClass('table')) ||
          ('caption' == e.name && t && t.is('element', 'table'))
          ? {name: !0}
          : null;
      }
      function LA(e) {
        const t = e.getSelectedElement();
        return t && t.is('element', 'table')
          ? t
          : e.getFirstPosition().findAncestor('table');
      }
      (NA.setAttributes = Qn()),
        (NA.insert = Yn().bind(null, 'head')),
        (NA.domAPI = qn()),
        (NA.insertStyleElement = Xn()),
        Zn()(RA.Z, NA),
        RA.Z && RA.Z.locals && RA.Z.locals,
        dd.objectLeft,
        dd.objectCenter,
        dd.objectRight;
      class zA extends zn {
        refresh() {
          const e = LA(this.editor.model.document.selection);
          (this.isEnabled = !!e),
            this.isEnabled ? (this.value = !!DA(e)) : (this.value = !1);
        }
        execute({focusCaptionOnShow: e = !1} = {}) {
          this.editor.model.change((t) => {
            this.value
              ? this._hideTableCaption(t)
              : this._showTableCaption(t, e);
          });
        }
        _showTableCaption(e, t) {
          const i = this.editor.model,
            n = LA(i.document.selection),
            o =
              this.editor.plugins
                .get('TableCaptionEditing')
                ._getSavedCaption(n) || e.createElement('caption');
          i.insertContent(o, n, 'end'), t && e.setSelection(o, 'in');
        }
        _hideTableCaption(e) {
          const t = this.editor.model,
            i = LA(t.document.selection),
            n = this.editor.plugins.get('TableCaptionEditing'),
            o = DA(i);
          n._saveCaption(i, o), t.deleteContent(e.createSelection(o, 'on'));
        }
      }
      class BA extends Vn {
        static get pluginName() {
          return 'TableCaptionEditing';
        }
        constructor(e) {
          super(e), (this._savedCaptionsMap = new WeakMap());
        }
        init() {
          const e = this.editor,
            t = e.model.schema,
            i = e.editing.view,
            n = e.t;
          var o;
          t.isRegistered('caption')
            ? t.extend('caption', {allowIn: 'table'})
            : t.register('caption', {
                allowIn: 'table',
                allowContentOf: '$block',
                isLimit: !0,
              }),
            e.commands.add('toggleTableCaption', new zA(this.editor)),
            e.conversion
              .for('upcast')
              .elementToElement({view: VA, model: 'caption'}),
            e.conversion.for('dataDowncast').elementToElement({
              model: 'caption',
              view: (e, {writer: t}) =>
                OA(e.parent) ? t.createContainerElement('figcaption') : null,
            }),
            e.conversion.for('editingDowncast').elementToElement({
              model: 'caption',
              view: (e, {writer: t}) => {
                if (!OA(e.parent)) return null;
                const o = t.createEditableElement('figcaption');
                return (
                  t.setCustomProperty('tableCaption', !0, o),
                  no({
                    view: i,
                    element: o,
                    text: n('Enter table caption'),
                    keepOnFocus: !0,
                  }),
                  jm(o, t)
                );
              },
            }),
            (o = e.model).document.registerPostFixer((e) =>
              (function (e, t) {
                const i = t.document.differ.getChanges();
                let n = !1;
                for (const t of i) {
                  if ('insert' != t.type) continue;
                  const i = t.position.parent;
                  if (i.is('element', 'table') || 'table' == t.name) {
                    const o = 'table' == t.name ? t.position.nodeAfter : i,
                      r = Array.from(o.getChildren()).filter((e) =>
                        e.is('element', 'caption')
                      ),
                      s = r.shift();
                    if (!s) continue;
                    for (const t of r)
                      e.move(e.createRangeIn(t), s, 'end'), e.remove(t);
                    s.nextSibling &&
                      (e.move(e.createRangeOn(s), o, 'end'), (n = !0)),
                      (n = !!r.length || n);
                  }
                }
                return n;
              })(e, o)
            );
        }
        _getSavedCaption(e) {
          const t = this._savedCaptionsMap.get(e);
          return t ? da.fromJSON(t) : null;
        }
        _saveCaption(e, t) {
          this._savedCaptionsMap.set(e, t.toJSON());
        }
      }
      class FA extends Vn {
        static get pluginName() {
          return 'TableCaptionUI';
        }
        init() {
          const e = this.editor,
            t = e.editing.view,
            i = e.t;
          e.ui.componentFactory.add('toggleTableCaption', (n) => {
            const o = e.commands.get('toggleTableCaption'),
              r = new Xd(n);
            return (
              r.set({icon: dd.caption, tooltip: !0, isToggleable: !0}),
              r.bind('isOn', 'isEnabled').to(o, 'value', 'isEnabled'),
              r
                .bind('label')
                .to(o, 'value', (e) =>
                  i(e ? 'Toggle caption off' : 'Toggle caption on')
                ),
              this.listenTo(r, 'execute', () => {
                if (
                  (e.execute('toggleTableCaption', {focusCaptionOnShow: !0}),
                  o.value)
                ) {
                  const i = (function (e) {
                      const t = LA(e);
                      return t ? DA(t) : null;
                    })(e.model.document.selection),
                    n = e.editing.mapper.toViewElement(i);
                  if (!n) return;
                  t.scrollToTheSelection(),
                    t.change((e) => {
                      e.addClass('table__caption_highlighted', n);
                    });
                }
                e.editing.view.focus();
              }),
              r
            );
          });
        }
      }
      var jA = i(4216),
        HA = {attributes: {'data-cke': !0}};
      (HA.setAttributes = Qn()),
        (HA.insert = Yn().bind(null, 'head')),
        (HA.domAPI = qn()),
        (HA.insertStyleElement = Xn()),
        Zn()(jA.Z, HA),
        jA.Z && jA.Z.locals && jA.Z.locals;
      class $A extends Vn {
        static get pluginName() {
          return 'TableCaption';
        }
        static get requires() {
          return [BA, FA];
        }
      }
      var UA = i(8534),
        ZA = {attributes: {'data-cke': !0}};
      function WA(e) {
        if (e.is('$text') || e.is('$textProxy')) return e.data;
        const t = e;
        let i = '',
          n = null;
        for (const e of t.getChildren()) {
          const t = WA(e);
          n && n.is('element') && (i += '\n'), (i += t), (n = e);
        }
        return i;
      }
      (ZA.setAttributes = Qn()),
        (ZA.insert = Yn().bind(null, 'head')),
        (ZA.domAPI = qn()),
        (ZA.insertStyleElement = Xn()),
        Zn()(UA.Z, ZA),
        UA.Z && UA.Z.locals && UA.Z.locals;
      class qA extends Vn {
        constructor(e) {
          super(e),
            this.set('characters', 0),
            this.set('words', 0),
            Object.defineProperties(this, {
              characters: {
                get() {
                  return (this.characters = this._getCharacters());
                },
              },
              words: {
                get() {
                  return (this.words = this._getWords());
                },
              },
            }),
            this.set('_wordsLabel', void 0),
            this.set('_charactersLabel', void 0),
            (this._config = e.config.get('wordCount') || {}),
            (this._outputView = void 0),
            (this._wordsMatchRegExp = n.features
              .isRegExpUnicodePropertySupported
              ? new RegExp('([\\p{L}\\p{N}]+\\S?)+', 'gu')
              : /([a-zA-Z0-9À-ž]+\S?)+/gu);
        }
        static get pluginName() {
          return 'WordCount';
        }
        init() {
          this.editor.model.document.on(
            'change:data',
            ug(this._refreshStats.bind(this), 250)
          ),
            'function' == typeof this._config.onUpdate &&
              this.on('update', (e, t) => {
                this._config.onUpdate(t);
              }),
            Ti(this._config.container) &&
              this._config.container.appendChild(this.wordCountContainer);
        }
        destroy() {
          this._outputView &&
            (this._outputView.element.remove(), this._outputView.destroy()),
            super.destroy();
        }
        get wordCountContainer() {
          const e = this.editor,
            t = e.t,
            i = e.config.get('wordCount.displayWords'),
            n = e.config.get('wordCount.displayCharacters'),
            o = Ed.bind(this, this),
            r = [];
          return (
            this._outputView ||
              ((this._outputView = new Cd()),
              (i || void 0 === i) &&
                (this.bind('_wordsLabel').to(this, 'words', (e) =>
                  t('Words: %0', e)
                ),
                r.push({
                  tag: 'div',
                  children: [{text: [o.to('_wordsLabel')]}],
                  attributes: {class: 'ck-word-count__words'},
                })),
              (n || void 0 === n) &&
                (this.bind('_charactersLabel').to(this, 'characters', (e) =>
                  t('Characters: %0', e)
                ),
                r.push({
                  tag: 'div',
                  children: [{text: [o.to('_charactersLabel')]}],
                  attributes: {class: 'ck-word-count__characters'},
                })),
              this._outputView.setTemplate({
                tag: 'div',
                attributes: {class: ['ck', 'ck-word-count']},
                children: r,
              }),
              this._outputView.render()),
            this._outputView.element
          );
        }
        _getCharacters() {
          return WA(this.editor.model.document.getRoot()).replace(/\n/g, '')
            .length;
        }
        _getWords() {
          return (
            WA(this.editor.model.document.getRoot()).match(
              this._wordsMatchRegExp
            ) || []
          ).length;
        }
        _refreshStats() {
          const e = (this.words = this._getWords()),
            t = (this.characters = this._getCharacters());
          this.fire('update', {words: e, characters: t});
        }
      }
      class GA extends __ {
        static get pluginName() {
          return 'CraftLinkUI';
        }
        constructor() {
          super(...arguments), this.editor.config.define('linkOptions', []);
        }
        _createToolbarLinkButton() {
          const e = this.editor,
            t = e.config.get('linkOptions');
          if (!t || !t.length) return super._createToolbarLinkButton();
          const i = e.commands.get('link'),
            n = e.t;
          e.ui.componentFactory.add('link', (e) => {
            const o = zu(e, fu),
              r = o.buttonView;
            return (
              (r.isEnabled = !0),
              (r.label = n('Link')),
              (r.icon = k_),
              (r.keystroke = qw),
              (r.tooltip = !0),
              (r.isToggleable = !0),
              this.listenTo(r, 'execute', () => this._showUI(!0)),
              o.on('execute', (e) => {
                const t = e.source.linkOption;
                this._showElementSelectorModal(t);
              }),
              (o.class = 'ck-code-block-dropdown'),
              o.bind('isEnabled').to(i, 'isEnabled'),
              r.bind('isOn').to(i, 'value', (e) => !!e),
              ju(o, () => this._getLinkListItemDefinitions(t)),
              o
            );
          });
        }
        _getLinkListItemDefinitions(e) {
          const t = new Tn();
          for (const i of e) {
            const e = {
              type: 'button',
              model: new Ah({label: i.label, linkOption: i, withText: !0}),
            };
            t.add(e);
          }
          return t;
        }
        _showElementSelectorModal(e) {
          const t = this.editor,
            i = t.model,
            n = i.document.selection,
            o = n.isCollapsed,
            r = n.getFirstRange(),
            s = () => {
              t.editing.view.focus(),
                !o &&
                  r &&
                  i.change((e) => {
                    e.setSelection(r);
                  }),
                this._hideFakeVisualSelection();
            };
          this._getSelectedLinkElement() || this._showFakeVisualSelection(),
            Craft.createElementSelectorModal(e.elementType, {
              storageKey: `ckeditor:${this.pluginName}:${e.elementType}`,
              sources: e.sources,
              criteria: e.criteria,
              defaultSiteId: t.config.get('elementSiteId'),
              autoFocusSearchBox: !1,
              onSelect: (a) => {
                if (a.length) {
                  const s = a[0],
                    l = `${s.url}#${e.refHandle}:${s.id}@${s.siteId}`;
                  t.editing.view.focus(),
                    !o && r
                      ? (i.change((e) => {
                          e.setSelection(r);
                        }),
                        t.commands.get('link').execute(l))
                      : i.change((e) => {
                          e.insertText(
                            s.label,
                            {linkHref: l},
                            n.getFirstPosition()
                          );
                        }),
                    this._hideFakeVisualSelection(),
                    setTimeout(() => {
                      t.editing.view.focus();
                    }, 100);
                } else s();
              },
              onCancel: () => {
                s();
              },
              closeOtherModals: !1,
            });
        }
      }
      class YA extends Mf {
        static get pluginName() {
          return 'CraftImageInsertUI';
        }
        init() {
          if (!this._linkOption)
            return void console.warn(
              'Omitting the "image" CKEditor toolbar button, because there aren’t any permitted volumes.'
            );
          const e = this.editor.ui.componentFactory,
            t = (e) => this._createToolbarImageButton(e);
          e.add('insertImage', t), e.add('imageInsert', t);
        }
        get _linkOption() {
          return this.editor.config
            .get('linkOptions')
            .find((e) => 'craft\\elements\\Asset' === e.elementType);
        }
        _createToolbarImageButton(e) {
          const t = this.editor,
            i = t.t,
            n = new Xd(e);
          (n.isEnabled = !0),
            (n.label = i('Insert image')),
            (n.icon = dd.image),
            (n.tooltip = !0);
          const o = t.commands.get('insertImage');
          return (
            n.bind('isEnabled').to(o),
            this.listenTo(n, 'execute', () => this._showImageSelectModal()),
            n
          );
        }
        _showImageSelectModal() {
          const e = this.editor,
            t = e.config,
            i = this._linkOption;
          Craft.createElementSelectorModal(i.elementType, {
            storageKey: `ckeditor:${this.pluginName}:${i.elementType}`,
            sources: i.sources,
            criteria: Object.assign({}, i.criteria, {kind: 'image'}),
            defaultSiteId: t.get('elementSiteId'),
            transforms: t.get('transforms'),
            multiSelect: !0,
            autoFocusSearchBox: !1,
            onSelect: (t, i) => {
              this._processAssetUrls(t, i).then(() => {
                e.editing.view.focus();
              });
            },
            onHide: () => {
              e.editing.view.focus();
            },
            closeOtherModals: !1,
          });
        }
        _processAssetUrls(e, t) {
          return new Promise((i) => {
            if (!e.length) return void i();
            const n = this.editor,
              o = n.config.get('defaultTransform'),
              r = new Craft.Queue(),
              s = [];
            r.on('afterRun', () => {
              n.execute('insertImage', {source: s}), i();
            });
            for (const i of e)
              r.push(
                () =>
                  new Promise((e) => {
                    const n = this._isTransformUrl(i.url);
                    if (!n && o)
                      this._getTransformUrl(i.id, o, (t) => {
                        s.push(t), e();
                      });
                    else {
                      const r = this._buildAssetUrl(i.id, i.url, n ? t : o);
                      s.push(r), e();
                    }
                  })
              );
          });
        }
        _buildAssetUrl(e, t, i) {
          return `${t}#asset:${e}:${i ? 'transform:' + i : 'url'}`;
        }
        _removeTransformFromUrl(e) {
          return e.replace(/(^|\/)(_[^\/]+\/)([^\/]+)$/, '$1$3');
        }
        _isTransformUrl(e) {
          return /(^|\/)_[^\/]+\/[^\/]+$/.test(e);
        }
        _getTransformUrl(e, t, i) {
          var n = {assetId: e, handle: t};
          Craft.sendActionRequest('POST', 'assets/generate-transform', {
            data: n,
          })
            .then((e) => {
              const t = e.data && e.data.url;
              t && i(t);
            })
            .catch(({response: e}) => {
              alert('There was an error generating the transform URL.');
            });
        }
        _getAssetUrlComponents(e) {
          const t = e.match(
            /(.*)#asset:(\d+):(url|transform):?([a-zA-Z][a-zA-Z0-9_]*)?/
          );
          return t
            ? {
                url: t[1],
                assetId: t[2],
                transform: 'url' !== t[3] ? t[4] : null,
              }
            : null;
        }
      }
      (mb.builtinPlugins = []),
        (window.Ckeditor = {
          Plugin: Vn,
          ClassicEditor: mb,
          create: async function (e, t) {
            'string' == typeof e && (e = document.querySelector(`#${e}`));
            const i = await this.ClassicEditor.create(
              e,
              Object.assign(
                {
                  plugins: [
                    $h,
                    Lg,
                    x_,
                    sp,
                    pp,
                    yp,
                    Ip,
                    Nb,
                    Fb,
                    rk,
                    Zk,
                    sw,
                    hw,
                    Gk,
                    _w,
                    lf,
                    ff,
                    tp,
                    ip,
                    Cw,
                    Op,
                    l_,
                    M_,
                    Tv,
                    ry,
                    sy,
                    hy,
                    Jk,
                    Ay,
                    Bb,
                    Iy,
                    Bp,
                    Ky,
                    Up,
                    Yp,
                    pA,
                    $A,
                    _A,
                    Bv,
                    eb,
                    qA,
                    YA,
                    GA,
                  ],
                },
                t
              )
            );
            return (
              i.model.document.on('change', () => {
                i.updateSourceElement();
              }),
              i
            );
          },
        });
    })();
})();
