!function(){var e={880:function(){},778:function(e,t,r){var n=r(880);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),(0,r(673).Z)("4690113c",n,!0,{})},673:function(e,t,r){"use strict";function n(e,t){for(var r=[],n={},o=0;o<t.length;o++){var i=t[o],a=i[0],s={id:e+":"+o,css:i[1],media:i[2],sourceMap:i[3]};n[a]?n[a].parts.push(s):r.push(n[a]={id:a,parts:[s]})}return r}r.d(t,{Z:function(){return g}});var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},a=o&&(document.head||document.getElementsByTagName("head")[0]),s=null,u=0,l=!1,d=function(){},c=null,f="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function g(e,t,r,o){l=r,c=o||{};var a=n(e,t);return h(a),function(t){for(var r=[],o=0;o<a.length;o++){var s=a[o];(u=i[s.id]).refs--,r.push(u)}for(t?h(a=n(e,t)):a=[],o=0;o<r.length;o++){var u;if(0===(u=r[o]).refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete i[u.id]}}}}function h(e){for(var t=0;t<e.length;t++){var r=e[t],n=i[r.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](r.parts[o]);for(;o<r.parts.length;o++)n.parts.push(v(r.parts[o]));n.parts.length>r.parts.length&&(n.parts.length=r.parts.length)}else{var a=[];for(o=0;o<r.parts.length;o++)a.push(v(r.parts[o]));i[r.id]={id:r.id,refs:1,parts:a}}}}function m(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function v(e){var t,r,n=document.querySelector("style["+f+'~="'+e.id+'"]');if(n){if(l)return d;n.parentNode.removeChild(n)}if(p){var o=u++;n=s||(s=m()),t=C.bind(null,n,o,!1),r=C.bind(null,n,o,!0)}else n=m(),t=$.bind(null,n),r=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else r()}}var y,b=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function C(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=b(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function $(e,t){var r=t.css,n=t.media,o=t.sourceMap;if(n&&e.setAttribute("media",n),c.ssrId&&e.setAttribute(f,t.id),o&&(r+="\n/*# sourceURL="+o.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,exports:{}};return e[n](i,i.exports,r),i.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";r(778);var e=jQuery,t=r.n(e);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=a(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw i}}}}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Ckeditor.ToolbarBuilder=Garnish.Base.extend({$sourceContainer:null,$targetContainer:null,$input:null,value:null,components:null,drag:null,$items:null,draggingSourceItem:null,draggingSeparator:null,$insertion:null,showingInsertion:!1,closestItem:null,init:function(e){var r=this;this.$sourceContainer=t()("#".concat(e," .ckeditor-tb--source .ck-toolbar__items")),this.$targetContainer=t()("#".concat(e," .ckeditor-tb--target .ck-toolbar__items")),this.$input=t()("#".concat(e," input")),this.value=JSON.parse(this.$input.val());var n=document.createElement("DIV"),a=document.createElement("DIV");n.appendChild(a),Ckeditor.create(a,{linkOptions:[{elementType:"craft\\elements\\Asset"}]}).then((function(e){var n=e.ui.componentFactory,a=Array.from(n.names());r.components={};for(var s=0,l=a;s<l.length;s++){var d=l[s];r.components[d]=n.create(d)}for(var c=["heading","alignment","bold","italic","underline","strikethrough","subscript","superscript","code","link","insertImage","mediaEmbed","htmlEmbed","blockQuote","insertTable","codeBlock","bulletedList","numberedList","todoList",["outdent","indent"],"horizontalLine","pageBreak","style","selectAll","findAndReplace",["undo","redo"],"sourceEditing"],f=function(e){"string"==typeof c[e]&&(c[e]=[c[e]]);var t=c[e];if(t.length>1){var n=r.value.findIndex((function(e){return t.includes(e)}));if(-1!==n)for(var i=0;i<t.length;i++)if(r.value[n+i]!==t[i]){c.splice.apply(c,[e,1].concat(o(t.map((function(e){return[e]}))))),e+=t.length-1;break}}p=e},p=0;p<c.length;p++)f(p);r.drag=new Garnish.DragDrop({dropTargets:r.$targetContainer,helper:function(e){var r=t()('<div class="offset-drag-helper ck ck-reset_all ck-editor ck-rounded-corners"/>'),n=t()('<div class="ck ck-toolbar"/>').appendTo(r);return e.appendTo(n),r},moveHelperToCursor:!0,onDragStart:function(){Garnish.$bod.addClass("dragging");var e=r.drag.$draggee;if(r.draggingSourceItem=t().contains(r.$sourceContainer[0],e[0]),r.draggingSeparator=e.hasClass("ckeditor-tb--separator"),r.$insertion=t()('<div class="ckeditor-tb--insertion"/>').css({width:e.outerWidth()}),r.draggingSourceItem)if(r.draggingSeparator)e.css("visibility","");else{var n="ltr"===Craft.orientation?"margin-right":"margin-left",o=-1*e.outerWidth();e.stop().velocity(u({},n,o),200,(function(){e.addClass("hidden")}))}else e.addClass("hidden"),r.$insertion.insertBefore(e),r.showingInsertion=!0;r.setMidpoints()},onDrag:function(){r.checkForNewClosestItem()},onDragStop:function(){Garnish.$bod.removeClass("dragging");var e=r.drag.$draggee;if(r.checkForNewClosestItem(),r.showingInsertion){var n;r.draggingSourceItem?((n=r.draggingSeparator?r.renderSeparator():r.renderComponentGroup(e.data("componentNames"))).data("sourceItem",e[0]),n.css("visibility","hidden"),r.$insertion.replaceWith(n),r.drag.$draggee=n):(r.$insertion.replaceWith(e),e.removeClass("hidden"))}else{if(!r.draggingSourceItem){var a=t()(e.data("sourceItem"));e.remove(),r.drag.$draggee=e=a}if(!r.draggingSeparator){e.removeClass("hidden");var s="ltr"===Craft.orientation?"margin-right":"margin-left",l=e.css(s);e.css(s,"");var d=e.css(s);e.css(s,l),e.stop().velocity(u({},s,d),200,(function(){e.css(s,"")}))}}r.drag.returnHelpersToDraggees(),r.$items=r.$targetContainer.children(),r.value=[];var c,f=i(r.$items.toArray());try{for(f.s();!(c=f.n()).done;){var p,g=c.value,h=t()(g);h.hasClass("ckeditor-tb--separator")?r.value.push("|"):(p=r.value).push.apply(p,o(h.data("componentNames")))}}catch(e){f.e(e)}finally{f.f()}r.$input.val(JSON.stringify(r.value))}});for(var g={},h=0,m=c;h<m.length;h++){var v=m[h],y=r.renderComponentGroup(v).appendTo(r.$sourceContainer);g[v.join(",")]=y[0],r.value.includes(v[0])&&y.addClass("hidden")}g["|"]=r.renderSeparator().appendTo(r.$sourceContainer)[0],r.$items=t()();for(var b=function(e){var t,n,o=r.value[e];if("|"===o)t=r.renderSeparator().appendTo(r.$targetContainer),n="|";else{var i=c.find((function(e){return e.includes(o)}));if(!i)return C=e,"continue";t=r.renderComponentGroup(i).appendTo(r.$targetContainer),n=i.join(","),e+=i.length-1}t.data("sourceItem",g[n]),r.$items=r.$items.add(t),C=e},C=0;C<r.value.length;C++)b(C)}))},renderSeparator:function(){var e=t()('<div class="ckeditor-tb--item ckeditor-tb--separator" data-cke-tooltip-text="Separator"><span class="ck ck-toolbar__separator"/></div>');return this.drag.addItems(e),e},renderComponentGroup:function(e){var r,n=[],o=t()('<div class="ckeditor-tb--item"/>'),a=i(e);try{for(a.s();!(r=a.n()).done;){var s=r.value,u=this.renderComponent(s).appendTo(o),l=(u.is("[data-cke-tooltip-text]")?u:u.find("[data-cke-tooltip-text]")).attr("data-cke-tooltip-text");n.push(l?l.replace(/ \(.*\)$/,""):"".concat(s[0].toUpperCase()).concat(s.slice(1)))}}catch(e){a.e(e)}finally{a.f()}return o.attr("data-cke-tooltip-text",n.join(", ")),o.data("componentNames",e),this.drag.addItems(o),o},renderComponent:function(e){var r=this.components[e];if(!r)throw"Missing component ".concat(e);r.isRendered||r.render();var n=t()(r.element.outerHTML);return n.data("componentName",e),n},getClosestItem:function(){var e=this;if(!Garnish.hitTest(this.drag.mouseX,this.drag.mouseY,this.$targetContainer))return!1;if(!this.$items.length)return null;var r=this.$items.toArray();this.showingInsertion&&r.push(this.$insertion[0]);var n=r.map((function(r){var n=t().data(r,"midpoint");return Garnish.getDist(n.left,n.top,e.drag.mouseX,e.drag.mouseY)})),i=Math.min.apply(Math,o(n));return r[n.indexOf(i)]},checkForNewClosestItem:function(){var e=this.getClosestItem();!1!==e?e!==this.$insertion[0]&&(e?this.drag.mouseX<t().data(e,"midpoint").left?this.$insertion.insertBefore(e):this.$insertion.insertAfter(e):this.$insertion.appendTo(this.$targetContainer),this.showingInsertion=!0,this.setMidpoints()):this.showingInsertion&&(this.$insertion.remove(),this.showingInsertion=!1)},setMidpoints:function(){var e=this.$items.toArray();this.showingInsertion&&e.push(this.$insertion[0]);var r,n=i(e);try{for(n.s();!(r=n.n()).done;){var o=r.value,a=t()(o),s=a.offset(),u=s.left+a.outerWidth()/2,l=s.top+a.outerHeight()/2;a.data("midpoint",{left:u,top:l})}}catch(e){n.e(e)}finally{n.f()}}})}()}();
//# sourceMappingURL=ckeconfig.js.map